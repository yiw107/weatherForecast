!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("mapboxgl")):"function"==typeof define&&define.amd?define(["mapboxgl"],t):"object"==typeof exports?exports.meteoblueMapsPlugin=t(require("mapboxgl")):e.meteoblueMapsPlugin=t(e.mapboxgl)}(self,(function(e){return function(){var t={9662:function(e,t,n){var r=n(7854),i=n(614),o=n(6330),a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a function")}},9483:function(e,t,n){var r=n(7854),i=n(4411),o=n(6330),a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not a constructor")}},6077:function(e,t,n){var r=n(7854),i=n(614),o=r.String,a=r.TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw a("Can't set "+o(e)+" as a prototype")}},1223:function(e,t,n){var r=n(5112),i=n(30),o=n(3070),a=r("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},1530:function(e,t,n){"use strict";var r=n(8710).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},5787:function(e,t,n){var r=n(7854),i=n(7976),o=r.TypeError;e.exports=function(e,t){if(i(t,e))return e;throw o("Incorrect invocation")}},9670:function(e,t,n){var r=n(7854),i=n(111),o=r.String,a=r.TypeError;e.exports=function(e){if(i(e))return e;throw a(o(e)+" is not an object")}},4019:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(e,t,n){"use strict";var r,i,o,a=n(4019),s=n(9781),u=n(7854),c=n(614),l=n(111),d=n(2597),f=n(648),p=n(6330),h=n(8880),m=n(1320),v=n(3070).f,g=n(7976),y=n(9518),b=n(7674),A=n(5112),x=n(9711),w=u.Int8Array,D=w&&w.prototype,S=u.Uint8ClampedArray,C=S&&S.prototype,T=w&&y(w),E=D&&y(D),_=Object.prototype,L=u.TypeError,P=A("toStringTag"),O=x("TYPED_ARRAY_TAG"),F=x("TYPED_ARRAY_CONSTRUCTOR"),B=a&&!!b&&"Opera"!==f(u.opera),M=!1,I={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},k={BigInt64Array:8,BigUint64Array:8},R=function(e){if(!l(e))return!1;var t=f(e);return d(I,t)||d(k,t)};for(r in I)(o=(i=u[r])&&i.prototype)?h(o,F,i):B=!1;for(r in k)(o=(i=u[r])&&i.prototype)&&h(o,F,i);if((!B||!c(T)||T===Function.prototype)&&(T=function(){throw L("Incorrect invocation")},B))for(r in I)u[r]&&b(u[r],T);if((!B||!E||E===_)&&(E=T.prototype,B))for(r in I)u[r]&&b(u[r].prototype,E);if(B&&y(C)!==E&&b(C,E),s&&!d(E,P))for(r in M=!0,v(E,P,{get:function(){return l(this)?this[O]:void 0}}),I)u[r]&&h(u[r],O,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:B,TYPED_ARRAY_CONSTRUCTOR:F,TYPED_ARRAY_TAG:M&&O,aTypedArray:function(e){if(R(e))return e;throw L("Target is not a typed array")},aTypedArrayConstructor:function(e){if(c(e)&&(!b||g(T,e)))return e;throw L(p(e)+" is not a typed array constructor")},exportTypedArrayMethod:function(e,t,n){if(s){if(n)for(var r in I){var i=u[r];if(i&&d(i.prototype,e))try{delete i.prototype[e]}catch(e){}}E[e]&&!n||m(E,e,n?t:B&&D[e]||t)}},exportTypedArrayStaticMethod:function(e,t,n){var r,i;if(s){if(b){if(n)for(r in I)if((i=u[r])&&d(i,e))try{delete i[e]}catch(e){}if(T[e]&&!n)return;try{return m(T,e,n?t:B&&T[e]||t)}catch(e){}}for(r in I)!(i=u[r])||i[e]&&!n||m(i,e,t)}},isView:function(e){if(!l(e))return!1;var t=f(e);return"DataView"===t||d(I,t)||d(k,t)},isTypedArray:R,TypedArray:T,TypedArrayPrototype:E}},3331:function(e,t,n){"use strict";var r=n(7854),i=n(1702),o=n(9781),a=n(4019),s=n(6530),u=n(8880),c=n(2248),l=n(7293),d=n(5787),f=n(9303),p=n(7466),h=n(7067),m=n(1179),v=n(9518),g=n(7674),y=n(8006).f,b=n(3070).f,A=n(1285),x=n(206),w=n(8003),D=n(9909),S=s.PROPER,C=s.CONFIGURABLE,T=D.get,E=D.set,_="ArrayBuffer",L="Wrong index",P=r.ArrayBuffer,O=P,F=O&&O.prototype,B=r.DataView,M=B&&B.prototype,I=Object.prototype,k=r.Array,R=r.RangeError,U=i(A),N=i([].reverse),j=m.pack,W=m.unpack,z=function(e){return[255&e]},H=function(e){return[255&e,e>>8&255]},V=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},G=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Z=function(e){return j(e,23,4)},X=function(e){return j(e,52,8)},q=function(e,t){b(e.prototype,t,{get:function(){return T(this)[t]}})},Y=function(e,t,n,r){var i=h(n),o=T(e);if(i+t>o.byteLength)throw R(L);var a=T(o.buffer).bytes,s=i+o.byteOffset,u=x(a,s,s+t);return r?u:N(u)},J=function(e,t,n,r,i,o){var a=h(n),s=T(e);if(a+t>s.byteLength)throw R(L);for(var u=T(s.buffer).bytes,c=a+s.byteOffset,l=r(+i),d=0;d<t;d++)u[c+d]=l[o?d:t-d-1]};if(a){var K=S&&P.name!==_;if(l((function(){P(1)}))&&l((function(){new P(-1)}))&&!l((function(){return new P,new P(1.5),new P(NaN),K&&!C})))K&&C&&u(P,"name",_);else{(O=function(e){return d(this,F),new P(h(e))}).prototype=F;for(var $,Q=y(P),ee=0;Q.length>ee;)($=Q[ee++])in O||u(O,$,P[$]);F.constructor=O}g&&v(M)!==I&&g(M,I);var te=new B(new O(2)),ne=i(M.setInt8);te.setInt8(0,2147483648),te.setInt8(1,2147483649),!te.getInt8(0)&&te.getInt8(1)||c(M,{setInt8:function(e,t){ne(this,e,t<<24>>24)},setUint8:function(e,t){ne(this,e,t<<24>>24)}},{unsafe:!0})}else F=(O=function(e){d(this,F);var t=h(e);E(this,{bytes:U(k(t),0),byteLength:t}),o||(this.byteLength=t)}).prototype,M=(B=function(e,t,n){d(this,M),d(e,F);var r=T(e).byteLength,i=f(t);if(i<0||i>r)throw R("Wrong offset");if(i+(n=void 0===n?r-i:p(n))>r)throw R("Wrong length");E(this,{buffer:e,byteLength:n,byteOffset:i}),o||(this.buffer=e,this.byteLength=n,this.byteOffset=i)}).prototype,o&&(q(O,"byteLength"),q(B,"buffer"),q(B,"byteLength"),q(B,"byteOffset")),c(M,{getInt8:function(e){return Y(this,1,e)[0]<<24>>24},getUint8:function(e){return Y(this,1,e)[0]},getInt16:function(e){var t=Y(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=Y(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return G(Y(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return G(Y(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return W(Y(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return W(Y(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){J(this,1,e,z,t)},setUint8:function(e,t){J(this,1,e,z,t)},setInt16:function(e,t){J(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){J(this,2,e,H,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){J(this,4,e,V,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){J(this,4,e,V,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){J(this,4,e,Z,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){J(this,8,e,X,t,arguments.length>2?arguments[2]:void 0)}});w(O,_),w(B,"DataView"),e.exports={ArrayBuffer:O,DataView:B}},1048:function(e,t,n){"use strict";var r=n(7908),i=n(1400),o=n(6244),a=Math.min;e.exports=[].copyWithin||function(e,t){var n=r(this),s=o(n),u=i(e,s),c=i(t,s),l=arguments.length>2?arguments[2]:void 0,d=a((void 0===l?s:i(l,s))-c,s-u),f=1;for(c<u&&u<c+d&&(f=-1,c+=d-1,u+=d-1);d-- >0;)c in n?n[u]=n[c]:delete n[u],u+=f,c+=f;return n}},1285:function(e,t,n){"use strict";var r=n(7908),i=n(1400),o=n(6244);e.exports=function(e){for(var t=r(this),n=o(t),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}},8533:function(e,t,n){"use strict";var r=n(2092).forEach,i=n(9341)("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},7745:function(e){e.exports=function(e,t){for(var n=0,r=t.length,i=new e(r);r>n;)i[n]=t[n++];return i}},8457:function(e,t,n){"use strict";var r=n(7854),i=n(9974),o=n(6916),a=n(7908),s=n(3411),u=n(7659),c=n(4411),l=n(6244),d=n(6135),f=n(8554),p=n(1246),h=r.Array;e.exports=function(e){var t=a(e),n=c(this),r=arguments.length,m=r>1?arguments[1]:void 0,v=void 0!==m;v&&(m=i(m,r>2?arguments[2]:void 0));var g,y,b,A,x,w,D=p(t),S=0;if(!D||this==h&&u(D))for(g=l(t),y=n?new this(g):h(g);g>S;S++)w=v?m(t[S],S):t[S],d(y,S,w);else for(x=(A=f(t,D)).next,y=n?new this:[];!(b=o(x,A)).done;S++)w=v?s(A,m,[b.value,S],!0):b.value,d(y,S,w);return y.length=S,y}},1318:function(e,t,n){var r=n(5656),i=n(1400),o=n(6244),a=function(e){return function(t,n,a){var s,u=r(t),c=o(u),l=i(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},2092:function(e,t,n){var r=n(9974),i=n(1702),o=n(8361),a=n(7908),s=n(6244),u=n(5417),c=i([].push),l=function(e){var t=1==e,n=2==e,i=3==e,l=4==e,d=6==e,f=7==e,p=5==e||d;return function(h,m,v,g){for(var y,b,A=a(h),x=o(A),w=r(m,v),D=s(x),S=0,C=g||u,T=t?C(h,D):n||f?C(h,0):void 0;D>S;S++)if((p||S in x)&&(b=w(y=x[S],S,A),e))if(t)T[S]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return S;case 2:c(T,y)}else switch(e){case 4:return!1;case 7:c(T,y)}return d?-1:i||l?l:T}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},6583:function(e,t,n){"use strict";var r=n(2104),i=n(5656),o=n(9303),a=n(6244),s=n(9341),u=Math.min,c=[].lastIndexOf,l=!!c&&1/[1].lastIndexOf(1,-0)<0,d=s("lastIndexOf"),f=l||!d;e.exports=f?function(e){if(l)return r(c,this,arguments)||0;var t=i(this),n=a(t),s=n-1;for(arguments.length>1&&(s=u(s,o(arguments[1]))),s<0&&(s=n+s);s>=0;s--)if(s in t&&t[s]===e)return s||0;return-1}:c},1194:function(e,t,n){var r=n(7293),i=n(5112),o=n(7392),a=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[];return(t.constructor={})[a]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},9341:function(e,t,n){"use strict";var r=n(7293);e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){throw 1},1)}))}},3671:function(e,t,n){var r=n(7854),i=n(9662),o=n(7908),a=n(8361),s=n(6244),u=r.TypeError,c=function(e){return function(t,n,r,c){i(n);var l=o(t),d=a(l),f=s(l),p=e?f-1:0,h=e?-1:1;if(r<2)for(;;){if(p in d){c=d[p],p+=h;break}if(p+=h,e?p<0:f<=p)throw u("Reduce of empty array with no initial value")}for(;e?p>=0:f>p;p+=h)p in d&&(c=n(c,d[p],p,l));return c}};e.exports={left:c(!1),right:c(!0)}},206:function(e,t,n){var r=n(1702);e.exports=r([].slice)},4362:function(e,t,n){var r=n(206),i=Math.floor,o=function(e,t){var n=e.length,u=i(n/2);return n<8?a(e,t):s(e,o(r(e,0,u),t),o(r(e,u),t),t)},a=function(e,t){for(var n,r,i=e.length,o=1;o<i;){for(r=o,n=e[o];r&&t(e[r-1],n)>0;)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},s=function(e,t,n,r){for(var i=t.length,o=n.length,a=0,s=0;a<i||s<o;)e[a+s]=a<i&&s<o?r(t[a],n[s])<=0?t[a++]:n[s++]:a<i?t[a++]:n[s++];return e};e.exports=o},7475:function(e,t,n){var r=n(7854),i=n(3157),o=n(4411),a=n(111),s=n(5112)("species"),u=r.Array;e.exports=function(e){var t;return i(e)&&(t=e.constructor,(o(t)&&(t===u||i(t.prototype))||a(t)&&null===(t=t[s]))&&(t=void 0)),void 0===t?u:t}},5417:function(e,t,n){var r=n(7475);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},3411:function(e,t,n){var r=n(9670),i=n(9212);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){i(e,"throw",t)}}},7072:function(e,t,n){var r=n(5112)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},4326:function(e,t,n){var r=n(1702),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},648:function(e,t,n){var r=n(7854),i=n(1694),o=n(614),a=n(4326),s=n(5112)("toStringTag"),u=r.Object,c="Arguments"==a(function(){return arguments}());e.exports=i?a:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=u(e),s))?n:c?a(t):"Object"==(r=a(t))&&o(t.callee)?"Arguments":r}},5631:function(e,t,n){"use strict";var r=n(3070).f,i=n(30),o=n(2248),a=n(9974),s=n(5787),u=n(408),c=n(654),l=n(6340),d=n(9781),f=n(2423).fastKey,p=n(9909),h=p.set,m=p.getterFor;e.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){s(e,p),h(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=r&&u(r,e[c],{that:e,AS_ENTRIES:n})})),p=l.prototype,v=m(t),g=function(e,t,n){var r,i,o=v(e),a=y(e,t);return a?a.value=n:(o.last=a={index:i=f(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),d?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},y=function(e,t){var n,r=v(e),i=f(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(p,{clear:function(){for(var e=v(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=this,n=v(t),r=y(t,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),d?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=v(this),r=a(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!y(this,e)}}),o(p,n?{get:function(e){var t=y(this,e);return t&&t.value},set:function(e,t){return g(this,0===e?0:e,t)}}:{add:function(e){return g(this,e=0===e?0:e,e)}}),d&&r(p,"size",{get:function(){return v(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",i=m(t),o=m(r);c(e,t,(function(e,t){h(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},7710:function(e,t,n){"use strict";var r=n(2109),i=n(7854),o=n(1702),a=n(4705),s=n(1320),u=n(2423),c=n(408),l=n(5787),d=n(614),f=n(111),p=n(7293),h=n(7072),m=n(8003),v=n(9587);e.exports=function(e,t,n){var g=-1!==e.indexOf("Map"),y=-1!==e.indexOf("Weak"),b=g?"set":"add",A=i[e],x=A&&A.prototype,w=A,D={},S=function(e){var t=o(x[e]);s(x,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(y&&!f(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return y&&!f(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(y&&!f(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(a(e,!d(A)||!(y||x.forEach&&!p((function(){(new A).entries().next()})))))w=n.getConstructor(t,e,g,b),u.enable();else if(a(e,!0)){var C=new w,T=C[b](y?{}:-0,1)!=C,E=p((function(){C.has(1)})),_=h((function(e){new A(e)})),L=!y&&p((function(){for(var e=new A,t=5;t--;)e[b](t,t);return!e.has(-0)}));_||((w=t((function(e,t){l(e,x);var n=v(new A,e,w);return null!=t&&c(t,n[b],{that:n,AS_ENTRIES:g}),n}))).prototype=x,x.constructor=w),(E||L)&&(S("delete"),S("has"),g&&S("get")),(L||T)&&S(b),y&&x.clear&&delete x.clear}return D[e]=w,r({global:!0,forced:w!=A},D),m(w,e),y||n.setStrong(w,e,g),w}},9920:function(e,t,n){var r=n(2597),i=n(3887),o=n(1236),a=n(3070);e.exports=function(e,t){for(var n=i(t),s=a.f,u=o.f,c=0;c<n.length;c++){var l=n[c];r(e,l)||s(e,l,u(t,l))}}},4964:function(e,t,n){var r=n(5112)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},8544:function(e,t,n){var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4994:function(e,t,n){"use strict";var r=n(3383).IteratorPrototype,i=n(30),o=n(9114),a=n(8003),s=n(7497),u=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,c,!1,!0),s[c]=u,e}},8880:function(e,t,n){var r=n(9781),i=n(3070),o=n(9114);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},6135:function(e,t,n){"use strict";var r=n(4948),i=n(3070),o=n(9114);e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},654:function(e,t,n){"use strict";var r=n(2109),i=n(6916),o=n(1913),a=n(6530),s=n(614),u=n(4994),c=n(9518),l=n(7674),d=n(8003),f=n(8880),p=n(1320),h=n(5112),m=n(7497),v=n(3383),g=a.PROPER,y=a.CONFIGURABLE,b=v.IteratorPrototype,A=v.BUGGY_SAFARI_ITERATORS,x=h("iterator"),w="keys",D="values",S="entries",C=function(){return this};e.exports=function(e,t,n,a,h,v,T){u(n,t,a);var E,_,L,P=function(e){if(e===h&&I)return I;if(!A&&e in B)return B[e];switch(e){case w:case D:case S:return function(){return new n(this,e)}}return function(){return new n(this)}},O=t+" Iterator",F=!1,B=e.prototype,M=B[x]||B["@@iterator"]||h&&B[h],I=!A&&M||P(h),k="Array"==t&&B.entries||M;if(k&&(E=c(k.call(new e)))!==Object.prototype&&E.next&&(o||c(E)===b||(l?l(E,b):s(E[x])||p(E,x,C)),d(E,O,!0,!0),o&&(m[O]=C)),g&&h==D&&M&&M.name!==D&&(!o&&y?f(B,"name",D):(F=!0,I=function(){return i(M,this)})),h)if(_={values:P(D),keys:v?I:P(w),entries:P(S)},T)for(L in _)(A||F||!(L in B))&&p(B,L,_[L]);else r({target:t,proto:!0,forced:A||F},_);return o&&!T||B[x]===I||p(B,x,I,{name:h}),m[t]=I,_}},7235:function(e,t,n){var r=n(857),i=n(2597),o=n(6061),a=n(3070).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||a(t,e,{value:o.f(e)})}},9781:function(e,t,n){var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(e,t,n){var r=n(7854),i=n(111),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},8324:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:function(e,t,n){var r=n(317)("span").classList,i=r&&r.constructor&&r.constructor.prototype;e.exports=i===Object.prototype?void 0:i},8886:function(e,t,n){var r=n(8113).match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},7871:function(e){e.exports="object"==typeof window},256:function(e,t,n){var r=n(8113);e.exports=/MSIE|Trident/.test(r)},1528:function(e,t,n){var r=n(8113),i=n(7854);e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==i.Pebble},6833:function(e,t,n){var r=n(8113);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:function(e,t,n){var r=n(4326),i=n(7854);e.exports="process"==r(i.process)},1036:function(e,t,n){var r=n(8113);e.exports=/web0s(?!.*chrome)/i.test(r)},8113:function(e,t,n){var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:function(e,t,n){var r,i,o=n(7854),a=n(8113),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(i=(r=l.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=+r[1]),e.exports=i},8008:function(e,t,n){var r=n(8113).match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(e,t,n){var r=n(7854),i=n(1236).f,o=n(8880),a=n(1320),s=n(3505),u=n(9920),c=n(4705);e.exports=function(e,t){var n,l,d,f,p,h=e.target,m=e.global,v=e.stat;if(n=m?r:v?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in t){if(f=t[l],d=e.noTargetGet?(p=i(n,l))&&p.value:n[l],!c(m?l:h+(v?".":"#")+l,e.forced)&&void 0!==d){if(typeof f==typeof d)continue;u(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),a(n,l,f,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},7007:function(e,t,n){"use strict";n(4916);var r=n(1702),i=n(1320),o=n(2261),a=n(7293),s=n(5112),u=n(8880),c=s("species"),l=RegExp.prototype;e.exports=function(e,t,n,d){var f=s(e),p=!a((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),h=p&&!a((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!p||!h||n){var m=r(/./[f]),v=t(f,""[e],(function(e,t,n,i,a){var s=r(e),u=t.exec;return u===o||u===l.exec?p&&!a?{done:!0,value:m(t,n,i)}:{done:!0,value:s(n,t,i)}:{done:!1}}));i(String.prototype,e,v[0]),i(l,f,v[1])}d&&u(l[f],"sham",!0)}},6790:function(e,t,n){"use strict";var r=n(7854),i=n(3157),o=n(6244),a=n(9974),s=r.TypeError,u=function(e,t,n,r,c,l,d,f){for(var p,h,m=c,v=0,g=!!d&&a(d,f);v<r;){if(v in n){if(p=g?g(n[v],v,t):n[v],l>0&&i(p))h=o(p),m=u(e,t,p,h,m,l-1)-1;else{if(m>=9007199254740991)throw s("Exceed the acceptable array length");e[m]=p}m++}v++}return m};e.exports=u},6677:function(e,t,n){var r=n(7293);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},2104:function(e){var t=Function.prototype,n=t.apply,r=t.bind,i=t.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?i.bind(n):function(){return i.apply(n,arguments)})},9974:function(e,t,n){var r=n(1702),i=n(9662),o=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?o(e,t):function(){return e.apply(t,arguments)}}},6916:function(e){var t=Function.prototype.call;e.exports=t.bind?t.bind(t):function(){return t.apply(t,arguments)}},6530:function(e,t,n){var r=n(9781),i=n(2597),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},1702:function(e){var t=Function.prototype,n=t.bind,r=t.call,i=n&&n.bind(r);e.exports=n?function(e){return e&&i(r,e)}:function(e){return e&&function(){return r.apply(e,arguments)}}},5005:function(e,t,n){var r=n(7854),i=n(614),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},1246:function(e,t,n){var r=n(648),i=n(8173),o=n(7497),a=n(5112)("iterator");e.exports=function(e){if(null!=e)return i(e,a)||i(e,"@@iterator")||o[r(e)]}},8554:function(e,t,n){var r=n(7854),i=n(6916),o=n(9662),a=n(9670),s=n(6330),u=n(1246),c=r.TypeError;e.exports=function(e,t){var n=arguments.length<2?u(e):t;if(o(n))return a(i(n,e));throw c(s(e)+" is not iterable")}},8173:function(e,t,n){var r=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},647:function(e,t,n){var r=n(1702),i=n(7908),o=Math.floor,a=r("".charAt),s=r("".replace),u=r("".slice),c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,f){var p=n+e.length,h=r.length,m=l;return void 0!==d&&(d=i(d),m=c),s(f,m,(function(i,s){var c;switch(a(s,0)){case"$":return"$";case"&":return e;case"`":return u(t,0,n);case"'":return u(t,p);case"<":c=d[u(s,1,-1)];break;default:var l=+s;if(0===l)return i;if(l>h){var f=o(l/10);return 0===f?i:f<=h?void 0===r[f-1]?a(s,1):r[f-1]+a(s,1):i}c=r[l-1]}return void 0===c?"":c}))}},7854:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(e,t,n){var r=n(1702),i=n(7908),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},3501:function(e){e.exports={}},842:function(e,t,n){var r=n(7854);e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},490:function(e,t,n){var r=n(5005);e.exports=r("document","documentElement")},4664:function(e,t,n){var r=n(9781),i=n(7293),o=n(317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},1179:function(e,t,n){var r=n(7854).Array,i=Math.abs,o=Math.pow,a=Math.floor,s=Math.log,u=Math.LN2;e.exports={pack:function(e,t,n){var c,l,d,f=r(n),p=8*n-t-1,h=(1<<p)-1,m=h>>1,v=23===t?o(2,-24)-o(2,-77):0,g=e<0||0===e&&1/e<0?1:0,y=0;for((e=i(e))!=e||e===1/0?(l=e!=e?1:0,c=h):(c=a(s(e)/u),e*(d=o(2,-c))<1&&(c--,d*=2),(e+=c+m>=1?v/d:v*o(2,1-m))*d>=2&&(c++,d/=2),c+m>=h?(l=0,c=h):c+m>=1?(l=(e*d-1)*o(2,t),c+=m):(l=e*o(2,m-1)*o(2,t),c=0));t>=8;f[y++]=255&l,l/=256,t-=8);for(c=c<<t|l,p+=t;p>0;f[y++]=255&c,c/=256,p-=8);return f[--y]|=128*g,f},unpack:function(e,t){var n,r=e.length,i=8*r-t-1,a=(1<<i)-1,s=a>>1,u=i-7,c=r-1,l=e[c--],d=127&l;for(l>>=7;u>0;d=256*d+e[c],c--,u-=8);for(n=d&(1<<-u)-1,d>>=-u,u+=t;u>0;n=256*n+e[c],c--,u-=8);if(0===d)d=1-s;else{if(d===a)return n?NaN:l?-1/0:1/0;n+=o(2,t),d-=s}return(l?-1:1)*n*o(2,d-t)}}},8361:function(e,t,n){var r=n(7854),i=n(1702),o=n(7293),a=n(4326),s=r.Object,u=i("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==a(e)?u(e,""):s(e)}:s},9587:function(e,t,n){var r=n(614),i=n(111),o=n(7674);e.exports=function(e,t,n){var a,s;return o&&r(a=t.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(e,s),e}},2788:function(e,t,n){var r=n(1702),i=n(614),o=n(5465),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return a(e)}),e.exports=o.inspectSource},2423:function(e,t,n){var r=n(2109),i=n(1702),o=n(3501),a=n(111),s=n(2597),u=n(3070).f,c=n(8006),l=n(1156),d=n(9711),f=n(6677),p=!1,h=d("meta"),m=0,v=Object.isExtensible||function(){return!0},g=function(e){u(e,h,{value:{objectID:"O"+m++,weakData:{}}})},y=e.exports={enable:function(){y.enable=function(){},p=!0;var e=c.f,t=i([].splice),n={};n[h]=1,e(n).length&&(c.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===h){t(r,i,1);break}return r},r({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,h)){if(!v(e))return"F";if(!t)return"E";g(e)}return e[h].objectID},getWeakData:function(e,t){if(!s(e,h)){if(!v(e))return!0;if(!t)return!1;g(e)}return e[h].weakData},onFreeze:function(e){return f&&p&&v(e)&&!s(e,h)&&g(e),e}};o[h]=!0},9909:function(e,t,n){var r,i,o,a=n(8536),s=n(7854),u=n(1702),c=n(111),l=n(8880),d=n(2597),f=n(5465),p=n(6200),h=n(3501),m="Object already initialized",v=s.TypeError,g=s.WeakMap;if(a||f.state){var y=f.state||(f.state=new g),b=u(y.get),A=u(y.has),x=u(y.set);r=function(e,t){if(A(y,e))throw new v(m);return t.facade=e,x(y,e,t),t},i=function(e){return b(y,e)||{}},o=function(e){return A(y,e)}}else{var w=p("state");h[w]=!0,r=function(e,t){if(d(e,w))throw new v(m);return t.facade=e,l(e,w,t),t},i=function(e){return d(e,w)?e[w]:{}},o=function(e){return d(e,w)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return n}}}},7659:function(e,t,n){var r=n(5112),i=n(7497),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},3157:function(e,t,n){var r=n(4326);e.exports=Array.isArray||function(e){return"Array"==r(e)}},614:function(e){e.exports=function(e){return"function"==typeof e}},4411:function(e,t,n){var r=n(1702),i=n(7293),o=n(614),a=n(648),s=n(5005),u=n(2788),c=function(){},l=[],d=s("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=r(f.exec),h=!f.exec(c),m=function(e){if(!o(e))return!1;try{return d(c,l,e),!0}catch(e){return!1}};e.exports=!d||i((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?function(e){if(!o(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!p(f,u(e))}:m},4705:function(e,t,n){var r=n(7293),i=n(614),o=/#|\.prototype\./,a=function(e,t){var n=u[s(e)];return n==l||n!=c&&(i(t)?r(t):!!t)},s=a.normalize=function(e){return String(e).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},5988:function(e,t,n){var r=n(111),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},111:function(e,t,n){var r=n(614);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},1913:function(e){e.exports=!1},7850:function(e,t,n){var r=n(111),i=n(4326),o=n(5112)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},2190:function(e,t,n){var r=n(7854),i=n(5005),o=n(614),a=n(7976),s=n(3307),u=r.Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return o(t)&&a(t.prototype,u(e))}},408:function(e,t,n){var r=n(7854),i=n(9974),o=n(6916),a=n(9670),s=n(6330),u=n(7659),c=n(6244),l=n(7976),d=n(8554),f=n(1246),p=n(9212),h=r.TypeError,m=function(e,t){this.stopped=e,this.result=t},v=m.prototype;e.exports=function(e,t,n){var r,g,y,b,A,x,w,D=n&&n.that,S=!(!n||!n.AS_ENTRIES),C=!(!n||!n.IS_ITERATOR),T=!(!n||!n.INTERRUPTED),E=i(t,D),_=function(e){return r&&p(r,"normal",e),new m(!0,e)},L=function(e){return S?(a(e),T?E(e[0],e[1],_):E(e[0],e[1])):T?E(e,_):E(e)};if(C)r=e;else{if(!(g=f(e)))throw h(s(e)+" is not iterable");if(u(g)){for(y=0,b=c(e);b>y;y++)if((A=L(e[y]))&&l(v,A))return A;return new m(!1)}r=d(e,g)}for(x=r.next;!(w=o(x,r)).done;){try{A=L(w.value)}catch(e){p(r,"throw",e)}if("object"==typeof A&&A&&l(v,A))return A}return new m(!1)}},9212:function(e,t,n){var r=n(6916),i=n(9670),o=n(8173);e.exports=function(e,t,n){var a,s;i(e);try{if(!(a=o(e,"return"))){if("throw"===t)throw n;return n}a=r(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw n;if(s)throw a;return i(a),n}},3383:function(e,t,n){"use strict";var r,i,o,a=n(7293),s=n(614),u=n(30),c=n(9518),l=n(1320),d=n(5112),f=n(1913),p=d("iterator"),h=!1;[].keys&&("next"in(o=[].keys())?(i=c(c(o)))!==Object.prototype&&(r=i):h=!0),null==r||a((function(){var e={};return r[p].call(e)!==e}))?r={}:f&&(r=u(r)),s(r[p])||l(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:h}},7497:function(e){e.exports={}},6244:function(e,t,n){var r=n(7466);e.exports=function(e){return r(e.length)}},5948:function(e,t,n){var r,i,o,a,s,u,c,l,d=n(7854),f=n(9974),p=n(1236).f,h=n(261).set,m=n(6833),v=n(1528),g=n(1036),y=n(5268),b=d.MutationObserver||d.WebKitMutationObserver,A=d.document,x=d.process,w=d.Promise,D=p(d,"queueMicrotask"),S=D&&D.value;S||(r=function(){var e,t;for(y&&(e=x.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():o=void 0,e}}o=void 0,e&&e.enter()},m||y||g||!b||!A?!v&&w&&w.resolve?((c=w.resolve(void 0)).constructor=w,l=f(c.then,c),a=function(){l(r)}):y?a=function(){x.nextTick(r)}:(h=f(h,d),a=function(){h(r)}):(s=!0,u=A.createTextNode(""),new b(r).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),e.exports=S||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},3366:function(e,t,n){var r=n(7854);e.exports=r.Promise},133:function(e,t,n){var r=n(7392),i=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},590:function(e,t,n){var r=n(7293),i=n(5112),o=n(1913),a=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t.delete("b"),n+=r+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},8536:function(e,t,n){var r=n(7854),i=n(614),o=n(2788),a=r.WeakMap;e.exports=i(a)&&/native code/.test(o(a))},8523:function(e,t,n){"use strict";var r=n(9662),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},3929:function(e,t,n){var r=n(7854),i=n(7850),o=r.TypeError;e.exports=function(e){if(i(e))throw o("The method doesn't accept regular expressions");return e}},2814:function(e,t,n){var r=n(7854),i=n(7293),o=n(1702),a=n(1340),s=n(3111).trim,u=n(1361),c=o("".charAt),l=r.parseFloat,d=r.Symbol,f=d&&d.iterator,p=1/l(u+"-0")!=-1/0||f&&!i((function(){l(Object(f))}));e.exports=p?function(e){var t=s(a(e)),n=l(t);return 0===n&&"-"==c(t,0)?-0:n}:l},3009:function(e,t,n){var r=n(7854),i=n(7293),o=n(1702),a=n(1340),s=n(3111).trim,u=n(1361),c=r.parseInt,l=r.Symbol,d=l&&l.iterator,f=/^[+-]?0x/i,p=o(f.exec),h=8!==c(u+"08")||22!==c(u+"0x16")||d&&!i((function(){c(Object(d))}));e.exports=h?function(e,t){var n=s(a(e));return c(n,t>>>0||(p(f,n)?16:10))}:c},1574:function(e,t,n){"use strict";var r=n(9781),i=n(1702),o=n(6916),a=n(7293),s=n(1956),u=n(5181),c=n(5296),l=n(7908),d=n(8361),f=Object.assign,p=Object.defineProperty,h=i([].concat);e.exports=!f||a((function(){if(r&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=f({},e)[n]||s(f({},t)).join("")!=i}))?function(e,t){for(var n=l(e),i=arguments.length,a=1,f=u.f,p=c.f;i>a;)for(var m,v=d(arguments[a++]),g=f?h(s(v),f(v)):s(v),y=g.length,b=0;y>b;)m=g[b++],r&&!o(p,v,m)||(n[m]=v[m]);return n}:f},30:function(e,t,n){var r,i=n(9670),o=n(6048),a=n(748),s=n(3501),u=n(490),c=n(317),l=n(6200)("IE_PROTO"),d=function(){},f=function(e){return"<script>"+e+"<\/script>"},p=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t},h=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}var e,t;h="undefined"!=typeof document?document.domain&&r?p(r):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F):p(r);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};s[l]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[l]=e):n=h(),void 0===t?n:o(n,t)}},6048:function(e,t,n){var r=n(9781),i=n(3070),o=n(9670),a=n(5656),s=n(1956);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=a(t),u=s(t),c=u.length,l=0;c>l;)i.f(e,n=u[l++],r[n]);return e}},3070:function(e,t,n){var r=n(7854),i=n(9781),o=n(4664),a=n(9670),s=n(4948),u=r.TypeError,c=Object.defineProperty;t.f=i?c:function(e,t,n){if(a(e),t=s(t),a(n),o)try{return c(e,t,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var r=n(9781),i=n(6916),o=n(5296),a=n(9114),s=n(5656),u=n(4948),c=n(2597),l=n(4664),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=s(e),t=u(t),l)try{return d(e,t)}catch(e){}if(c(e,t))return a(!i(o.f,e,t),e[t])}},1156:function(e,t,n){var r=n(4326),i=n(5656),o=n(8006).f,a=n(206),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"Window"==r(e)?function(e){try{return o(e)}catch(e){return a(s)}}(e):o(i(e))}},8006:function(e,t,n){var r=n(6324),i=n(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,n){var r=n(7854),i=n(2597),o=n(614),a=n(7908),s=n(6200),u=n(8544),c=s("IE_PROTO"),l=r.Object,d=l.prototype;e.exports=u?l.getPrototypeOf:function(e){var t=a(e);if(i(t,c))return t[c];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof l?d:null}},7976:function(e,t,n){var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:function(e,t,n){var r=n(1702),i=n(2597),o=n(5656),a=n(1318).indexOf,s=n(3501),u=r([].push);e.exports=function(e,t){var n,r=o(e),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);for(;t.length>c;)i(r,n=t[c++])&&(~a(l,n)||u(l,n));return l}},1956:function(e,t,n){var r=n(6324),i=n(748);e.exports=Object.keys||function(e){return r(e,i)}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:function(e,t,n){var r=n(1702),i=n(9670),o=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},288:function(e,t,n){"use strict";var r=n(1694),i=n(648);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},2140:function(e,t,n){var r=n(7854),i=n(6916),o=n(614),a=n(111),s=r.TypeError;e.exports=function(e,t){var n,r;if("string"===t&&o(n=e.toString)&&!a(r=i(n,e)))return r;if(o(n=e.valueOf)&&!a(r=i(n,e)))return r;if("string"!==t&&o(n=e.toString)&&!a(r=i(n,e)))return r;throw s("Can't convert object to primitive value")}},3887:function(e,t,n){var r=n(5005),i=n(1702),o=n(8006),a=n(5181),s=n(9670),u=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(s(e)),n=a.f;return n?u(t,n(e)):t}},857:function(e,t,n){var r=n(7854);e.exports=r},2534:function(e){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},9478:function(e,t,n){var r=n(9670),i=n(111),o=n(8523);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},2248:function(e,t,n){var r=n(1320);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},1320:function(e,t,n){var r=n(7854),i=n(614),o=n(2597),a=n(8880),s=n(3505),u=n(2788),c=n(9909),l=n(6530).CONFIGURABLE,d=c.get,f=c.enforce,p=String(String).split("String");(e.exports=function(e,t,n,u){var c,d=!!u&&!!u.unsafe,h=!!u&&!!u.enumerable,m=!!u&&!!u.noTargetGet,v=u&&void 0!==u.name?u.name:t;i(n)&&("Symbol("===String(v).slice(0,7)&&(v="["+String(v).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||l&&n.name!==v)&&a(n,"name",v),(c=f(n)).source||(c.source=p.join("string"==typeof v?v:""))),e!==r?(d?!m&&e[t]&&(h=!0):delete e[t],h?e[t]=n:a(e,t,n)):h?e[t]=n:s(t,n)})(Function.prototype,"toString",(function(){return i(this)&&d(this).source||u(this)}))},7651:function(e,t,n){var r=n(7854),i=n(6916),o=n(9670),a=n(614),s=n(4326),u=n(2261),c=r.TypeError;e.exports=function(e,t){var n=e.exec;if(a(n)){var r=i(n,e,t);return null!==r&&o(r),r}if("RegExp"===s(e))return i(u,e,t);throw c("RegExp#exec called on incompatible receiver")}},2261:function(e,t,n){"use strict";var r,i,o=n(6916),a=n(1702),s=n(1340),u=n(7066),c=n(2999),l=n(2309),d=n(30),f=n(9909).get,p=n(9441),h=n(7168),m=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,g=v,y=a("".charAt),b=a("".indexOf),A=a("".replace),x=a("".slice),w=(i=/b*/g,o(v,r=/a/,"a"),o(v,i,"a"),0!==r.lastIndex||0!==i.lastIndex),D=c.UNSUPPORTED_Y||c.BROKEN_CARET,S=void 0!==/()??/.exec("")[1];(w||S||D||p||h)&&(g=function(e){var t,n,r,i,a,c,l,p=this,h=f(p),C=s(e),T=h.raw;if(T)return T.lastIndex=p.lastIndex,t=o(g,T,C),p.lastIndex=T.lastIndex,t;var E=h.groups,_=D&&p.sticky,L=o(u,p),P=p.source,O=0,F=C;if(_&&(L=A(L,"y",""),-1===b(L,"g")&&(L+="g"),F=x(C,p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&"\n"!==y(C,p.lastIndex-1))&&(P="(?: "+P+")",F=" "+F,O++),n=new RegExp("^(?:"+P+")",L)),S&&(n=new RegExp("^"+P+"$(?!\\s)",L)),w&&(r=p.lastIndex),i=o(v,_?n:p,F),_?i?(i.input=x(i.input,O),i[0]=x(i[0],O),i.index=p.lastIndex,p.lastIndex+=i[0].length):p.lastIndex=0:w&&i&&(p.lastIndex=p.global?i.index+i[0].length:r),S&&i&&i.length>1&&o(m,i[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(i[a]=void 0)})),i&&E)for(i.groups=c=d(null),a=0;a<E.length;a++)c[(l=E[a])[0]]=i[l[1]];return i}),e.exports=g},7066:function(e,t,n){"use strict";var r=n(9670);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},2999:function(e,t,n){var r=n(7293),i=n(7854).RegExp;t.UNSUPPORTED_Y=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},9441:function(e,t,n){var r=n(7293),i=n(7854).RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},7168:function(e,t,n){var r=n(7293),i=n(7854).RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},4488:function(e,t,n){var r=n(7854).TypeError;e.exports=function(e){if(null==e)throw r("Can't call method on "+e);return e}},3505:function(e,t,n){var r=n(7854),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},6340:function(e,t,n){"use strict";var r=n(5005),i=n(3070),o=n(5112),a=n(9781),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},8003:function(e,t,n){var r=n(3070).f,i=n(2597),o=n(5112)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},6200:function(e,t,n){var r=n(2309),i=n(9711),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},5465:function(e,t,n){var r=n(7854),i=n(3505),o="__core-js_shared__",a=r[o]||i(o,{});e.exports=a},2309:function(e,t,n){var r=n(1913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.19.0",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},6707:function(e,t,n){var r=n(9670),i=n(9483),o=n(5112)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},8710:function(e,t,n){var r=n(1702),i=n(9303),o=n(1340),a=n(4488),s=r("".charAt),u=r("".charCodeAt),c=r("".slice),l=function(e){return function(t,n){var r,l,d=o(a(t)),f=i(n),p=d.length;return f<0||f>=p?e?"":void 0:(r=u(d,f))<55296||r>56319||f+1===p||(l=u(d,f+1))<56320||l>57343?e?s(d,f):r:e?c(d,f,f+2):l-56320+(r-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},4986:function(e,t,n){var r=n(8113);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},6650:function(e,t,n){var r=n(1702),i=n(7466),o=n(1340),a=n(8415),s=n(4488),u=r(a),c=r("".slice),l=Math.ceil,d=function(e){return function(t,n,r){var a,d,f=o(s(t)),p=i(n),h=f.length,m=void 0===r?" ":o(r);return p<=h||""==m?f:((d=u(m,l((a=p-h)/m.length))).length>a&&(d=c(d,0,a)),e?f+d:d+f)}};e.exports={start:d(!1),end:d(!0)}},3197:function(e,t,n){"use strict";var r=n(7854),i=n(1702),o=2147483647,a=/[^\0-\u007E]/,s=/[.\u3002\uFF0E\uFF61]/g,u="Overflow: input needs wider integers to process",c=r.RangeError,l=i(s.exec),d=Math.floor,f=String.fromCharCode,p=i("".charCodeAt),h=i([].join),m=i([].push),v=i("".replace),g=i("".split),y=i("".toLowerCase),b=function(e){return e+22+75*(e<26)},A=function(e,t,n){var r=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;r+=36)e=d(e/35);return d(r+36*e/(e+38))},x=function(e){var t=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=p(e,n++);if(i>=55296&&i<=56319&&n<r){var o=p(e,n++);56320==(64512&o)?m(t,((1023&i)<<10)+(1023&o)+65536):(m(t,i),n--)}else m(t,i)}return t}(e);var n,r,i=e.length,a=128,s=0,l=72;for(n=0;n<e.length;n++)(r=e[n])<128&&m(t,f(r));var v=t.length,g=v;for(v&&m(t,"-");g<i;){var y=o;for(n=0;n<e.length;n++)(r=e[n])>=a&&r<y&&(y=r);var x=g+1;if(y-a>d((o-s)/x))throw c(u);for(s+=(y-a)*x,a=y,n=0;n<e.length;n++){if((r=e[n])<a&&++s>o)throw c(u);if(r==a){for(var w=s,D=36;;D+=36){var S=D<=l?1:D>=l+26?26:D-l;if(w<S)break;var C=w-S,T=36-S;m(t,f(b(S+C%T))),w=d(C/T)}m(t,f(b(w))),l=A(s,x,g==v),s=0,++g}}++s,++a}return h(t,"")};e.exports=function(e){var t,n,r=[],i=g(v(y(e),s,"."),".");for(t=0;t<i.length;t++)n=i[t],m(r,l(a,n)?"xn--"+x(n):n);return h(r,".")}},8415:function(e,t,n){"use strict";var r=n(7854),i=n(9303),o=n(1340),a=n(4488),s=r.RangeError;e.exports=function(e){var t=o(a(this)),n="",r=i(e);if(r<0||r==1/0)throw s("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}},3111:function(e,t,n){var r=n(1702),i=n(4488),o=n(1340),a=n(1361),s=r("".replace),u="["+a+"]",c=RegExp("^"+u+u+"*"),l=RegExp(u+u+"*$"),d=function(e){return function(t){var n=o(i(t));return 1&e&&(n=s(n,c,"")),2&e&&(n=s(n,l,"")),n}};e.exports={start:d(1),end:d(2),trim:d(3)}},261:function(e,t,n){var r,i,o,a,s=n(7854),u=n(2104),c=n(9974),l=n(614),d=n(2597),f=n(7293),p=n(490),h=n(206),m=n(317),v=n(6833),g=n(5268),y=s.setImmediate,b=s.clearImmediate,A=s.process,x=s.Dispatch,w=s.Function,D=s.MessageChannel,S=s.String,C=0,T={};try{r=s.location}catch(e){}var E=function(e){if(d(T,e)){var t=T[e];delete T[e],t()}},_=function(e){return function(){E(e)}},L=function(e){E(e.data)},P=function(e){s.postMessage(S(e),r.protocol+"//"+r.host)};y&&b||(y=function(e){var t=h(arguments,1);return T[++C]=function(){u(l(e)?e:w(e),void 0,t)},i(C),C},b=function(e){delete T[e]},g?i=function(e){A.nextTick(_(e))}:x&&x.now?i=function(e){x.now(_(e))}:D&&!v?(a=(o=new D).port2,o.port1.onmessage=L,i=c(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!f(P)?(i=P,s.addEventListener("message",L,!1)):i="onreadystatechange"in m("script")?function(e){p.appendChild(m("script")).onreadystatechange=function(){p.removeChild(this),E(e)}}:function(e){setTimeout(_(e),0)}),e.exports={set:y,clear:b}},863:function(e,t,n){var r=n(1702);e.exports=r(1..valueOf)},1400:function(e,t,n){var r=n(9303),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},7067:function(e,t,n){var r=n(7854),i=n(9303),o=n(7466),a=r.RangeError;e.exports=function(e){if(void 0===e)return 0;var t=i(e),n=o(t);if(t!==n)throw a("Wrong length or index");return n}},5656:function(e,t,n){var r=n(8361),i=n(4488);e.exports=function(e){return r(i(e))}},9303:function(e){var t=Math.ceil,n=Math.floor;e.exports=function(e){var r=+e;return r!=r||0===r?0:(r>0?n:t)(r)}},7466:function(e,t,n){var r=n(9303),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7908:function(e,t,n){var r=n(7854),i=n(4488),o=r.Object;e.exports=function(e){return o(i(e))}},4590:function(e,t,n){var r=n(7854),i=n(3002),o=r.RangeError;e.exports=function(e,t){var n=i(e);if(n%t)throw o("Wrong offset");return n}},3002:function(e,t,n){var r=n(7854),i=n(9303),o=r.RangeError;e.exports=function(e){var t=i(e);if(t<0)throw o("The argument can't be less than 0");return t}},7593:function(e,t,n){var r=n(7854),i=n(6916),o=n(111),a=n(2190),s=n(8173),u=n(2140),c=n(5112),l=r.TypeError,d=c("toPrimitive");e.exports=function(e,t){if(!o(e)||a(e))return e;var n,r=s(e,d);if(r){if(void 0===t&&(t="default"),n=i(r,e,t),!o(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===t&&(t="number"),u(e,t)}},4948:function(e,t,n){var r=n(7593),i=n(2190);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},1694:function(e,t,n){var r={};r[n(5112)("toStringTag")]="z",e.exports="[object z]"===String(r)},1340:function(e,t,n){var r=n(7854),i=n(648),o=r.String;e.exports=function(e){if("Symbol"===i(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},6330:function(e,t,n){var r=n(7854).String;e.exports=function(e){try{return r(e)}catch(e){return"Object"}}},9843:function(e,t,n){"use strict";var r=n(2109),i=n(7854),o=n(6916),a=n(9781),s=n(3832),u=n(260),c=n(3331),l=n(5787),d=n(9114),f=n(8880),p=n(5988),h=n(7466),m=n(7067),v=n(4590),g=n(4948),y=n(2597),b=n(648),A=n(111),x=n(2190),w=n(30),D=n(7976),S=n(7674),C=n(8006).f,T=n(7321),E=n(2092).forEach,_=n(6340),L=n(3070),P=n(1236),O=n(9909),F=n(9587),B=O.get,M=O.set,I=L.f,k=P.f,R=Math.round,U=i.RangeError,N=c.ArrayBuffer,j=N.prototype,W=c.DataView,z=u.NATIVE_ARRAY_BUFFER_VIEWS,H=u.TYPED_ARRAY_CONSTRUCTOR,V=u.TYPED_ARRAY_TAG,G=u.TypedArray,Z=u.TypedArrayPrototype,X=u.aTypedArrayConstructor,q=u.isTypedArray,Y="BYTES_PER_ELEMENT",J="Wrong length",K=function(e,t){X(e);for(var n=0,r=t.length,i=new e(r);r>n;)i[n]=t[n++];return i},$=function(e,t){I(e,t,{get:function(){return B(this)[t]}})},Q=function(e){var t;return D(j,e)||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},ee=function(e,t){return q(e)&&!x(t)&&t in e&&p(+t)&&t>=0},te=function(e,t){return t=g(t),ee(e,t)?d(2,e[t]):k(e,t)},ne=function(e,t,n){return t=g(t),!(ee(e,t)&&A(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?I(e,t,n):(e[t]=n.value,e)};a?(z||(P.f=te,L.f=ne,$(Z,"buffer"),$(Z,"byteOffset"),$(Z,"byteLength"),$(Z,"length")),r({target:"Object",stat:!0,forced:!z},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var a=e.match(/\d+$/)[0]/8,u=e+(n?"Clamped":"")+"Array",c="get"+e,d="set"+e,p=i[u],g=p,y=g&&g.prototype,b={},x=function(e,t){I(e,t,{get:function(){return function(e,t){var n=B(e);return n.view[c](t*a+n.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=B(e);n&&(r=(r=R(r))<0?0:r>255?255:255&r),i.view[d](t*a+i.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};z?s&&(g=t((function(e,t,n,r){return l(e,y),F(A(t)?Q(t)?void 0!==r?new p(t,v(n,a),r):void 0!==n?new p(t,v(n,a)):new p(t):q(t)?K(g,t):o(T,g,t):new p(m(t)),e,g)})),S&&S(g,G),E(C(p),(function(e){e in g||f(g,e,p[e])})),g.prototype=y):(g=t((function(e,t,n,r){l(e,y);var i,s,u,c=0,d=0;if(A(t)){if(!Q(t))return q(t)?K(g,t):o(T,g,t);i=t,d=v(n,a);var f=t.byteLength;if(void 0===r){if(f%a)throw U(J);if((s=f-d)<0)throw U(J)}else if((s=h(r)*a)+d>f)throw U(J);u=s/a}else u=m(t),i=new N(s=u*a);for(M(e,{buffer:i,byteOffset:d,byteLength:s,length:u,view:new W(i)});c<u;)x(e,c++)})),S&&S(g,G),y=g.prototype=w(Z)),y.constructor!==g&&f(y,"constructor",g),f(y,H,g),V&&f(y,V,u),b[u]=g,r({global:!0,forced:g!=p,sham:!z},b),Y in g||f(g,Y,a),Y in y||f(y,Y,a),_(u)}):e.exports=function(){}},3832:function(e,t,n){var r=n(7854),i=n(7293),o=n(7072),a=n(260).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;e.exports=!a||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!o((function(e){new u,new u(null),new u(1.5),new u(e)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},3074:function(e,t,n){var r=n(7745),i=n(6304);e.exports=function(e,t){return r(i(e),t)}},7321:function(e,t,n){var r=n(9974),i=n(6916),o=n(9483),a=n(7908),s=n(6244),u=n(8554),c=n(1246),l=n(7659),d=n(260).aTypedArrayConstructor;e.exports=function(e){var t,n,f,p,h,m,v=o(this),g=a(e),y=arguments.length,b=y>1?arguments[1]:void 0,A=void 0!==b,x=c(g);if(x&&!l(x))for(m=(h=u(g,x)).next,g=[];!(p=i(m,h)).done;)g.push(p.value);for(A&&y>2&&(b=r(b,arguments[2])),n=s(g),f=new(d(v))(n),t=0;n>t;t++)f[t]=A?b(g[t],t):g[t];return f}},6304:function(e,t,n){var r=n(260),i=n(6707),o=r.TYPED_ARRAY_CONSTRUCTOR,a=r.aTypedArrayConstructor;e.exports=function(e){return a(i(e,e[o]))}},9711:function(e,t,n){var r=n(1702),i=0,o=Math.random(),a=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++i+o,36)}},3307:function(e,t,n){var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:function(e,t,n){var r=n(5112);t.f=r},5112:function(e,t,n){var r=n(7854),i=n(2309),o=n(2597),a=n(9711),s=n(133),u=n(3307),c=i("wks"),l=r.Symbol,d=l&&l.for,f=u?l:l&&l.withoutSetter||a;e.exports=function(e){if(!o(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&o(l,e)?c[e]=l[e]:c[e]=u&&d?d(t):f(t)}return c[e]}},1361:function(e){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},9575:function(e,t,n){"use strict";var r=n(2109),i=n(1702),o=n(7293),a=n(3331),s=n(9670),u=n(1400),c=n(7466),l=n(6707),d=a.ArrayBuffer,f=a.DataView,p=f.prototype,h=i(d.prototype.slice),m=i(p.getUint8),v=i(p.setUint8);r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:o((function(){return!new d(2).slice(1,void 0).byteLength}))},{slice:function(e,t){if(h&&void 0===t)return h(s(this),e);for(var n=s(this).byteLength,r=u(e,n),i=u(void 0===t?n:t,n),o=new(l(this,d))(c(i-r)),a=new f(this),p=new f(o),g=0;r<i;)v(p,g++,m(a,r++));return o}})},2222:function(e,t,n){"use strict";var r=n(2109),i=n(7854),o=n(7293),a=n(3157),s=n(111),u=n(7908),c=n(6244),l=n(6135),d=n(5417),f=n(1194),p=n(5112),h=n(7392),m=p("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",y=i.TypeError,b=h>=51||!o((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),A=f("concat"),x=function(e){if(!s(e))return!1;var t=e[m];return void 0!==t?!!t:a(e)};r({target:"Array",proto:!0,forced:!b||!A},{concat:function(e){var t,n,r,i,o,a=u(this),s=d(a,0),f=0;for(t=-1,r=arguments.length;t<r;t++)if(x(o=-1===t?a:arguments[t])){if(f+(i=c(o))>v)throw y(g);for(n=0;n<i;n++,f++)n in o&&l(s,f,o[n])}else{if(f>=v)throw y(g);l(s,f++,o)}return s.length=f,s}})},3290:function(e,t,n){var r=n(2109),i=n(1285),o=n(1223);r({target:"Array",proto:!0},{fill:i}),o("fill")},7327:function(e,t,n){"use strict";var r=n(2109),i=n(2092).filter;r({target:"Array",proto:!0,forced:!n(1194)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},4553:function(e,t,n){"use strict";var r=n(2109),i=n(2092).findIndex,o=n(1223),a="findIndex",s=!0;a in[]&&Array(1).findIndex((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},9826:function(e,t,n){"use strict";var r=n(2109),i=n(2092).find,o=n(1223),a="find",s=!0;a in[]&&Array(1).find((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(a)},4944:function(e,t,n){"use strict";var r=n(2109),i=n(6790),o=n(7908),a=n(6244),s=n(9303),u=n(5417);r({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=o(this),n=a(t),r=u(t,0);return r.length=i(r,t,t,n,0,void 0===e?1:s(e)),r}})},1038:function(e,t,n){var r=n(2109),i=n(8457);r({target:"Array",stat:!0,forced:!n(7072)((function(e){Array.from(e)}))},{from:i})},6699:function(e,t,n){"use strict";var r=n(2109),i=n(1318).includes,o=n(1223);r({target:"Array",proto:!0},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},6992:function(e,t,n){"use strict";var r=n(5656),i=n(1223),o=n(7497),a=n(9909),s=n(654),u="Array Iterator",c=a.set,l=a.getterFor(u);e.exports=s(Array,"Array",(function(e,t){c(this,{type:u,target:r(e),index:0,kind:t})}),(function(){var e=l(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},9600:function(e,t,n){"use strict";var r=n(2109),i=n(1702),o=n(8361),a=n(5656),s=n(9341),u=i([].join),c=o!=Object,l=s("join",",");r({target:"Array",proto:!0,forced:c||!l},{join:function(e){return u(a(this),void 0===e?",":e)}})},1249:function(e,t,n){"use strict";var r=n(2109),i=n(2092).map;r({target:"Array",proto:!0,forced:!n(1194)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},5827:function(e,t,n){"use strict";var r=n(2109),i=n(3671).left,o=n(9341),a=n(7392),s=n(5268);r({target:"Array",proto:!0,forced:!o("reduce")||!s&&a>79&&a<83},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},7042:function(e,t,n){"use strict";var r=n(2109),i=n(7854),o=n(3157),a=n(4411),s=n(111),u=n(1400),c=n(6244),l=n(5656),d=n(6135),f=n(5112),p=n(1194),h=n(206),m=p("slice"),v=f("species"),g=i.Array,y=Math.max;r({target:"Array",proto:!0,forced:!m},{slice:function(e,t){var n,r,i,f=l(this),p=c(f),m=u(e,p),b=u(void 0===t?p:t,p);if(o(f)&&(n=f.constructor,(a(n)&&(n===g||o(n.prototype))||s(n)&&null===(n=n[v]))&&(n=void 0),n===g||void 0===n))return h(f,m,b);for(r=new(void 0===n?g:n)(y(b-m,0)),i=0;m<b;m++,i++)m in f&&d(r,i,f[m]);return r.length=i,r}})},561:function(e,t,n){"use strict";var r=n(2109),i=n(7854),o=n(1400),a=n(9303),s=n(6244),u=n(7908),c=n(5417),l=n(6135),d=n(1194)("splice"),f=i.TypeError,p=Math.max,h=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var n,r,i,d,g,y,b=u(this),A=s(b),x=o(e,A),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=A-x):(n=w-2,r=h(p(a(t),0),A-x)),A+n-r>m)throw f(v);for(i=c(b,r),d=0;d<r;d++)(g=x+d)in b&&l(i,d,b[g]);if(i.length=r,n<r){for(d=x;d<A-r;d++)y=d+n,(g=d+r)in b?b[y]=b[g]:delete b[y];for(d=A;d>A-r+n;d--)delete b[d-1]}else if(n>r)for(d=A-r;d>x;d--)y=d+n-1,(g=d+r-1)in b?b[y]=b[g]:delete b[y];for(d=0;d<n;d++)b[d+x]=arguments[d+2];return b.length=A-r+n,i}})},3792:function(e,t,n){n(1223)("flat")},8309:function(e,t,n){var r=n(9781),i=n(6530).EXISTS,o=n(1702),a=n(3070).f,s=Function.prototype,u=o(s.toString),c=/^\s*function ([^ (]*)/,l=o(c.exec);r&&!i&&a(s,"name",{configurable:!0,get:function(){try{return l(c,u(this))[1]}catch(e){return""}}})},1532:function(e,t,n){"use strict";n(7710)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(5631))},3689:function(e,t,n){var r=n(2109),i=Math.ceil,o=Math.floor;r({target:"Math",stat:!0},{trunc:function(e){return(e>0?o:i)(e)}})},9653:function(e,t,n){"use strict";var r=n(9781),i=n(7854),o=n(1702),a=n(4705),s=n(1320),u=n(2597),c=n(9587),l=n(7976),d=n(2190),f=n(7593),p=n(7293),h=n(8006).f,m=n(1236).f,v=n(3070).f,g=n(863),y=n(3111).trim,b="Number",A=i.Number,x=A.prototype,w=i.TypeError,D=o("".slice),S=o("".charCodeAt),C=function(e){var t=f(e,"number");return"bigint"==typeof t?t:T(t)},T=function(e){var t,n,r,i,o,a,s,u,c=f(e,"number");if(d(c))throw w("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=y(c),43===(t=S(c,0))||45===t){if(88===(n=S(c,2))||120===n)return NaN}else if(48===t){switch(S(c,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=(o=D(c,2)).length,s=0;s<a;s++)if((u=S(o,s))<48||u>i)return NaN;return parseInt(o,r)}return+c};if(a(b,!A(" 0o1")||!A("0b1")||A("+0x1"))){for(var E,_=function(e){var t=arguments.length<1?0:A(C(e)),n=this;return l(x,n)&&p((function(){g(n)}))?c(Object(t),n,_):t},L=r?h(A):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),P=0;L.length>P;P++)u(A,E=L[P])&&!u(_,E)&&v(_,E,m(A,E));_.prototype=x,x.constructor=_,s(i,b,_)}},1874:function(e,t,n){var r=n(2109),i=n(2814);r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},6977:function(e,t,n){"use strict";var r=n(2109),i=n(7854),o=n(1702),a=n(9303),s=n(863),u=n(8415),c=n(7293),l=i.RangeError,d=i.String,f=Math.floor,p=o(u),h=o("".slice),m=o(1..toFixed),v=function(e,t,n){return 0===t?n:t%2==1?v(e,t-1,n*e):v(e*e,t/2,n)},g=function(e,t,n){for(var r=-1,i=n;++r<6;)i+=t*e[r],e[r]=i%1e7,i=f(i/1e7)},y=function(e,t){for(var n=6,r=0;--n>=0;)r+=e[n],e[n]=f(r/t),r=r%t*1e7},b=function(e){for(var t=6,n="";--t>=0;)if(""!==n||0===t||0!==e[t]){var r=d(e[t]);n=""===n?r:n+p("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:c((function(){return"0.000"!==m(8e-5,3)||"1"!==m(.9,0)||"1.25"!==m(1.255,2)||"1000000000000000128"!==m(0xde0b6b3a7640080,0)}))||!c((function(){m({})}))},{toFixed:function(e){var t,n,r,i,o=s(this),u=a(e),c=[0,0,0,0,0,0],f="",m="0";if(u<0||u>20)throw l("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return d(o);if(o<0&&(f="-",o=-o),o>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(o*v(2,69,1))-69)<0?o*v(2,-t,1):o/v(2,t,1),n*=4503599627370496,(t=52-t)>0){for(g(c,0,n),r=u;r>=7;)g(c,1e7,0),r-=7;for(g(c,v(10,r,1),0),r=t-1;r>=23;)y(c,1<<23),r-=23;y(c,1<<r),g(c,1,1),y(c,2),m=b(c)}else g(c,0,n),g(c,1<<-t,0),m=b(c)+p("0",u);return u>0?f+((i=m.length)<=u?"0."+p("0",u-i)+m:h(m,0,i-u)+"."+h(m,i-u)):f+m}})},9601:function(e,t,n){var r=n(2109),i=n(1574);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},3371:function(e,t,n){var r=n(2109),i=n(6677),o=n(7293),a=n(111),s=n(2423).onFreeze,u=Object.freeze;r({target:"Object",stat:!0,forced:o((function(){u(1)})),sham:!i},{freeze:function(e){return u&&a(e)?u(s(e)):e}})},5003:function(e,t,n){var r=n(2109),i=n(7293),o=n(5656),a=n(1236).f,s=n(9781),u=i((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(e,t){return a(o(e),t)}})},9337:function(e,t,n){var r=n(2109),i=n(9781),o=n(3887),a=n(5656),s=n(1236),u=n(6135);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),i=s.f,c=o(r),l={},d=0;c.length>d;)void 0!==(n=i(r,t=c[d++]))&&u(l,t,n);return l}})},6210:function(e,t,n){var r=n(2109),i=n(7293),o=n(1156).f;r({target:"Object",stat:!0,forced:i((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:o})},7941:function(e,t,n){var r=n(2109),i=n(7908),o=n(1956);r({target:"Object",stat:!0,forced:n(7293)((function(){o(1)}))},{keys:function(e){return o(i(e))}})},1539:function(e,t,n){var r=n(1694),i=n(1320),o=n(288);r||i(Object.prototype,"toString",o,{unsafe:!0})},1058:function(e,t,n){var r=n(2109),i=n(3009);r({global:!0,forced:parseInt!=i},{parseInt:i})},8674:function(e,t,n){"use strict";var r,i,o,a,s=n(2109),u=n(1913),c=n(7854),l=n(5005),d=n(6916),f=n(3366),p=n(1320),h=n(2248),m=n(7674),v=n(8003),g=n(6340),y=n(9662),b=n(614),A=n(111),x=n(5787),w=n(2788),D=n(408),S=n(7072),C=n(6707),T=n(261).set,E=n(5948),_=n(9478),L=n(842),P=n(8523),O=n(2534),F=n(9909),B=n(4705),M=n(5112),I=n(7871),k=n(5268),R=n(7392),U=M("species"),N="Promise",j=F.get,W=F.set,z=F.getterFor(N),H=f&&f.prototype,V=f,G=H,Z=c.TypeError,X=c.document,q=c.process,Y=P.f,J=Y,K=!!(X&&X.createEvent&&c.dispatchEvent),$=b(c.PromiseRejectionEvent),Q="unhandledrejection",ee=!1,te=B(N,(function(){var e=w(V),t=e!==String(V);if(!t&&66===R)return!0;if(u&&!G.finally)return!0;if(R>=51&&/native code/.test(e))return!1;var n=new V((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[U]=r,!(ee=n.then((function(){}))instanceof r)||!t&&I&&!$})),ne=te||!S((function(e){V.all(e).catch((function(){}))})),re=function(e){var t;return!(!A(e)||!b(t=e.then))&&t},ie=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;E((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var a,s,u,c=n[o++],l=i?c.ok:c.fail,f=c.resolve,p=c.reject,h=c.domain;try{l?(i||(2===e.rejection&&ue(e),e.rejection=1),!0===l?a=r:(h&&h.enter(),a=l(r),h&&(h.exit(),u=!0)),a===c.promise?p(Z("Promise-chain cycle")):(s=re(a))?d(s,a,f,p):f(a)):p(r)}catch(e){h&&!u&&h.exit(),p(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&ae(e)}))}},oe=function(e,t,n){var r,i;K?((r=X.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!$&&(i=c["on"+e])?i(r):e===Q&&L("Unhandled promise rejection",n)},ae=function(e){d(T,c,(function(){var t,n=e.facade,r=e.value;if(se(e)&&(t=O((function(){k?q.emit("unhandledRejection",r,n):oe(Q,n,r)})),e.rejection=k||se(e)?2:1,t.error))throw t.value}))},se=function(e){return 1!==e.rejection&&!e.parent},ue=function(e){d(T,c,(function(){var t=e.facade;k?q.emit("rejectionHandled",t):oe("rejectionhandled",t,e.value)}))},ce=function(e,t,n){return function(r){e(t,r,n)}},le=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,ie(e,!0))},de=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw Z("Promise can't be resolved itself");var r=re(t);r?E((function(){var n={done:!1};try{d(r,t,ce(de,n,e),ce(le,n,e))}catch(t){le(n,t,e)}})):(e.value=t,e.state=1,ie(e,!1))}catch(t){le({done:!1},t,e)}}};if(te&&(G=(V=function(e){x(this,G),y(e),d(r,this);var t=j(this);try{e(ce(de,t),ce(le,t))}catch(e){le(t,e)}}).prototype,(r=function(e){W(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=h(G,{then:function(e,t){var n=z(this),r=n.reactions,i=Y(C(this,V));return i.ok=!b(e)||e,i.fail=b(t)&&t,i.domain=k?q.domain:void 0,n.parent=!0,r[r.length]=i,0!=n.state&&ie(n,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=j(e);this.promise=e,this.resolve=ce(de,t),this.reject=ce(le,t)},P.f=Y=function(e){return e===V||e===o?new i(e):J(e)},!u&&b(f)&&H!==Object.prototype)){a=H.then,ee||(p(H,"then",(function(e,t){var n=this;return new V((function(e,t){d(a,n,e,t)})).then(e,t)}),{unsafe:!0}),p(H,"catch",G.catch,{unsafe:!0}));try{delete H.constructor}catch(e){}m&&m(H,G)}s({global:!0,wrap:!0,forced:te},{Promise:V}),v(V,N,!1,!0),g(N),o=l(N),s({target:N,stat:!0,forced:te},{reject:function(e){var t=Y(this);return d(t.reject,void 0,e),t.promise}}),s({target:N,stat:!0,forced:u||te},{resolve:function(e){return _(u&&this===o?V:this,e)}}),s({target:N,stat:!0,forced:ne},{all:function(e){var t=this,n=Y(t),r=n.resolve,i=n.reject,o=O((function(){var n=y(t.resolve),o=[],a=0,s=1;D(e,(function(e){var u=a++,c=!1;s++,d(n,t,e).then((function(e){c||(c=!0,o[u]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=Y(t),r=n.reject,i=O((function(){var i=y(t.resolve);D(e,(function(e){d(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},2586:function(e,t,n){var r=n(2109),i=n(9670),o=n(1236).f;r({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=o(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},4603:function(e,t,n){var r=n(9781),i=n(7854),o=n(1702),a=n(4705),s=n(9587),u=n(8880),c=n(3070).f,l=n(8006).f,d=n(7976),f=n(7850),p=n(1340),h=n(7066),m=n(2999),v=n(1320),g=n(7293),y=n(2597),b=n(9909).enforce,A=n(6340),x=n(5112),w=n(9441),D=n(7168),S=x("match"),C=i.RegExp,T=C.prototype,E=i.SyntaxError,_=o(h),L=o(T.exec),P=o("".charAt),O=o("".replace),F=o("".indexOf),B=o("".slice),M=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,I=/a/g,k=/a/g,R=new C(I)!==I,U=m.UNSUPPORTED_Y;if(a("RegExp",r&&(!R||U||w||D||g((function(){return k[S]=!1,C(I)!=I||C(k)==k||"/a/i"!=C(I,"i")}))))){for(var N=function(e,t){var n,r,i,o,a,c,l=d(T,this),h=f(e),m=void 0===t,v=[],g=e;if(!l&&h&&m&&e.constructor===N)return e;if((h||d(T,e))&&(e=e.source,m&&(t="flags"in g?g.flags:_(g))),e=void 0===e?"":p(e),t=void 0===t?"":p(t),g=e,w&&"dotAll"in I&&(r=!!t&&F(t,"s")>-1)&&(t=O(t,/s/g,"")),n=t,U&&"sticky"in I&&(i=!!t&&F(t,"y")>-1)&&(t=O(t,/y/g,"")),D&&(o=function(e){for(var t,n=e.length,r=0,i="",o=[],a={},s=!1,u=!1,c=0,l="";r<=n;r++){if("\\"===(t=P(e,r)))t+=P(e,++r);else if("]"===t)s=!1;else if(!s)switch(!0){case"["===t:s=!0;break;case"("===t:L(M,B(e,r+1))&&(r+=2,u=!0),i+=t,c++;continue;case">"===t&&u:if(""===l||y(a,l))throw new E("Invalid capture group name");a[l]=!0,o[o.length]=[l,c],u=!1,l="";continue}u?l+=t:i+=t}return[i,o]}(e),e=o[0],v=o[1]),a=s(C(e,t),l?this:T,N),(r||i||v.length)&&(c=b(a),r&&(c.dotAll=!0,c.raw=N(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=P(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+P(e,++r);return i}(e),n)),i&&(c.sticky=!0),v.length&&(c.groups=v)),e!==g)try{u(a,"source",""===g?"(?:)":g)}catch(e){}return a},j=function(e){e in N||c(N,e,{configurable:!0,get:function(){return C[e]},set:function(t){C[e]=t}})},W=l(C),z=0;W.length>z;)j(W[z++]);T.constructor=N,N.prototype=T,v(i,"RegExp",N)}A("RegExp")},4916:function(e,t,n){"use strict";var r=n(2109),i=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},9714:function(e,t,n){"use strict";var r=n(1702),i=n(6530).PROPER,o=n(1320),a=n(9670),s=n(7976),u=n(1340),c=n(7293),l=n(7066),d="toString",f=RegExp.prototype,p=f.toString,h=r(l),m=c((function(){return"/a/b"!=p.call({source:"a",flags:"b"})})),v=i&&p.name!=d;(m||v)&&o(RegExp.prototype,d,(function(){var e=a(this),t=u(e.source),n=e.flags;return"/"+t+"/"+u(void 0===n&&s(f,e)&&!("flags"in f)?h(e):n)}),{unsafe:!0})},2023:function(e,t,n){"use strict";var r=n(2109),i=n(1702),o=n(3929),a=n(4488),s=n(1340),u=n(4964),c=i("".indexOf);r({target:"String",proto:!0,forced:!u("includes")},{includes:function(e){return!!~c(s(a(this)),s(o(e)),arguments.length>1?arguments[1]:void 0)}})},8783:function(e,t,n){"use strict";var r=n(8710).charAt,i=n(1340),o=n(9909),a=n(654),s="String Iterator",u=o.set,c=o.getterFor(s);a(String,"String",(function(e){u(this,{type:s,string:i(e),index:0})}),(function(){var e,t=c(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},6373:function(e,t,n){"use strict";var r=n(2109),i=n(7854),o=n(6916),a=n(1702),s=n(4994),u=n(4488),c=n(7466),l=n(1340),d=n(9670),f=n(4326),p=n(7976),h=n(7850),m=n(7066),v=n(8173),g=n(1320),y=n(7293),b=n(5112),A=n(6707),x=n(1530),w=n(7651),D=n(9909),S=n(1913),C=b("matchAll"),T="RegExp String Iterator",E=D.set,_=D.getterFor(T),L=RegExp.prototype,P=i.TypeError,O=a(m),F=a("".indexOf),B=a("".matchAll),M=!!B&&!y((function(){B("a",/./)})),I=s((function(e,t,n,r){E(this,{type:T,regexp:e,string:t,global:n,unicode:r,done:!1})}),"RegExp String",(function(){var e=_(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,n=e.string,r=w(t,n);return null===r?{value:void 0,done:e.done=!0}:e.global?(""===l(r[0])&&(t.lastIndex=x(n,c(t.lastIndex),e.unicode)),{value:r,done:!1}):(e.done=!0,{value:r,done:!1})})),k=function(e){var t,n,r,i,o,a,s=d(this),u=l(e);return t=A(s,RegExp),void 0===(n=s.flags)&&p(L,s)&&!("flags"in L)&&(n=O(s)),r=void 0===n?"":l(n),i=new t(t===RegExp?s.source:s,r),o=!!~F(r,"g"),a=!!~F(r,"u"),i.lastIndex=c(s.lastIndex),new I(i,u,o,a)};r({target:"String",proto:!0,forced:M},{matchAll:function(e){var t,n,r,i,a=u(this);if(null!=e){if(h(e)&&(t=l(u("flags"in L?e.flags:O(e))),!~F(t,"g")))throw P("`.matchAll` does not allow non-global regexes");if(M)return B(a,e);if(void 0===(r=v(e,C))&&S&&"RegExp"==f(e)&&(r=k),r)return o(r,e,a)}else if(M)return B(a,e);return n=l(a),i=new RegExp(e,"g"),S?o(k,i,n):i[C](n)}}),S||C in L||g(L,C,k)},4723:function(e,t,n){"use strict";var r=n(6916),i=n(7007),o=n(9670),a=n(7466),s=n(1340),u=n(4488),c=n(8173),l=n(1530),d=n(7651);i("match",(function(e,t,n){return[function(t){var n=u(this),i=null==t?void 0:c(t,e);return i?r(i,t,n):new RegExp(t)[e](s(n))},function(e){var r=o(this),i=s(e),u=n(t,r,i);if(u.done)return u.value;if(!r.global)return d(r,i);var c=r.unicode;r.lastIndex=0;for(var f,p=[],h=0;null!==(f=d(r,i));){var m=s(f[0]);p[h]=m,""===m&&(r.lastIndex=l(i,a(r.lastIndex),c)),h++}return 0===h?null:p}]}))},3112:function(e,t,n){"use strict";var r=n(2109),i=n(6650).start;r({target:"String",proto:!0,forced:n(4986)},{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},5306:function(e,t,n){"use strict";var r=n(2104),i=n(6916),o=n(1702),a=n(7007),s=n(7293),u=n(9670),c=n(614),l=n(9303),d=n(7466),f=n(1340),p=n(4488),h=n(1530),m=n(8173),v=n(647),g=n(7651),y=n(5112)("replace"),b=Math.max,A=Math.min,x=o([].concat),w=o([].push),D=o("".indexOf),S=o("".slice),C="$0"==="a".replace(/./,"$0"),T=!!/./[y]&&""===/./[y]("a","$0");a("replace",(function(e,t,n){var o=T?"$":"$0";return[function(e,n){var r=p(this),o=null==e?void 0:m(e,y);return o?i(o,e,r,n):i(t,f(r),e,n)},function(e,i){var a=u(this),s=f(e);if("string"==typeof i&&-1===D(i,o)&&-1===D(i,"$<")){var p=n(t,a,s,i);if(p.done)return p.value}var m=c(i);m||(i=f(i));var y=a.global;if(y){var C=a.unicode;a.lastIndex=0}for(var T=[];;){var E=g(a,s);if(null===E)break;if(w(T,E),!y)break;""===f(E[0])&&(a.lastIndex=h(s,d(a.lastIndex),C))}for(var _,L="",P=0,O=0;O<T.length;O++){for(var F=f((E=T[O])[0]),B=b(A(l(E.index),s.length),0),M=[],I=1;I<E.length;I++)w(M,void 0===(_=E[I])?_:String(_));var k=E.groups;if(m){var R=x([F],M,B,s);void 0!==k&&w(R,k);var U=f(r(i,void 0,R))}else U=v(F,s,B,M,k,i);B>=P&&(L+=S(s,P,B)+U,P=B+F.length)}return L+S(s,P)}]}),!!s((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!C||T)},3123:function(e,t,n){"use strict";var r=n(2104),i=n(6916),o=n(1702),a=n(7007),s=n(7850),u=n(9670),c=n(4488),l=n(6707),d=n(1530),f=n(7466),p=n(1340),h=n(8173),m=n(206),v=n(7651),g=n(2261),y=n(2999),b=n(7293),A=y.UNSUPPORTED_Y,x=4294967295,w=Math.min,D=[].push,S=o(/./.exec),C=o(D),T=o("".slice),E=!b((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));a("split",(function(e,t,n){var o;return o="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var o=p(c(this)),a=void 0===n?x:n>>>0;if(0===a)return[];if(void 0===e)return[o];if(!s(e))return i(t,o,e,a);for(var u,l,d,f=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),v=0,y=new RegExp(e.source,h+"g");(u=i(g,y,o))&&!((l=y.lastIndex)>v&&(C(f,T(o,v,u.index)),u.length>1&&u.index<o.length&&r(D,f,m(u,1)),d=u[0].length,v=l,f.length>=a));)y.lastIndex===u.index&&y.lastIndex++;return v===o.length?!d&&S(y,"")||C(f,""):C(f,T(o,v)),f.length>a?m(f,0,a):f}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:i(t,this,e,n)}:t,[function(t,n){var r=c(this),a=null==t?void 0:h(t,e);return a?i(a,t,r,n):i(o,p(r),t,n)},function(e,r){var i=u(this),a=p(e),s=n(o,i,a,r,o!==t);if(s.done)return s.value;var c=l(i,RegExp),h=i.unicode,m=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(A?"g":"y"),g=new c(A?"^(?:"+i.source+")":i,m),y=void 0===r?x:r>>>0;if(0===y)return[];if(0===a.length)return null===v(g,a)?[a]:[];for(var b=0,D=0,S=[];D<a.length;){g.lastIndex=A?0:D;var E,_=v(g,A?T(a,D):a);if(null===_||(E=w(f(g.lastIndex+(A?D:0)),a.length))===b)D=d(a,D,h);else{if(C(S,T(a,b,D)),S.length===y)return S;for(var L=1;L<=_.length-1;L++)if(C(S,_[L]),S.length===y)return S;D=b=E}}return C(S,T(a,b)),S}]}),!E,A)},1817:function(e,t,n){"use strict";var r=n(2109),i=n(9781),o=n(7854),a=n(1702),s=n(2597),u=n(614),c=n(7976),l=n(1340),d=n(3070).f,f=n(9920),p=o.Symbol,h=p&&p.prototype;if(i&&u(p)&&(!("description"in h)||void 0!==p().description)){var m={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=c(h,this)?new p(e):void 0===e?p():p(e);return""===e&&(m[t]=!0),t};f(v,p),v.prototype=h,h.constructor=v;var g="Symbol(test)"==String(p("test")),y=a(h.toString),b=a(h.valueOf),A=/^Symbol\((.*)\)[^)]+$/,x=a("".replace),w=a("".slice);d(h,"description",{configurable:!0,get:function(){var e=b(this),t=y(e);if(s(m,e))return"";var n=g?w(t,7,-1):x(t,A,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:v})}},2165:function(e,t,n){n(7235)("iterator")},2526:function(e,t,n){"use strict";var r=n(2109),i=n(7854),o=n(5005),a=n(2104),s=n(6916),u=n(1702),c=n(1913),l=n(9781),d=n(133),f=n(7293),p=n(2597),h=n(3157),m=n(614),v=n(111),g=n(7976),y=n(2190),b=n(9670),A=n(7908),x=n(5656),w=n(4948),D=n(1340),S=n(9114),C=n(30),T=n(1956),E=n(8006),_=n(1156),L=n(5181),P=n(1236),O=n(3070),F=n(5296),B=n(206),M=n(1320),I=n(2309),k=n(6200),R=n(3501),U=n(9711),N=n(5112),j=n(6061),W=n(7235),z=n(8003),H=n(9909),V=n(2092).forEach,G=k("hidden"),Z="Symbol",X=N("toPrimitive"),q=H.set,Y=H.getterFor(Z),J=Object.prototype,K=i.Symbol,$=K&&K.prototype,Q=i.TypeError,ee=i.QObject,te=o("JSON","stringify"),ne=P.f,re=O.f,ie=_.f,oe=F.f,ae=u([].push),se=I("symbols"),ue=I("op-symbols"),ce=I("string-to-symbol-registry"),le=I("symbol-to-string-registry"),de=I("wks"),fe=!ee||!ee.prototype||!ee.prototype.findChild,pe=l&&f((function(){return 7!=C(re({},"a",{get:function(){return re(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=ne(J,t);r&&delete J[t],re(e,t,n),r&&e!==J&&re(J,t,r)}:re,he=function(e,t){var n=se[e]=C($);return q(n,{type:Z,tag:e,description:t}),l||(n.description=t),n},me=function(e,t,n){e===J&&me(ue,t,n),b(e);var r=w(t);return b(n),p(se,r)?(n.enumerable?(p(e,G)&&e[G][r]&&(e[G][r]=!1),n=C(n,{enumerable:S(0,!1)})):(p(e,G)||re(e,G,S(1,{})),e[G][r]=!0),pe(e,r,n)):re(e,r,n)},ve=function(e,t){b(e);var n=x(t),r=T(n).concat(Ae(n));return V(r,(function(t){l&&!s(ge,n,t)||me(e,t,n[t])})),e},ge=function(e){var t=w(e),n=s(oe,this,t);return!(this===J&&p(se,t)&&!p(ue,t))&&(!(n||!p(this,t)||!p(se,t)||p(this,G)&&this[G][t])||n)},ye=function(e,t){var n=x(e),r=w(t);if(n!==J||!p(se,r)||p(ue,r)){var i=ne(n,r);return!i||!p(se,r)||p(n,G)&&n[G][r]||(i.enumerable=!0),i}},be=function(e){var t=ie(x(e)),n=[];return V(t,(function(e){p(se,e)||p(R,e)||ae(n,e)})),n},Ae=function(e){var t=e===J,n=ie(t?ue:x(e)),r=[];return V(n,(function(e){!p(se,e)||t&&!p(J,e)||ae(r,se[e])})),r};if(d||(K=function(){if(g($,this))throw Q("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?D(arguments[0]):void 0,t=U(e),n=function(e){this===J&&s(n,ue,e),p(this,G)&&p(this[G],t)&&(this[G][t]=!1),pe(this,t,S(1,e))};return l&&fe&&pe(J,t,{configurable:!0,set:n}),he(t,e)},M($=K.prototype,"toString",(function(){return Y(this).tag})),M(K,"withoutSetter",(function(e){return he(U(e),e)})),F.f=ge,O.f=me,P.f=ye,E.f=_.f=be,L.f=Ae,j.f=function(e){return he(N(e),e)},l&&(re($,"description",{configurable:!0,get:function(){return Y(this).description}}),c||M(J,"propertyIsEnumerable",ge,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:K}),V(T(de),(function(e){W(e)})),r({target:Z,stat:!0,forced:!d},{for:function(e){var t=D(e);if(p(ce,t))return ce[t];var n=K(t);return ce[t]=n,le[n]=t,n},keyFor:function(e){if(!y(e))throw Q(e+" is not a symbol");if(p(le,e))return le[e]},useSetter:function(){fe=!0},useSimple:function(){fe=!1}}),r({target:"Object",stat:!0,forced:!d,sham:!l},{create:function(e,t){return void 0===t?C(e):ve(C(e),t)},defineProperty:me,defineProperties:ve,getOwnPropertyDescriptor:ye}),r({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:be,getOwnPropertySymbols:Ae}),r({target:"Object",stat:!0,forced:f((function(){L.f(1)}))},{getOwnPropertySymbols:function(e){return L.f(A(e))}}),te&&r({target:"JSON",stat:!0,forced:!d||f((function(){var e=K();return"[null]"!=te([e])||"{}"!=te({a:e})||"{}"!=te(Object(e))}))},{stringify:function(e,t,n){var r=B(arguments),i=t;if((v(t)||void 0!==e)&&!y(e))return h(t)||(t=function(e,t){if(m(i)&&(t=s(i,this,e,t)),!y(t))return t}),r[1]=t,a(te,null,r)}}),!$[X]){var xe=$.valueOf;M($,X,(function(e){return s(xe,this)}))}z(K,Z),R[G]=!0},2990:function(e,t,n){"use strict";var r=n(1702),i=n(260),o=r(n(1048)),a=i.aTypedArray;(0,i.exportTypedArrayMethod)("copyWithin",(function(e,t){return o(a(this),e,t,arguments.length>2?arguments[2]:void 0)}))},8927:function(e,t,n){"use strict";var r=n(260),i=n(2092).every,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},3105:function(e,t,n){"use strict";var r=n(260),i=n(6916),o=n(1285),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(e){var t=arguments.length;return i(o,a(this),e,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}))},5035:function(e,t,n){"use strict";var r=n(260),i=n(2092).filter,o=n(3074),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(e){var t=i(a(this),e,arguments.length>1?arguments[1]:void 0);return o(this,t)}))},7174:function(e,t,n){"use strict";var r=n(260),i=n(2092).findIndex,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},4345:function(e,t,n){"use strict";var r=n(260),i=n(2092).find,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},4197:function(e,t,n){n(9843)("Float32",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},2846:function(e,t,n){"use strict";var r=n(260),i=n(2092).forEach,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(e){i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},4731:function(e,t,n){"use strict";var r=n(260),i=n(1318).includes,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},7209:function(e,t,n){"use strict";var r=n(260),i=n(1318).indexOf,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},6319:function(e,t,n){"use strict";var r=n(7854),i=n(1702),o=n(6530).PROPER,a=n(260),s=n(6992),u=n(5112)("iterator"),c=r.Uint8Array,l=i(s.values),d=i(s.keys),f=i(s.entries),p=a.aTypedArray,h=a.exportTypedArrayMethod,m=c&&c.prototype[u],v=!!m&&"values"===m.name,g=function(){return l(p(this))};h("entries",(function(){return f(p(this))})),h("keys",(function(){return d(p(this))})),h("values",g,o&&!v),h(u,g,o&&!v)},8867:function(e,t,n){"use strict";var r=n(260),i=n(1702),o=r.aTypedArray,a=r.exportTypedArrayMethod,s=i([].join);a("join",(function(e){return s(o(this),e)}))},7789:function(e,t,n){"use strict";var r=n(260),i=n(2104),o=n(6583),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(e){var t=arguments.length;return i(o,a(this),t>1?[e,arguments[1]]:[e])}))},3739:function(e,t,n){"use strict";var r=n(260),i=n(2092).map,o=n(6304),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("map",(function(e){return i(a(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(o(e))(t)}))}))},4483:function(e,t,n){"use strict";var r=n(260),i=n(3671).right,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(e){var t=arguments.length;return i(o(this),e,t,t>1?arguments[1]:void 0)}))},9368:function(e,t,n){"use strict";var r=n(260),i=n(3671).left,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(e){var t=arguments.length;return i(o(this),e,t,t>1?arguments[1]:void 0)}))},2056:function(e,t,n){"use strict";var r=n(260),i=r.aTypedArray,o=r.exportTypedArrayMethod,a=Math.floor;o("reverse",(function(){for(var e,t=this,n=i(t).length,r=a(n/2),o=0;o<r;)e=t[o],t[o++]=t[--n],t[n]=e;return t}))},3462:function(e,t,n){"use strict";var r=n(7854),i=n(260),o=n(6244),a=n(4590),s=n(7908),u=n(7293),c=r.RangeError,l=i.aTypedArray;(0,i.exportTypedArrayMethod)("set",(function(e){l(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=s(e),i=o(r),u=0;if(i+t>n)throw c("Wrong length");for(;u<i;)this[t+u]=r[u++]}),u((function(){new Int8Array(1).set({})})))},678:function(e,t,n){"use strict";var r=n(260),i=n(6304),o=n(7293),a=n(206),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("slice",(function(e,t){for(var n=a(s(this),e,t),r=i(this),o=0,u=n.length,c=new r(u);u>o;)c[o]=n[o++];return c}),o((function(){new Int8Array(1).slice()})))},7462:function(e,t,n){"use strict";var r=n(260),i=n(2092).some,o=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},3824:function(e,t,n){"use strict";var r=n(7854),i=n(1702),o=n(7293),a=n(9662),s=n(4362),u=n(260),c=n(8886),l=n(256),d=n(7392),f=n(8008),p=r.Array,h=u.aTypedArray,m=u.exportTypedArrayMethod,v=r.Uint16Array,g=v&&i(v.prototype.sort),y=!(!g||o((function(){g(new v(2),null)}))&&o((function(){g(new v(2),{})}))),b=!!g&&!o((function(){if(d)return d<74;if(c)return c<67;if(l)return!0;if(f)return f<602;var e,t,n=new v(516),r=p(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(g(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0}));m("sort",(function(e){return void 0!==e&&a(e),b?g(this,e):s(h(this),function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!=n?-1:t!=t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}}(e))}),!b||y)},5021:function(e,t,n){"use strict";var r=n(260),i=n(7466),o=n(1400),a=n(6304),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(e,t){var n=s(this),r=n.length,u=o(e,r);return new(a(n))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,i((void 0===t?r:o(t,r))-u))}))},2974:function(e,t,n){"use strict";var r=n(7854),i=n(2104),o=n(260),a=n(7293),s=n(206),u=r.Int8Array,c=o.aTypedArray,l=o.exportTypedArrayMethod,d=[].toLocaleString,f=!!u&&a((function(){d.call(new u(1))}));l("toLocaleString",(function(){return i(d,f?s(c(this)):c(this),s(arguments))}),a((function(){return[1,2].toLocaleString()!=new u([1,2]).toLocaleString()}))||!a((function(){u.prototype.toLocaleString.call([1,2])})))},5016:function(e,t,n){"use strict";var r=n(260).exportTypedArrayMethod,i=n(7293),o=n(7854),a=n(1702),s=o.Uint8Array,u=s&&s.prototype||{},c=[].toString,l=a([].join);i((function(){c.call({})}))&&(c=function(){return l(this)});var d=u.toString!=c;r("toString",c,d)},2472:function(e,t,n){n(9843)("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},3728:function(e,t,n){n(6373)},4747:function(e,t,n){var r=n(7854),i=n(8324),o=n(8509),a=n(8533),s=n(8880),u=function(e){if(e&&e.forEach!==a)try{s(e,"forEach",a)}catch(t){e.forEach=a}};for(var c in i)i[c]&&u(r[c]&&r[c].prototype);u(o)},3948:function(e,t,n){var r=n(7854),i=n(8324),o=n(8509),a=n(6992),s=n(8880),u=n(5112),c=u("iterator"),l=u("toStringTag"),d=a.values,f=function(e,t){if(e){if(e[c]!==d)try{s(e,c,d)}catch(t){e[c]=d}if(e[l]||s(e,l,t),i[t])for(var n in a)if(e[n]!==a[n])try{s(e,n,a[n])}catch(t){e[n]=a[n]}}};for(var p in i)f(r[p]&&r[p].prototype,p);f(o,"DOMTokenList")},1637:function(e,t,n){"use strict";n(6992);var r=n(2109),i=n(7854),o=n(5005),a=n(6916),s=n(1702),u=n(590),c=n(1320),l=n(2248),d=n(8003),f=n(4994),p=n(9909),h=n(5787),m=n(614),v=n(2597),g=n(9974),y=n(648),b=n(9670),A=n(111),x=n(1340),w=n(30),D=n(9114),S=n(8554),C=n(1246),T=n(5112),E=n(4362),_=T("iterator"),L="URLSearchParams",P="URLSearchParamsIterator",O=p.set,F=p.getterFor(L),B=p.getterFor(P),M=o("fetch"),I=o("Request"),k=o("Headers"),R=I&&I.prototype,U=k&&k.prototype,N=i.RegExp,j=i.TypeError,W=i.decodeURIComponent,z=i.encodeURIComponent,H=s("".charAt),V=s([].join),G=s([].push),Z=s("".replace),X=s([].shift),q=s([].splice),Y=s("".split),J=s("".slice),K=/\+/g,$=Array(4),Q=function(e){return $[e-1]||($[e-1]=N("((?:%[\\da-f]{2}){"+e+"})","gi"))},ee=function(e){try{return W(e)}catch(t){return e}},te=function(e){var t=Z(e,K," "),n=4;try{return W(t)}catch(e){for(;n;)t=Z(t,Q(n--),ee);return t}},ne=/[!'()~]|%20/g,re={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ie=function(e){return re[e]},oe=function(e){return Z(z(e),ne,ie)},ae=function(e,t){if(t)for(var n,r,i=Y(t,"&"),o=0;o<i.length;)(n=i[o++]).length&&(r=Y(n,"="),G(e,{key:te(X(r)),value:te(V(r,"="))}))},se=function(e){this.entries.length=0,ae(this.entries,e)},ue=function(e,t){if(e<t)throw j("Not enough arguments")},ce=f((function(e,t){O(this,{type:P,iterator:S(F(e).entries),kind:t})}),"Iterator",(function(){var e=B(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n})),le=function(){h(this,de);var e,t,n,r,i,o,s,u,c,l=arguments.length>0?arguments[0]:void 0,d=this,f=[];if(O(d,{type:L,entries:f,updateURL:function(){},updateSearchParams:se}),void 0!==l)if(A(l))if(e=C(l))for(n=(t=S(l,e)).next;!(r=a(n,t)).done;){if(o=(i=S(b(r.value))).next,(s=a(o,i)).done||(u=a(o,i)).done||!a(o,i).done)throw j("Expected sequence with length 2");G(f,{key:x(s.value),value:x(u.value)})}else for(c in l)v(l,c)&&G(f,{key:c,value:x(l[c])});else ae(f,"string"==typeof l?"?"===H(l,0)?J(l,1):l:x(l))},de=le.prototype;if(l(de,{append:function(e,t){ue(arguments.length,2);var n=F(this);G(n.entries,{key:x(e),value:x(t)}),n.updateURL()},delete:function(e){ue(arguments.length,1);for(var t=F(this),n=t.entries,r=x(e),i=0;i<n.length;)n[i].key===r?q(n,i,1):i++;t.updateURL()},get:function(e){ue(arguments.length,1);for(var t=F(this).entries,n=x(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){ue(arguments.length,1);for(var t=F(this).entries,n=x(e),r=[],i=0;i<t.length;i++)t[i].key===n&&G(r,t[i].value);return r},has:function(e){ue(arguments.length,1);for(var t=F(this).entries,n=x(e),r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){ue(arguments.length,1);for(var n,r=F(this),i=r.entries,o=!1,a=x(e),s=x(t),u=0;u<i.length;u++)(n=i[u]).key===a&&(o?q(i,u--,1):(o=!0,n.value=s));o||G(i,{key:a,value:s}),r.updateURL()},sort:function(){var e=F(this);E(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,n=F(this).entries,r=g(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new ce(this,"keys")},values:function(){return new ce(this,"values")},entries:function(){return new ce(this,"entries")}},{enumerable:!0}),c(de,_,de.entries,{name:"entries"}),c(de,"toString",(function(){for(var e,t=F(this).entries,n=[],r=0;r<t.length;)e=t[r++],G(n,oe(e.key)+"="+oe(e.value));return V(n,"&")}),{enumerable:!0}),d(le,L),r({global:!0,forced:!u},{URLSearchParams:le}),!u&&m(k)){var fe=s(U.has),pe=s(U.set),he=function(e){if(A(e)){var t,n=e.body;if(y(n)===L)return t=e.headers?new k(e.headers):new k,fe(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),w(e,{body:D(0,x(n)),headers:D(0,t)})}return e};if(m(M)&&r({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return M(e,arguments.length>1?he(arguments[1]):{})}}),m(I)){var me=function(e){return h(this,R),new I(e,arguments.length>1?he(arguments[1]):{})};R.constructor=me,me.prototype=R,r({global:!0,forced:!0},{Request:me})}}e.exports={URLSearchParams:le,getState:F}},285:function(e,t,n){"use strict";n(8783);var r,i=n(2109),o=n(9781),a=n(590),s=n(7854),u=n(9974),c=n(6916),l=n(1702),d=n(6048),f=n(1320),p=n(5787),h=n(2597),m=n(1574),v=n(8457),g=n(206),y=n(8710).codeAt,b=n(3197),A=n(1340),x=n(8003),w=n(1637),D=n(9909),S=D.set,C=D.getterFor("URL"),T=w.URLSearchParams,E=w.getState,_=s.URL,L=s.TypeError,P=s.parseInt,O=Math.floor,F=Math.pow,B=l("".charAt),M=l(/./.exec),I=l([].join),k=l(1..toString),R=l([].pop),U=l([].push),N=l("".replace),j=l([].shift),W=l("".split),z=l("".slice),H=l("".toLowerCase),V=l([].unshift),G="Invalid scheme",Z="Invalid host",X="Invalid port",q=/[a-z]/i,Y=/[\d+-.a-z]/i,J=/\d/,K=/^0x/i,$=/^[0-7]+$/,Q=/^\d+$/,ee=/^[\da-f]+$/i,te=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ne=/[\0\t\n\r #/:<>?@[\\\]^|]/,re=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,ie=/[\t\n\r]/g,oe=function(e,t){var n,r,i;if("["==B(t,0)){if("]"!=B(t,t.length-1))return Z;if(!(n=se(z(t,1,-1))))return Z;e.host=n}else if(me(e)){if(t=b(t),M(te,t))return Z;if(null===(n=ae(t)))return Z;e.host=n}else{if(M(ne,t))return Z;for(n="",r=v(t),i=0;i<r.length;i++)n+=pe(r[i],ce);e.host=n}},ae=function(e){var t,n,r,i,o,a,s,u=W(e,".");if(u.length&&""==u[u.length-1]&&u.length--,(t=u.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=u[r]))return e;if(o=10,i.length>1&&"0"==B(i,0)&&(o=M(K,i)?16:8,i=z(i,8==o?1:2)),""===i)a=0;else{if(!M(10==o?Q:8==o?$:ee,i))return e;a=P(i,o)}U(n,a)}for(r=0;r<t;r++)if(a=n[r],r==t-1){if(a>=F(256,5-t))return null}else if(a>255)return null;for(s=R(n),r=0;r<n.length;r++)s+=n[r]*F(256,3-r);return s},se=function(e){var t,n,r,i,o,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,d=0,f=function(){return B(e,d)};if(":"==f()){if(":"!=B(e,1))return;d+=2,l=++c}for(;f();){if(8==c)return;if(":"!=f()){for(t=n=0;n<4&&M(ee,f());)t=16*t+P(f(),16),d++,n++;if("."==f()){if(0==n)return;if(d-=n,c>6)return;for(r=0;f();){if(i=null,r>0){if(!("."==f()&&r<4))return;d++}if(!M(J,f()))return;for(;M(J,f());){if(o=P(f(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;d++}u[c]=256*u[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==f()){if(d++,!f())return}else if(f())return;u[c++]=t}else{if(null!==l)return;d++,l=++c}}if(null!==l)for(a=c-l,c=7;0!=c&&a>0;)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s;else if(8!=c)return;return u},ue=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)V(t,e%256),e=O(e/256);return I(t,".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=k(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ce={},le=m({},ce,{" ":1,'"':1,"<":1,">":1,"`":1}),de=m({},le,{"#":1,"?":1,"{":1,"}":1}),fe=m({},de,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),pe=function(e,t){var n=y(e,0);return n>32&&n<127&&!h(t,e)?e:encodeURIComponent(e)},he={ftp:21,file:null,http:80,https:443,ws:80,wss:443},me=function(e){return h(he,e.scheme)},ve=function(e){return""!=e.username||""!=e.password},ge=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},ye=function(e,t){var n;return 2==e.length&&M(q,B(e,0))&&(":"==(n=B(e,1))||!t&&"|"==n)},be=function(e){var t;return e.length>1&&ye(z(e,0,2))&&(2==e.length||"/"===(t=B(e,2))||"\\"===t||"?"===t||"#"===t)},Ae=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&ye(t[0],!0)||t.length--},xe=function(e){return"."===e||"%2e"===H(e)},we={},De={},Se={},Ce={},Te={},Ee={},_e={},Le={},Pe={},Oe={},Fe={},Be={},Me={},Ie={},ke={},Re={},Ue={},Ne={},je={},We={},ze={},He=function(e,t,n,i){var o,a,s,u,c,l=n||we,d=0,f="",p=!1,m=!1,y=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=N(t,re,"")),t=N(t,ie,""),o=v(t);d<=o.length;){switch(a=o[d],l){case we:if(!a||!M(q,a)){if(n)return G;l=Se;continue}f+=H(a),l=De;break;case De:if(a&&(M(Y,a)||"+"==a||"-"==a||"."==a))f+=H(a);else{if(":"!=a){if(n)return G;f="",l=Se,d=0;continue}if(n&&(me(e)!=h(he,f)||"file"==f&&(ve(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(me(e)&&he[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?l=Ie:me(e)&&i&&i.scheme==e.scheme?l=Ce:me(e)?l=Le:"/"==o[d+1]?(l=Te,d++):(e.cannotBeABaseURL=!0,U(e.path,""),l=je)}break;case Se:if(!i||i.cannotBeABaseURL&&"#"!=a)return G;if(i.cannotBeABaseURL&&"#"==a){e.scheme=i.scheme,e.path=g(i.path),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,l=ze;break}l="file"==i.scheme?Ie:Ee;continue;case Ce:if("/"!=a||"/"!=o[d+1]){l=Ee;continue}l=Pe,d++;break;case Te:if("/"==a){l=Oe;break}l=Ne;continue;case Ee:if(e.scheme=i.scheme,a==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=g(i.path),e.query=i.query;else if("/"==a||"\\"==a&&me(e))l=_e;else if("?"==a)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=g(i.path),e.query="",l=We;else{if("#"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=g(i.path),e.path.length--,l=Ne;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=g(i.path),e.query=i.query,e.fragment="",l=ze}break;case _e:if(!me(e)||"/"!=a&&"\\"!=a){if("/"!=a){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,l=Ne;continue}l=Oe}else l=Pe;break;case Le:if(l=Pe,"/"!=a||"/"!=B(f,d+1))continue;d++;break;case Pe:if("/"!=a&&"\\"!=a){l=Oe;continue}break;case Oe:if("@"==a){p&&(f="%40"+f),p=!0,s=v(f);for(var b=0;b<s.length;b++){var A=s[b];if(":"!=A||y){var x=pe(A,fe);y?e.password+=x:e.username+=x}else y=!0}f=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&me(e)){if(p&&""==f)return"Invalid authority";d-=v(f).length+1,f="",l=Fe}else f+=a;break;case Fe:case Be:if(n&&"file"==e.scheme){l=Re;continue}if(":"!=a||m){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&me(e)){if(me(e)&&""==f)return Z;if(n&&""==f&&(ve(e)||null!==e.port))return;if(u=oe(e,f))return u;if(f="",l=Ue,n)return;continue}"["==a?m=!0:"]"==a&&(m=!1),f+=a}else{if(""==f)return Z;if(u=oe(e,f))return u;if(f="",l=Me,n==Be)return}break;case Me:if(!M(J,a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&me(e)||n){if(""!=f){var w=P(f,10);if(w>65535)return X;e.port=me(e)&&w===he[e.scheme]?null:w,f=""}if(n)return;l=Ue;continue}return X}f+=a;break;case Ie:if(e.scheme="file","/"==a||"\\"==a)l=ke;else{if(!i||"file"!=i.scheme){l=Ne;continue}if(a==r)e.host=i.host,e.path=g(i.path),e.query=i.query;else if("?"==a)e.host=i.host,e.path=g(i.path),e.query="",l=We;else{if("#"!=a){be(I(g(o,d),""))||(e.host=i.host,e.path=g(i.path),Ae(e)),l=Ne;continue}e.host=i.host,e.path=g(i.path),e.query=i.query,e.fragment="",l=ze}}break;case ke:if("/"==a||"\\"==a){l=Re;break}i&&"file"==i.scheme&&!be(I(g(o,d),""))&&(ye(i.path[0],!0)?U(e.path,i.path[0]):e.host=i.host),l=Ne;continue;case Re:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&ye(f))l=Ne;else if(""==f){if(e.host="",n)return;l=Ue}else{if(u=oe(e,f))return u;if("localhost"==e.host&&(e.host=""),n)return;f="",l=Ue}continue}f+=a;break;case Ue:if(me(e)){if(l=Ne,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(l=Ne,"/"!=a))continue}else e.fragment="",l=ze;else e.query="",l=We;break;case Ne:if(a==r||"/"==a||"\\"==a&&me(e)||!n&&("?"==a||"#"==a)){if(".."===(c=H(c=f))||"%2e."===c||".%2e"===c||"%2e%2e"===c?(Ae(e),"/"==a||"\\"==a&&me(e)||U(e.path,"")):xe(f)?"/"==a||"\\"==a&&me(e)||U(e.path,""):("file"==e.scheme&&!e.path.length&&ye(f)&&(e.host&&(e.host=""),f=B(f,0)+":"),U(e.path,f)),f="","file"==e.scheme&&(a==r||"?"==a||"#"==a))for(;e.path.length>1&&""===e.path[0];)j(e.path);"?"==a?(e.query="",l=We):"#"==a&&(e.fragment="",l=ze)}else f+=pe(a,de);break;case je:"?"==a?(e.query="",l=We):"#"==a?(e.fragment="",l=ze):a!=r&&(e.path[0]+=pe(a,ce));break;case We:n||"#"!=a?a!=r&&("'"==a&&me(e)?e.query+="%27":e.query+="#"==a?"%23":pe(a,ce)):(e.fragment="",l=ze);break;case ze:a!=r&&(e.fragment+=pe(a,le))}d++}},Ve=function(e){var t,n,r=p(this,Ge),i=arguments.length>1?arguments[1]:void 0,a=A(e),s=S(r,{type:"URL"});if(void 0!==i)try{t=C(i)}catch(e){if(n=He(t={},A(i)))throw L(n)}if(n=He(s,a,null,t))throw L(n);var u=s.searchParams=new T,l=E(u);l.updateSearchParams(s.query),l.updateURL=function(){s.query=A(u)||null},o||(r.href=c(Ze,r),r.origin=c(Xe,r),r.protocol=c(qe,r),r.username=c(Ye,r),r.password=c(Je,r),r.host=c(Ke,r),r.hostname=c($e,r),r.port=c(Qe,r),r.pathname=c(et,r),r.search=c(tt,r),r.searchParams=c(nt,r),r.hash=c(rt,r))},Ge=Ve.prototype,Ze=function(){var e=C(this),t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,u=e.fragment,c=t+":";return null!==i?(c+="//",ve(e)&&(c+=n+(r?":"+r:"")+"@"),c+=ue(i),null!==o&&(c+=":"+o)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?a[0]:a.length?"/"+I(a,"/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Xe=function(){var e=C(this),t=e.scheme,n=e.port;if("blob"==t)try{return new Ve(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&me(e)?t+"://"+ue(e.host)+(null!==n?":"+n:""):"null"},qe=function(){return C(this).scheme+":"},Ye=function(){return C(this).username},Je=function(){return C(this).password},Ke=function(){var e=C(this),t=e.host,n=e.port;return null===t?"":null===n?ue(t):ue(t)+":"+n},$e=function(){var e=C(this).host;return null===e?"":ue(e)},Qe=function(){var e=C(this).port;return null===e?"":A(e)},et=function(){var e=C(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+I(t,"/"):""},tt=function(){var e=C(this).query;return e?"?"+e:""},nt=function(){return C(this).searchParams},rt=function(){var e=C(this).fragment;return e?"#"+e:""},it=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(o&&d(Ge,{href:it(Ze,(function(e){var t=C(this),n=A(e),r=He(t,n);if(r)throw L(r);E(t.searchParams).updateSearchParams(t.query)})),origin:it(Xe),protocol:it(qe,(function(e){var t=C(this);He(t,A(e)+":",we)})),username:it(Ye,(function(e){var t=C(this),n=v(A(e));if(!ge(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=pe(n[r],fe)}})),password:it(Je,(function(e){var t=C(this),n=v(A(e));if(!ge(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=pe(n[r],fe)}})),host:it(Ke,(function(e){var t=C(this);t.cannotBeABaseURL||He(t,A(e),Fe)})),hostname:it($e,(function(e){var t=C(this);t.cannotBeABaseURL||He(t,A(e),Be)})),port:it(Qe,(function(e){var t=C(this);ge(t)||(""==(e=A(e))?t.port=null:He(t,e,Me))})),pathname:it(et,(function(e){var t=C(this);t.cannotBeABaseURL||(t.path=[],He(t,A(e),Ue))})),search:it(tt,(function(e){var t=C(this);""==(e=A(e))?t.query=null:("?"==B(e,0)&&(e=z(e,1)),t.query="",He(t,e,We)),E(t.searchParams).updateSearchParams(t.query)})),searchParams:it(nt),hash:it(rt,(function(e){var t=C(this);""!=(e=A(e))?("#"==B(e,0)&&(e=z(e,1)),t.fragment="",He(t,e,ze)):t.fragment=null}))}),f(Ge,"toJSON",(function(){return c(Ze,this)}),{enumerable:!0}),f(Ge,"toString",(function(){return c(Ze,this)}),{enumerable:!0}),_){var ot=_.createObjectURL,at=_.revokeObjectURL;ot&&f(Ve,"createObjectURL",u(ot,_)),at&&f(Ve,"revokeObjectURL",u(at,_))}x(Ve,"URL"),i({global:!0,forced:!a,sham:!o},{URL:Ve})},2979:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".tooltip-O9VBh .mapboxgl-popup-tip {\n  display: none;\n}\n\n.tooltip-O9VBh .mapboxgl-popup-content {\n  color: #f8f8f8;\n  background: rgba(0, 0, 0, 0.47);\n  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n  padding: 0 .25em;\n  pointer-events: none;\n}\n\n.tooltip-O9VBh.hidden-n4P5d {\n  display: none !important;\n}\n",""]),a.locals={tooltip:"tooltip-O9VBh",hidden:"hidden-n4P5d"},t.Z=a},3376:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".legends-_IeRm {\n  position: absolute;\n  bottom: 60px;\n  left: 10px;\n  top: 30px;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  pointer-events: initial;\n}\n\n.mb-phone .legends-_IeRm {\n  left: 0;\n}\n\n.legend-FubQ9 canvas {\n  display: block;\n}\n\n.legendHeader-UeNoU {\n  color: #f8f8f8;\n  color: var(--meteoblue-mapsplugin-color-primary, #f8f8f8);\n  background: rgba(0, 0, 0, 0.47);\n  background: var(--meteoblue-mapsplugin-background-primary, rgba(0, 0, 0, 0.47));\n  text-align: center;\n  position: relative;\n}\n\n.legendHeader-UeNoU .unitSelect-iqxN_ {\n  position: absolute;\n  left: 0;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  width: 100%;\n  opacity: 0;\n  cursor: pointer;\n}\n\n.unitTitle-ttMCV {\n  text-decoration: underline;\n  -webkit-text-decoration-style: dotted;\n          text-decoration-style: dotted;\n}\n\n.legendEntry-ebbPI {\n  padding: 0.1em 0.3em;\n  text-align: right;\n}\n\n.legendCategory-AK03w {\n  color: #f8f8f8;\n  color: var(--meteoblue-mapsplugin-color-primary, #f8f8f8);\n  background: rgba(0, 0, 0, 0.47);\n  background: var(--meteoblue-mapsplugin-background-primary, rgba(0, 0, 0, 0.47));\n}\n\n.legendCategory-AK03w:last-of-type {\n  margin-bottom: 0;\n}\n\n.categoryImage-L1mEG {\n  max-width: 50px;\n}\n\n.categoryColor-ifF6E {\n  padding: 0.2em 0.5em;\n  text-align: right;\n}\n",""]),a.locals={legends:"legends-_IeRm",legend:"legend-FubQ9",legendHeader:"legendHeader-UeNoU",unitSelect:"unitSelect-iqxN_",unitTitle:"unitTitle-ttMCV",legendEntry:"legendEntry-ebbPI",legendCategory:"legendCategory-AK03w",categoryImage:"categoryImage-L1mEG",categoryColor:"categoryColor-ifF6E"},t.Z=a},9510:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".loading-Y9Zss {\n  position: absolute;\n  top: 75%;\n  left: 50%;\n  transform: translate(-50%, -50%) translateZ(0);\n  font-family: Arial, Helvetica, sans-serif;\n  pointer-events: none;\n}\n\n.loading-Y9Zss .timer-orgx_ {\n  padding: 4px 6px;\n  border-radius: 5px;\n  background: rgba(38, 38, 38, 0.47);\n  color: #f8f8f8;\n  font-size: 1.25em;\n  font-weight: bold;\n  text-align: center;\n}\n\n.spinner-d7259 {\n  width: 70px;\n  text-align: center;\n}\n\n.spinner-d7259 > div {\n  width: 18px;\n  height: 18px;\n  background-color: rgba(255, 255, 255, 0.8);\n  box-shadow: 0 0 10px #646464;\n  border-radius: 100%;\n  display: inline-block;\n  -webkit-animation: sk-bouncedelay-jb5Ni 1.4s infinite ease-in-out both;\n  animation: sk-bouncedelay-jb5Ni 1.4s infinite ease-in-out both;\n}\n\n.spinner-d7259 .bounce1-Ywi_u {\n  -webkit-animation-delay: -0.32s;\n  animation-delay: -0.32s;\n}\n\n.spinner-d7259 .bounce2-hJURR {\n  -webkit-animation-delay: -0.16s;\n  animation-delay: -0.16s;\n}\n\n@-webkit-keyframes sk-bouncedelay-jb5Ni {\n  0%, 80%, 100% {\n    -webkit-transform: scale(0);\n  }\n  40% {\n    -webkit-transform: scale(1);\n  }\n}\n\n@keyframes sk-bouncedelay-jb5Ni {\n  0%, 80%, 100% {\n    transform: scale(0);\n  }\n  40% {\n    transform: scale(1);\n  }\n}\n",""]),a.locals={loading:"loading-Y9Zss",timer:"timer-orgx_",spinner:"spinner-d7259","sk-bouncedelay":"sk-bouncedelay-jb5Ni",bounce1:"bounce1-Ywi_u",bounce2:"bounce2-hJURR"},t.Z=a},1834:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".maps-PSzhi {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n  pointer-events: none;\n  direction: ltr;\n}\n\n.mapboxMap-xstcX {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: grey;\n}\n\n.timeSelectionContainer-rnJ67 {\n  position: relative;\n  bottom: 0;\n  left: 0px;\n  display: flex;\n}\n\n.timeSelectionContainer-rnJ67.permanentlyHidden-LhYKt {\n  visibility: hidden !important;\n  pointer-events: none !important;\n}\n\n.timeSelectionWrapper-oGz5d {\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  bottom: 10px;\n  left: 10px;\n  right: 220px;\n  z-index: 2;\n  margin: 0 auto;\n  pointer-events: initial;\n  transition: right 500ms;\n  min-width: 300px;\n}\n\n.timeSelectionWrapper-oGz5d.fullWidth-ZiCXc {\n  right: 10px;\n}\n\n.timeSelectionWrapper-oGz5d.hidden-HWb9O {\n  visibility: hidden;\n  pointer-events: none;\n}\n\n.timeSelectionWrapper-oGz5d .calendarContainer-JNHEH {\n  display: flex;\n  position: relative;\n  height: 36px;\n  margin-left: 10px;\n  border-radius: 5px;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px);\n  background: rgba(0, 0, 0, 0.47);\n  background: var(--meteoblue-mapsplugin-background-primary, rgba(0, 0, 0, 0.47));\n}\n\n.timeSelectionWrapper-oGz5d .calendarContainer-JNHEH .dateInput-p14H6 {\n  background: none;\n  color: #f8f8f8;\n  color: var(--meteoblue-mapsplugin-color-primary, #f8f8f8);\n  border: none;\n}\n\n.mb-phone .timeSelectionWrapper-oGz5d {\n  bottom: 15px;\n  left: 0;\n}\n\n.mb-phone .timeSelectionWrapper-oGz5d.fullWidth-ZiCXc {\n  right: 0;\n}\n\n.logo-H4PCf {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n  width: 20%;\n  max-width: 220px;\n  min-width: 150px;\n}\n",""]),a.locals={maps:"maps-PSzhi",mapboxMap:"mapboxMap-xstcX",timeSelectionContainer:"timeSelectionContainer-rnJ67",permanentlyHidden:"permanentlyHidden-LhYKt",timeSelectionWrapper:"timeSelectionWrapper-oGz5d",fullWidth:"fullWidth-ZiCXc",hidden:"hidden-HWb9O",calendarContainer:"calendarContainer-JNHEH",dateInput:"dateInput-p14H6",logo:"logo-H4PCf"},t.Z=a},1363:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),u=n.n(s),c=new URL(n(334),n.b),l=new URL(n(409),n.b),d=new URL(n(4181),n.b),f=new URL(n(4385),n.b),p=a()(i()),h=u()(c),m=u()(l),v=u()(d),g=u()(f);p.push([e.id,".select-ZPaHn {\n  position: relative;\n  height: 2.5em;\n}\n\n.select-ZPaHn select {\n  position: absolute;\n  margin: 0.25em 0.8em;\n  padding-right: 10px;\n  height: 100%;\n  max-width: 180px;\n  border: none;\n  font-size: 13px;\n  opacity: 0;\n}\n\n.select-ZPaHn select::-ms-expand {\n  display: none;\n}\n\n.select-ZPaHn .dropdownHeader-eLx_f {\n  position: absolute;\n  margin: 0.25em 0.75em;\n  border: 1px solid #929292;\n  border: var(--meteoblue-mapsplugin-border, 1px solid #929292);\n  border-radius: 5px;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px);\n  padding: 0.2em 0.5em;\n  pointer-events: none;\n  max-width: 180px;\n  padding-right: 30px;\n  white-space: nowrap;\n  box-sizing: border-box;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.select-ZPaHn .dropdownHeader-eLx_f:after {\n  display: inline-block;\n  position: absolute;\n  content: url("+h+");\n  content: var(--meteoblue-mapsplugin-icon-arrow, url("+h+"));\n  margin-left: 0.5em;\n  right: 10px;\n}\n\n.mb-rtl select {\n  direction: rtl;\n  right: 0;\n}\n\n.mb-rtl .dropdownHeader-eLx_f {\n  right: 0;\n}\n\n.mb-rtl .searchBarInputText-pMgOZ {\n  background: url("+m+") right no-repeat;\n  background-size: 18px 18px;\n  background-position: 0px 7px 7px;\n  background-color: rgba(0, 0, 0, 0.2);\n}\n\n.mb-rtl .searchBarTextClear-eakdh {\n  right: unset;\n  left: 5px;\n}\n\n.overlaysSelectionWrapper-O7O_6 {\n  margin: 0.5em 0 0.1em 0;\n}\n\n.toggleWrapper-wKpjH {\n  position: relative;\n  margin: 0 1em;\n  cursor: pointer;\n}\n\n.toggleWrapper-wKpjH .toggle-owm6j {\n  width: 15px;\n  height: 11px;\n  border-radius: 11px;\n  position: absolute;\n  right: 0;\n  top: 50%;\n  transform: translateY(-50%);\n  border: 1px solid #f8f8f8;\n  border: 1px solid var(--meteoblue-mapsplugin-color-toggle, #f8f8f8);\n}\n\n.toggleWrapper-wKpjH .toggle-owm6j:after {\n  background: 1px solid #f8f8f8;\n  background: var(--meteoblue-mapsplugin-color-toggle, #f8f8f8);\n}\n\n.toggleWrapper-wKpjH .toggle-owm6j.active-GX2EL {\n  background: #103f78;\n  background: var(--meteoblue-mapsplugin-background-highlight, #103f78);\n}\n\n.toggleWrapper-wKpjH .toggle-owm6j:after {\n  position: absolute;\n  top: 1px;\n  left: 1px;\n  content: '';\n  width: 9px;\n  height: 9px;\n  border-radius: 100%;\n}\n\n.toggleWrapper-wKpjH .toggle-owm6j.active-GX2EL:after {\n  left: 5px;\n}\n\n.toggleWrapper-wKpjH.activeByDefault-1kEIr {\n  display: none;\n}\n\n.mb-rtl .toggleWrapper-wKpjH {\n  text-align: right;\n  padding-right: 25px;\n}\n\n.inlineButtons-ymbn5 {\n  width: -webkit-max-content;\n  width: -moz-max-content;\n  width: max-content;\n  cursor: pointer;\n  white-space: nowrap;\n}\n\n.inlineButtons-ymbn5 .inlineButton-EWi6W {\n  display: inline-block;\n  padding: 0.2em 0.5em;\n  border: 1px solid #929292;\n  border: var(--meteoblue-mapsplugin-border, 1px solid #929292);\n  border-left: none;\n}\n\n.inlineButtons-ymbn5 .inlineButton-EWi6W:hover, .inlineButtons-ymbn5 .inlineButton-EWi6W.active-GX2EL {\n  background: #04101e;\n  background: var(--meteoblue-mapsplugin-background-highlight-secondary, #04101e);\n}\n\n.inlineButtons-ymbn5 .inlineButton-EWi6W:first-of-type {\n  border: 1px solid #929292;\n  border: var(--meteoblue-mapsplugin-border, 1px solid #929292);\n  border-radius: 5px 0 0 5px;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px) 0 0 var(--meteoblue-mapsplugin-border-radius, 5px);\n}\n\n.inlineButtons-ymbn5 .inlineButton-EWi6W:last-of-type {\n  border-radius: 0 5px 5px 0;\n  border-radius: 0 var(--meteoblue-mapsplugin-border-radius, 5px) var(--meteoblue-mapsplugin-border-radius, 5px) 0;\n}\n\n.inlineButtons-ymbn5.multipleRows-VM14_ {\n  width: 100%;\n}\n\n.inlineButtons-ymbn5.multipleRows-VM14_ .inlineButton-EWi6W {\n  display: block;\n  border: 1px solid #929292;\n  border: var(--meteoblue-mapsplugin-border, 1px solid #929292);\n  border-top-width: 0;\n  white-space: initial;\n}\n\n.inlineButtons-ymbn5.multipleRows-VM14_ .inlineButton-EWi6W:first-of-type {\n  border: 1px solid #929292;\n  border: var(--meteoblue-mapsplugin-border, 1px solid #929292);\n  border-radius: 5px 5px 0 0;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px) var(--meteoblue-mapsplugin-border-radius, 5px) 0 0;\n}\n\n.inlineButtons-ymbn5.multipleRows-VM14_ .inlineButton-EWi6W:last-of-type {\n  border-radius: 0 0 5px 5px;\n  border-radius: 0 0 var(--meteoblue-mapsplugin-border-radius, 5px) var(--meteoblue-mapsplugin-border-radius, 5px);\n}\n\n.mb-rtl .inlineButtons-ymbn5 .inlineButton-EWi6W:first-of-type {\n  border: 1px solid #929292;\n  border: var(--meteoblue-mapsplugin-border, 1px solid #929292);\n  border-radius: 0 5px 5px 0;\n  border-radius: 0 var(--meteoblue-mapsplugin-border-radius, 5px) var(--meteoblue-mapsplugin-border-radius, 5px) 0;\n}\n\n.mb-rtl .inlineButtons-ymbn5 .inlineButton-EWi6W:last-of-type {\n  border-right: 0;\n  border: 1px solid #929292;\n  border: var(--meteoblue-mapsplugin-border, 1px solid #929292);\n  border-radius: 5px 0 0 5px;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px) 0 0 var(--meteoblue-mapsplugin-border-radius, 5px);\n}\n\n.mb-rtl .inlineButtons-ymbn5.multipleRows-VM14_ .inlineButton-EWi6W:first-of-type {\n  border: 1px solid #929292;\n  border: var(--meteoblue-mapsplugin-border, 1px solid #929292);\n  border-radius: 5px 5px 0 0;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px) var(--meteoblue-mapsplugin-border-radius, 5px) 0 0;\n}\n\n.mb-rtl .inlineButtons-ymbn5.multipleRows-VM14_ .inlineButton-EWi6W:last-of-type {\n  border-top: 0;\n  border-radius: 0 0 5px 5px;\n  border-radius: 0 0 var(--meteoblue-mapsplugin-border-radius, 5px) var(--meteoblue-mapsplugin-border-radius, 5px);\n}\n\n.sidebar-FgS_J {\n  position: absolute;\n  top: 10px;\n  bottom: 10px;\n  right: 10px;\n  z-index: 3;\n  width: 200px;\n  color: #f8f8f8;\n  color: var(--meteoblue-mapsplugin-color-primary, #f8f8f8);\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 13px;\n  pointer-events: none;\n  transition: right 500ms;\n}\n\n.sidebar-FgS_J.hidden-fMSC_ {\n  right: -200px !important;\n}\n\n.sidebar-FgS_J.hidden-fMSC_ .controls-X9MLQ .toggleMenuButton-PZ2Od:after {\n  transform: rotate(90deg);\n}\n\n.mb-phone .sidebar-FgS_J {\n  top: 0;\n  bottom: 0;\n  right: 0;\n}\n\n.wrapper-Eexjt {\n  order: 2;\n  overflow: hidden;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  border-radius: 5px;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px);\n}\n\n.mb-phone .wrapper-Eexjt {\n  border-radius: 5px 0 5px 5px;\n}\n\n.menu-APvrY {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n}\n\n.mb-rtl .menu-APvrY {\n  direction: rtl;\n}\n\n.categoriesContainer-QSCZ6 {\n  overflow: auto;\n  pointer-events: auto;\n  text-shadow: 1px 1px 2px black;\n  text-shadow: var(--meteoblue-mapsplugin-text-shadow, 1px 1px 2px black);\n  background: rgba(0, 0, 0, 0.47);\n  background: var(--meteoblue-mapsplugin-background-primary, rgba(0, 0, 0, 0.47));\n  scrollbar-width: thin;\n  scrollbar-color: var(--meteoblue-mapsplugin-color-scrollbar, #aaa) rgba(0, 0, 0, 0.2);\n}\n\n.categoriesContainer-QSCZ6::-webkit-scrollbar {\n  background-color: rgba(0, 0, 0, 0.2);\n  height: 8px;\n}\n\n.categoriesContainer-QSCZ6::-webkit-scrollbar-thumb {\n  background-color: var(--meteoblue-mapsplugin-color-scrollbar, #aaa);\n  border-radius: 4px;\n}\n\n.mb-phone .categoriesContainer-QSCZ6 {\n  border-radius: 5px 0 0 5px;\n  border-radius: 0 0 0 var(--meteoblue-mapsplugin-border-radius, 5px);\n}\n\n.categorieContainer-JbEgo {\n  display: flex;\n  flex-direction: column;\n  text-align: left;\n}\n\n.categorieContainer-JbEgo .mapContainer-lYViL {\n  display: none;\n}\n\n.categorieContainer-JbEgo.active-GX2EL .mapContainer-lYViL {\n  display: block;\n}\n\n.mb-rtl .categorieContainer-JbEgo {\n  text-align: right;\n}\n\n.categorieTitle-tje4G {\n  font-size: 1em;\n  font-weight: bold;\n  margin: 0;\n  padding: 0.5em 1em;\n  background: rgba(0, 0, 0, 0.2);\n  width: 100%;\n  box-sizing: border-box;\n  pointer-events: initial;\n  cursor: pointer;\n}\n\n.mapContainer-lYViL {\n  width: 100%;\n  max-width: 200px;\n  pointer-events: initial;\n  box-sizing: border-box;\n}\n\n.mapContainer-lYViL.active-GX2EL, .mapContainer-lYViL:hover {\n  background: #103f78;\n  background: var(--meteoblue-mapsplugin-background-highlight, #103f78);\n}\n\n.mapContainer-lYViL.noHighlight-Z7uL4 {\n  background: none;\n}\n\n.mapContainer-lYViL.active-GX2EL .mapTitle-d1s8D {\n  cursor: pointer;\n  padding: 0.5em 1em;\n  overflow: visible;\n  white-space: initial;\n  text-overflow: initial;\n}\n\n.mapContainer-lYViL .mapTitle-d1s8D {\n  cursor: pointer;\n  padding: 0.5em 1em;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}\n\n.mapContainer-lYViL .mapOptions-Qpzl_ {\n  max-width: 100%;\n}\n\n.mapContainer-lYViL .variants-KAUpa {\n  display: flex;\n  padding: 0.2em 0.7em;\n  margin-bottom: 0.5em;\n}\n\n.mapContainer-lYViL .levels-N7dUl {\n  margin-bottom: 0.5em;\n}\n\n.mb-rtl .variants-KAUpa {\n  padding-right: 0.7em;\n}\n\n.settings-yJMnl {\n  order: 4;\n  width: 200px;\n  color: #f8f8f8;\n  color: var(--meteoblue-mapsplugin-color-primary, #f8f8f8);\n  font-family: Arial, Helvetica, sans-serif;\n  font-size: 13px;\n  text-shadow: 1px 1px 2px black;\n  text-shadow: var(--meteoblue-mapsplugin-text-shadow, 1px 1px 2px black);\n  border-radius: 5px;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px);\n  pointer-events: initial;\n  margin-top: 12px;\n  background: rgba(0, 0, 0, 0.47);\n  background: var(--meteoblue-mapsplugin-background-primary, rgba(0, 0, 0, 0.47));\n}\n\n.mb-phone .settings-yJMnl {\n  border-radius: 5px 0 0 5px;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px) 0 0 var(--meteoblue-mapsplugin-border-radius, 5px);\n}\n\n.customMenu-X0kJb {\n  margin-top: 0.5em;\n  border-top: 1px solid #929292;\n  border-top: var(--meteoblue-mapsplugin-border, 1px solid #929292);\n}\n\n.customMenu-X0kJb .customMenuEntry-BizmL {\n  display: inline-block;\n  cursor: pointer;\n  padding-right: 0.5em;\n  margin-left: 0.5em;\n  border-right: 1px solid #929292;\n  border-right: var(--meteoblue-mapsplugin-border, 1px solid #929292);\n  color: #f8f8f8;\n  color: var(--meteoblue-mapsplugin-color-primary, #f8f8f8);\n  text-decoration: none;\n}\n\n.customMenu-X0kJb .customMenuEntry-BizmL:last-of-type {\n  border-right: none;\n}\n\n.customMenu-X0kJb .customMenuEntry-BizmL:hover {\n  color: #9dbcff;\n  color: var(--meteoblue-mapsplugin-color-link-hover, #9dbcff);\n}\n\n.mb-rtl .customMenu-X0kJb {\n  text-align: right;\n}\n\n.mb-rtl .customMenu-X0kJb .customMenuEntry-BizmL {\n  margin-right: 0.5em;\n  margin-left: 0;\n  padding-right: 0;\n  padding-left: 0.5em;\n  border-right: none;\n  border-left: 1px solid #acacac;\n}\n\n.mb-rtl .customMenu-X0kJb .customMenuEntry-BizmL:last-of-type {\n  border-left: none;\n}\n\n.controls-X9MLQ {\n  position: absolute;\n  transform: translateX(-100%);\n  display: flex;\n  pointer-events: initial;\n  opacity: 0.7;\n  transition: opacity 150ms;\n}\n\n.controls-X9MLQ:hover {\n  opacity: 1;\n}\n\n.controlButton-NthjG {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 28px;\n  height: 28px;\n  margin-right: 5px;\n  border-radius: 5px;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px);\n  color: #f8f8f8;\n  color: var(--meteoblue-mapsplugin-color-primary, #f8f8f8);\n  background: rgba(0, 0, 0, 0.47);\n  background: var(--meteoblue-mapsplugin-background-primary, rgba(0, 0, 0, 0.47));\n  cursor: pointer;\n}\n\n.zoomButton-jVVBn {\n  font-size: 1.5em;\n}\n\n.toggleMenuButton-PZ2Od:after {\n  content: url("+h+");\n  content: var(--meteoblue-mapsplugin-icon-arrow, url("+h+"));\n  position: absolute;\n  transform: rotate(-90deg);\n  transition: transform 500ms;\n  transition-delay: 500ms;\n}\n\n.logStyleButton-HSUHI {\n  width: -webkit-max-content;\n  width: -moz-max-content;\n  width: max-content;\n  padding: 0 0.25em;\n}\n\n.mb-phone .controls-X9MLQ {\n  margin-top: 10px;\n}\n\n.mb-phone .controls-X9MLQ .toggleMenuButton-PZ2Od {\n  width: 42px;\n  height: 42px;\n}\n\n.mb-phone .controls-X9MLQ .zoomButton-jVVBn {\n  display: none;\n}\n\n.mb-phone .sidebar-FgS_J.hidden-fMSC_ .toggleMenuButton-PZ2Od {\n  display: none;\n}\n\n.menuButton-S2KQh {\n  display: none;\n}\n\n.mb-phone .sidebar-FgS_J.hidden-fMSC_ .menuButton-S2KQh {\n  display: flex;\n  position: absolute;\n  bottom: 120px;\n  margin-right: 10px;\n  transform: translateX(calc(-100% - 5px));\n  pointer-events: initial;\n  background: rgba(0, 0, 0, 0.47);\n  background: var(--meteoblue-mapsplugin-background-primary, rgba(0, 0, 0, 0.47));\n  width: 36px;\n  height: 36px;\n}\n\n.mb-phone .sidebar-FgS_J.hidden-fMSC_ .menuButton-S2KQh:before {\n  display: block;\n  content: url("+v+");\n  content: var(--meteoblue-mapsplugin-icon-menu, url("+v+"));\n  transform: scale(1.5);\n}\n\n.backgroundMask-EQc8P {\n  display: none;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: 2;\n  pointer-events: initial;\n  transition: background-color 400ms;\n}\n\n.mb-phone .backgroundMask-EQc8P {\n  display: block;\n}\n\n.mapboxgl-ctrl-attrib {\n  display: none;\n}\n\n.shareOption-fOFiy {\n  display: block;\n  margin: 1em 0;\n}\n\ninput.shareOption-fOFiy {\n  margin-top: 3em;\n}\n\n.thirdPartyContentAreaAboveMenu-m3tCb {\n  order: 1;\n}\n\n.thirdPartyContentAreaBelowMenu-XVVlo {\n  order: 3;\n}\n\n.thirdPartyContentAreaBelowOptions-M4h8T {\n  order: 5;\n}\n\n.searchBarContainer-l0muN {\n  text-shadow: 1px 1px 2px black;\n  text-shadow: var(--meteoblue-mapsplugin-text-shadow, 1px 1px 2px black);\n  background: rgba(0, 0, 0, 0.47);\n  background: var(--meteoblue-mapsplugin-background-primary, rgba(0, 0, 0, 0.47));\n  padding: 5px 5px 7px;\n}\n\n.searchBarInputText-pMgOZ {\n  pointer-events: all;\n  border: 0;\n  width: 100%;\n  height: 31px;\n  padding: 0 35px;\n  background-position: 8px;\n  background-size: 16px;\n  background-color: rgba(0, 0, 0, 0.2);\n  box-sizing: border-box;\n  /* clears the 'X' from Internet Explorer */\n  /* clears the 'X' from Chrome */\n  color: #f8f8f8;\n  color: var(--meteoblue-mapsplugin-color-primary, #f8f8f8);\n  border-radius: 5px;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px);\n  background-image: url("+m+");\n  background-image: var(--meteoblue-mapsplugin-icon-search, url("+m+"));\n  background-repeat: no-repeat;\n}\n\n.searchBarInputText-pMgOZ::-ms-clear, .searchBarInputText-pMgOZ::-ms-reveal {\n  display: none;\n  width: 0;\n  height: 0;\n}\n\n.searchBarInputText-pMgOZ::-webkit-search-decoration, .searchBarInputText-pMgOZ::-webkit-search-cancel-button, .searchBarInputText-pMgOZ::-webkit-search-results-button, .searchBarInputText-pMgOZ::-webkit-search-results-decoration {\n  display: none;\n}\n\n.searchBarInputText-pMgOZ::-moz-placeholder {\n  color: #f8f8f8 0.5;\n}\n\n.searchBarInputText-pMgOZ:-ms-input-placeholder {\n  color: #f8f8f8 0.5;\n}\n\n.searchBarInputText-pMgOZ::placeholder {\n  color: #f8f8f8 0.5;\n}\n\n.searchBarInputText-pMgOZ:focus {\n  outline: 2px solid #103f78;\n  outline: var(--meteoblue-mapsplugin-background-highlight, 2px solid #103f78);\n}\n\n.searchBarTextClear-eakdh {\n  position: absolute;\n  top: 5px;\n  right: 5px;\n  height: 31px;\n  width: 30px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  pointer-events: all;\n  border-radius: 0 5px 5px 0;\n  cursor: pointer;\n  background-color: transparent;\n  border: 0;\n  border-radius: 5px;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px);\n}\n\n.searchBarTextClear-eakdh:before {\n  content: url("+g+");\n  content: var(--meteoblue-mapsplugin-icon-close, url("+g+"));\n}\n\n.searchBarTextClear-eakdh.hidden-fMSC_ {\n  display: none;\n}\n\n.searchNoResultContainer-RNT2Y {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100px;\n  color: #f8f8f8;\n  color: var(--meteoblue-mapsplugin-color-primary, #f8f8f8);\n}\n",""]),p.locals={select:"select-ZPaHn",dropdownHeader:"dropdownHeader-eLx_f",searchBarInputText:"searchBarInputText-pMgOZ",searchBarTextClear:"searchBarTextClear-eakdh",overlaysSelectionWrapper:"overlaysSelectionWrapper-O7O_6",toggleWrapper:"toggleWrapper-wKpjH",toggle:"toggle-owm6j",active:"active-GX2EL",activeByDefault:"activeByDefault-1kEIr",inlineButtons:"inlineButtons-ymbn5",inlineButton:"inlineButton-EWi6W",multipleRows:"multipleRows-VM14_",sidebar:"sidebar-FgS_J",hidden:"hidden-fMSC_",controls:"controls-X9MLQ",toggleMenuButton:"toggleMenuButton-PZ2Od",wrapper:"wrapper-Eexjt",menu:"menu-APvrY",categoriesContainer:"categoriesContainer-QSCZ6",categorieContainer:"categorieContainer-JbEgo",mapContainer:"mapContainer-lYViL",categorieTitle:"categorieTitle-tje4G",noHighlight:"noHighlight-Z7uL4",mapTitle:"mapTitle-d1s8D",mapOptions:"mapOptions-Qpzl_",variants:"variants-KAUpa",levels:"levels-N7dUl",settings:"settings-yJMnl",customMenu:"customMenu-X0kJb",customMenuEntry:"customMenuEntry-BizmL",controlButton:"controlButton-NthjG",zoomButton:"zoomButton-jVVBn",logStyleButton:"logStyleButton-HSUHI",menuButton:"menuButton-S2KQh",backgroundMask:"backgroundMask-EQc8P",shareOption:"shareOption-fOFiy",thirdPartyContentAreaAboveMenu:"thirdPartyContentAreaAboveMenu-m3tCb",thirdPartyContentAreaBelowMenu:"thirdPartyContentAreaBelowMenu-XVVlo",thirdPartyContentAreaBelowOptions:"thirdPartyContentAreaBelowOptions-M4h8T",searchBarContainer:"searchBarContainer-l0muN",searchNoResultContainer:"searchNoResultContainer-RNT2Y"},t.Z=p},3200:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),u=n.n(s),c=new URL(n(4385),n.b),l=a()(i()),d=u()(c);l.push([e.id,".background-oy_HF {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  z-index: 500;\n  background-color: rgba(51, 51, 51, 0.47);\n  -webkit-backdrop-filter: blur(3px);\n          backdrop-filter: blur(3px);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.modalWrapper-UfPZo {\n  background: rgba(0, 0, 0, 0.47);\n  background: var(--meteoblue-mapsplugin-background-primary, rgba(0, 0, 0, 0.47));\n  color: #f8f8f8;\n  color: var(--meteoblue-mapsplugin-color-primary, #f8f8f8);\n  border-radius: 5px;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px);\n  font-size: 14px;\n  overflow: hidden;\n  margin: 1em;\n}\n\n.content-c8RlK {\n  padding: 1em;\n}\n\n.content-c8RlK a {\n  color: #f8f8f8;\n  color: var(--meteoblue-mapsplugin-color-primary, #f8f8f8);\n}\n\n.buttons-hS0ch {\n  padding: 1em;\n  text-align: right;\n}\n\n.button-nP924 {\n  padding: 0.5em;\n  border: 1px solid #929292;\n  border: var(--meteoblue-mapsplugin-border, 1px solid #929292);\n  border-radius: 5px;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px);\n  color: #f8f8f8;\n  color: var(--meteoblue-mapsplugin-color-primary, #f8f8f8);\n  background: none;\n  cursor: pointer;\n  font-size: 12px;\n}\n\n.button-nP924:hover {\n  color: #9dbcff;\n  color: var(--meteoblue-mapsplugin-color-link-hover, #9dbcff);\n}\n\n.header-UUAVg {\n  display: flex;\n  justify-content: space-between;\n  min-height: 1.5em;\n  background: #103f78;\n  background: var(--meteoblue-mapsplugin-background-highlight, #103f78);\n  padding: 1em;\n}\n\n.close-odHGn {\n  cursor: pointer;\n  margin-left: 1em;\n}\n\n.close-odHGn:before {\n  content: url("+d+");\n  content: var(--meteoblue-mapsplugin-icon-close, url("+d+"));\n}\n",""]),l.locals={background:"background-oy_HF",modalWrapper:"modalWrapper-UfPZo",content:"content-c8RlK",buttons:"buttons-hS0ch",button:"button-nP924",header:"header-UUAVg",close:"close-odHGn"},t.Z=l},7912:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".snackbarWrapper-fDesv {\n  position: absolute;\n  bottom: 150px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: -webkit-max-content;\n  width: -moz-max-content;\n  width: max-content;\n  max-width: 80%;\n  display: flex;\n  padding: 1em;\n  background: rgba(0, 0, 0, 0.47);\n  color: #f8f8f8;\n  border: 1px solid rgba(0, 0, 0, 0.47);\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px);\n  box-shadow: 0 0 70px rgba(0, 0, 0, 0.4);\n  font-size: 14px;\n  opacity: 1;\n  transition: opacity 500ms, transform 300ms cubic-bezier(0.33, 1, 0.68, 1);\n}\n\n.fadingIn-xmiak {\n  opacity: 0;\n  transform: translateX(-50%) translateY(50px);\n}\n\n.fadingOut-XQrrV {\n  opacity: 0;\n}\n\n.actionButton-wHdZo {\n  margin-left: 1.5em;\n  font-weight: bold;\n  cursor: pointer;\n}\n",""]),a.locals={snackbarWrapper:"snackbarWrapper-fDesv",fadingIn:"fadingIn-xmiak",fadingOut:"fadingOut-XQrrV",actionButton:"actionButton-wHdZo"},t.Z=a},598:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".thirdPartyContentArea-ZOZYS.topArea-UgTfU {\n  position: absolute;\n  top: 10px;\n  left: 10px;\n}\n\n.thirdPartyContentArea-ZOZYS.mainArea-xI3AB {\n  position: absolute;\n  top: 50px;\n  right: 220px;\n  bottom: 50px;\n  left: 70px;\n  transition: right 500ms;\n}\n",""]),a.locals={thirdPartyContentArea:"thirdPartyContentArea-ZOZYS",topArea:"topArea-UgTfU",mainArea:"mainArea-xI3AB"},t.Z=a},1260:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),u=n.n(s),c=new URL(n(334),n.b),l=a()(i()),d=u()(c);l.push([e.id,'.wrapper-Jbwzk {\n  max-width: -webkit-max-content;\n  max-width: -moz-max-content;\n  max-width: max-content;\n  margin: 0 auto;\n  display: flex;\n  overflow: hidden;\n  color: #f8f8f8;\n  color: var(--meteoblue-mapsplugin-color-primary, #f8f8f8);\n  text-shadow: 1px 1px 2px black;\n  text-shadow: var(--meteoblue-mapsplugin-text-shadow, 1px 1px 2px black);\n  background: rgba(0, 0, 0, 0.47);\n  background: var(--meteoblue-mapsplugin-background-primary, rgba(0, 0, 0, 0.47));\n  border-radius: 5px;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px);\n}\n\n.mb-phone .wrapper-Jbwzk {\n  border-radius: 5px 5px 0 0;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px) var(--meteoblue-mapsplugin-border-radius, 5px) 0 0;\n}\n\n.timeCategories-COHcq {\n  white-space: nowrap;\n  overflow: auto;\n  cursor: pointer;\n  scrollbar-width: thin;\n  scrollbar-color: var(--meteoblue-mapsplugin-color-scrollbar, #aaa) rgba(0, 0, 0, 0.2);\n}\n\n.timeCategories-COHcq::-webkit-scrollbar {\n  background-color: rgba(0, 0, 0, 0.2);\n  height: 8px;\n}\n\n.timeCategories-COHcq::-webkit-scrollbar-thumb {\n  background-color: var(--meteoblue-mapsplugin-color-scrollbar, #aaa);\n  border-radius: 4px;\n}\n\n.timeCategory-IBZnv {\n  display: inline-block;\n  text-align: center;\n  z-index: 1;\n  position: relative;\n  padding: 8px 15px;\n  white-space: nowrap;\n  border-right: 1px solid #929292;\n  border-right: var(--meteoblue-mapsplugin-border, 1px solid #929292);\n}\n\n.timeCategory-IBZnv.active-tcboa {\n  background: #103f78;\n  background: var(--meteoblue-mapsplugin-background-highlight, #103f78);\n}\n\n.controls-qMj_J {\n  display: flex;\n}\n\n.next-tc4Sa, .prev-OL6Zb, .timeCategory-IBZnv {\n  box-sizing: border-box;\n  min-width: 25px;\n  min-height: 25px;\n}\n\n@media (pointer: coarse) {\n  .next-tc4Sa, .prev-OL6Zb, .timeCategory-IBZnv {\n    min-width: 50px;\n    min-height: 50px;\n    padding: 15px 20px;\n  }\n}\n\n.next-tc4Sa, .prev-OL6Zb {\n  padding: 0.5em 1em;\n  cursor: pointer;\n  align-self: center;\n}\n\n@media (pointer: coarse) {\n  .next-tc4Sa, .prev-OL6Zb {\n    padding: 15px 20px;\n  }\n}\n\n.prev-OL6Zb:before {\n  display: block;\n  content: "";\n  content: url('+d+");\n  content: var(--meteoblue-mapsplugin-icon-arrow, url("+d+'));\n  transform: rotate(90deg);\n}\n\n@media (pointer: coarse) {\n  .prev-OL6Zb:before {\n    transform: rotate(90deg) scale(1.5);\n  }\n}\n\n.next-tc4Sa:before {\n  display: block;\n  content: "";\n  content: url('+d+");\n  content: var(--meteoblue-mapsplugin-icon-arrow, url("+d+"));\n  transform: rotate(-90deg);\n}\n\n@media (pointer: coarse) {\n  .next-tc4Sa:before {\n    transform: rotate(-90deg) scale(1.5);\n  }\n}\n",""]),l.locals={wrapper:"wrapper-Jbwzk",timeCategories:"timeCategories-COHcq",timeCategory:"timeCategory-IBZnv",active:"active-tcboa",controls:"controls-qMj_J",next:"next-tc4Sa",prev:"prev-OL6Zb"},t.Z=l},8078:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),u=n.n(s),c=new URL(n(334),n.b),l=a()(i()),d=u()(c);l.push([e.id,'/**time slider start **/\n.timeControl-SkfDN {\n  width: 100%;\n  cursor: pointer;\n  font-family: Arial, Helvetica, sans-serif;\n  background: rgba(0, 0, 0, 0.47);\n  background: var(--meteoblue-mapsplugin-background-primary, rgba(0, 0, 0, 0.47));\n  color: #f8f8f8;\n  color: var(--meteoblue-mapsplugin-color-primary, #f8f8f8);\n  text-shadow: 1px 1px 2px black;\n  text-shadow: var(--meteoblue-mapsplugin-text-shadow, 1px 1px 2px black);\n  border-radius: 5px;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px);\n}\n.mb-phone .timeControl-SkfDN {\n  border-radius: 5px 5px 0 0;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px) var(--meteoblue-mapsplugin-border-radius, 5px) 0 0;\n}\n.timeElement-mCcgz .glyph-z5sGi {\n  font-size: inherit;\n}\n.timeElement-mCcgz .glyph-z5sGi.backward-ORVe0::before {\n  display: block;\n  content: "";\n  content: url('+d+");\n  content: var(--meteoblue-mapsplugin-icon-arrow, url("+d+'));\n  transform: rotate(90deg);\n}\n@media (pointer: coarse) {\n  .timeElement-mCcgz .glyph-z5sGi.backward-ORVe0::before {\n    transform: rotate(90deg) scale(1.5);\n  }\n}\n.timeElement-mCcgz .glyph-z5sGi.forward-_iCvy::before {\n  display: block;\n  content: "";\n  content: url('+d+");\n  content: var(--meteoblue-mapsplugin-icon-arrow, url("+d+'));\n  transform: rotate(-90deg);\n}\n@media (pointer: coarse) {\n  .timeElement-mCcgz .glyph-z5sGi.forward-_iCvy::before {\n    transform: rotate(-90deg) scale(1.5);\n  }\n}\n.timeElement-mCcgz .glyph-z5sGi.next-DHKLt {\n  font-size: inherit;\n}\n.timeElement-mCcgz {\n  text-align: center;\n  z-index: 1;\n  position: relative;\n  padding: 8px 15px;\n  display: table-cell;\n  border-left: 1px solid #929292;\n  border-left: var(--meteoblue-mapsplugin-border, 1px solid #929292);\n  white-space: nowrap;\n}\n.timeElement-mCcgz .glyph-z5sGi:before {\n  line-height: 0.5em;\n}\n@media (pointer: coarse) {\n  .timeElement-mCcgz {\n    padding: 15px 20px;\n  }\n}\n.timeElement-mCcgz:first-of-type,\n.last-NfhIG {\n  border-left: none;\n}\n.timeElement-mCcgz:hover {\n  background-color: rgba(255, 255, 255, 0.2);\n}\n.timeSliderOuter-AKnfq {\n  position: relative;\n  display: table-cell;\n  width: 100%;\n}\n.timeSlider-zg2rd {\n  width: 100%;\n  display: table;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n.timeSlider-zg2rd.inidcateFutureSteps-M0HnN .timeElement-mCcgz:last-of-type:after,\n.timeSlider-zg2rd.inidcatePastSteps-E4dsx .timeElement-mCcgz:first-of-type:before {\n  content: "";\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 15%;\n  pointer-events: none;\n}\n.timeSlider-zg2rd.inidcateFutureSteps-M0HnN .timeElement-mCcgz:last-of-type:after {\n  right: 0;\n  background: linear-gradient(90deg, transparent, rgba(0, 0, 0, 0.3));\n}\n.timeSlider-zg2rd.inidcatePastSteps-E4dsx .timeElement-mCcgz:first-of-type:before {\n  left: 0;\n  border-radius: 0.4em;\n  background: linear-gradient(90deg, rgba(0, 0, 0, 0.3), transparent);\n}\n.timeProgress-uvehN,\n.hoverProgress-WeojR {\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 6px;\n  width: 0;\n}\n.notransition-aHY0e {\n  transition: none !important;\n}\n.timeProgress-uvehN {\n  background: rgba(255, 142, 75, 0.58);\n  background: var(--meteoblue-mapsplugin-color-progress-bar, rgba(255, 142, 75, 0.58));\n  transition: width 0.3s;\n}\n.hoverProgress-WeojR {\n  border-right: 3px solid black;\n}\n.timeHour-mNJgh,\n.hoverHour-IVZlt {\n  cursor: ew-resize;\n  border-radius: 5px;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px);\n  padding: 4px 7px;\n  position: absolute;\n  top: -30px;\n  right: 0;\n  transform: translateX(50%);\n  background: rgba(0, 0, 0, 0.47);\n  background: var(--meteoblue-mapsplugin-background-primary, rgba(0, 0, 0, 0.47));\n  text-shadow: 1px 1px 2px black;\n  text-shadow: var(--meteoblue-mapsplugin-text-shadow, 1px 1px 2px black);\n  z-index: 799;\n  white-space: nowrap;\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n#now-OxaqD {\n  position: absolute;\n  height: 6px;\n  border-right: 4px solid white;\n  pointer-events: none;\n}\n.hide-tEbY2 {\n  display: none;\n}\n',""]),l.locals={timeControl:"timeControl-SkfDN",timeElement:"timeElement-mCcgz",glyph:"glyph-z5sGi",backward:"backward-ORVe0",forward:"forward-_iCvy",next:"next-DHKLt",last:"last-NfhIG",timeSliderOuter:"timeSliderOuter-AKnfq",timeSlider:"timeSlider-zg2rd",inidcateFutureSteps:"inidcateFutureSteps-M0HnN",inidcatePastSteps:"inidcatePastSteps-E4dsx",timeProgress:"timeProgress-uvehN",hoverProgress:"hoverProgress-WeojR",notransition:"notransition-aHY0e",timeHour:"timeHour-mNJgh",hoverHour:"hoverHour-IVZlt",now:"now-OxaqD",hide:"hide-tEbY2"},t.Z=l},9348:function(e,t,n){"use strict";var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),u=n.n(s),c=new URL(n(334),n.b),l=new URL(n(1380),n.b),d=new URL(n(4385),n.b),f=new URL(n(834),n.b),p=a()(i()),h=u()(c),m=u()(l),v=u()(d),g=u()(f);p.push([e.id,".wrapper-q21sZ {\n  max-width: -webkit-max-content;\n  max-width: -moz-max-content;\n  max-width: max-content;\n  display: flex;\n  margin: 0 0 0 auto;\n  overflow: hidden;\n  color: #f8f8f8;\n  color: var(--meteoblue-mapsplugin-color-primary, #f8f8f8);\n  text-shadow: 1px 1px 2px black;\n  text-shadow: var(--meteoblue-mapsplugin-text-shadow, 1px 1px 2px black);\n  background: rgba(0, 0, 0, 0.47);\n  background: var(--meteoblue-mapsplugin-background-primary, rgba(0, 0, 0, 0.47));\n  border-radius: 5px;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px);\n}\n\n.mb-phone .wrapper-q21sZ {\n  border-radius: 5px 5px 0 0;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px) var(--meteoblue-mapsplugin-border-radius, 5px) 0 0;\n}\n\n.disabled-Qhc6L {\n  cursor: not-allowed;\n  color: #9c9c9c;\n}\n\n.disabled-Qhc6L .timeSteps-XTidU {\n  pointer-events: none;\n}\n\n.disabled-Qhc6L .prev-wm17h, .disabled-Qhc6L .next-P57mw, .disabled-Qhc6L .play-vxSRW {\n  pointer-events: none;\n}\n\n.timeSteps-XTidU {\n  white-space: nowrap;\n  overflow-x: auto;\n  overflow-y: hidden;\n  cursor: pointer;\n  max-height: 40px;\n  scrollbar-width: thin;\n  scrollbar-color: var(--meteoblue-mapsplugin-color-scrollbar, #aaa) rgba(0, 0, 0, 0.2);\n}\n\n.timeSteps-XTidU::-webkit-scrollbar {\n  background-color: rgba(0, 0, 0, 0.2);\n  height: 8px;\n}\n\n.timeSteps-XTidU::-webkit-scrollbar-thumb {\n  background-color: var(--meteoblue-mapsplugin-color-scrollbar, #aaa);\n  border-radius: 4px;\n}\n\n.mb-phone .timeSteps-XTidU {\n  max-height: 50px;\n}\n\n.timeStep-tt119 {\n  display: inline-block;\n  text-align: center;\n  z-index: 1;\n  position: relative;\n  padding: 8px 15px 12px;\n  white-space: nowrap;\n}\n\n.timeStep-tt119.active-eMvm6, .timeStep-tt119:hover {\n  background: #103f78;\n  background: var(--meteoblue-mapsplugin-background-highlight, #103f78);\n}\n\n@media (pointer: coarse) {\n  .timeStep-tt119 {\n    min-width: 50px;\n    padding: 15px 5px;\n  }\n}\n\n.controls-At4P3 {\n  height: 40px;\n  display: flex;\n  order: 1;\n}\n\n@media (pointer: coarse) {\n  .controls-At4P3 {\n    height: 50px;\n  }\n}\n\n.next-P57mw, .prev-wm17h, .play-vxSRW, .stop-aRwxl {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 40px;\n  height: 100%;\n  line-height: 0;\n  cursor: pointer;\n}\n\n@media (pointer: coarse) {\n  .next-P57mw, .prev-wm17h, .play-vxSRW, .stop-aRwxl {\n    width: 50px;\n  }\n}\n\n.play-vxSRW {\n  background: #103f78;\n  background: var(--meteoblue-mapsplugin-background-highlight, #103f78);\n}\n\n.stop-aRwxl.hidden-Wwqbi {\n  display: none;\n}\n\n.prev-wm17h:before {\n  display: block;\n  transform: rotate(90deg);\n  content: url("+h+");\n  content: var(--meteoblue-mapsplugin-icon-arrow, url("+h+"));\n}\n\n.next-P57mw:before {\n  display: block;\n  transform: rotate(-90deg);\n  content: url("+h+");\n  content: var(--meteoblue-mapsplugin-icon-arrow, url("+h+"));\n}\n\n.play-vxSRW:before {\n  content: url("+m+");\n  content: var(--meteoblue-mapsplugin-icon-play, url("+m+"));\n}\n\n.stop-aRwxl:before {\n  content: url("+v+");\n  content: var(--meteoblue-mapsplugin-icon-close, url("+v+"));\n}\n\n@media (pointer: coarse) {\n  .next-P57mw, .prev-wm17h, .play-vxSRW {\n    transform: scale(1.5);\n  }\n}\n\n.next-P57mw:before, .prev-wm17h:before, .play-vxSRW:before {\n  padding-bottom: 5%;\n}\n\n.thirdPartyContentAndRangesContainer-fG58B {\n  display: flex;\n  align-items: flex-end;\n  position: absolute;\n  right: 0;\n  bottom: 45px;\n}\n\n.mb-phone .thirdPartyContentAndRangesContainer-fG58B {\n  bottom: 55px;\n}\n\n.timeRanges-b4ycb {\n  display: inline-flex;\n  overflow: hidden;\n  cursor: pointer;\n  color: #f8f8f8;\n  color: var(--meteoblue-mapsplugin-color-primary, #f8f8f8);\n  text-shadow: 1px 1px 2px black;\n  text-shadow: var(--meteoblue-mapsplugin-text-shadow, 1px 1px 2px black);\n  background: rgba(0, 0, 0, 0.47);\n  background: var(--meteoblue-mapsplugin-background-primary, rgba(0, 0, 0, 0.47));\n  border-radius: 5px;\n  border-radius: var(--meteoblue-mapsplugin-border-radius, 5px);\n}\n\n.timeRange-fNi0a {\n  padding: 0.2em 0.5em;\n}\n\n.timeRange-fNi0a:hover, .timeRange-fNi0a.active-eMvm6 {\n  background: #103f78;\n  background: #103f78;\n  background: var(--meteoblue-mapsplugin-background-highlight, #103f78);\n}\n\n.playing-gy4nV .timeStep-tt119, .playing-gy4nV .next-P57mw, .playing-gy4nV .prev-wm17h, .scrubbingMode-EtMUC .timeStep-tt119, .scrubbingMode-EtMUC .next-P57mw, .scrubbingMode-EtMUC .prev-wm17h {\n  display: none;\n}\n\n.playing-gy4nV .play-vxSRW:before {\n  content: url("+g+");\n  content: var(--meteoblue-mapsplugin-icon-stop, url("+g+"));\n}\n\n.playing-gy4nV .timeRange-fNi0a {\n  display: none;\n}\n\n.timeIndicator-GGaWR {\n  font-size: 2em;\n  width: 65px;\n}\n\n.timeIndicator-GGaWR:hover {\n  background: none;\n}\n\n.timeSliderContainer-LoIq5 {\n  display: flex;\n  position: relative;\n  align-items: center;\n  min-width: 50px;\n  margin: 0 10px;\n  cursor: pointer;\n}\n\n.timeSliderContainer-LoIq5::before {\n  content: '';\n  display: block;\n  position: absolute;\n  background: rgba(0, 0, 0, 0.47);\n  height: 3px;\n  width: 100%;\n}\n\n.timeSlider-F_Igh {\n  position: relative;\n  height: 100%;\n  margin: 0;\n  -webkit-appearance: none;\n  -moz-appearance: none;\n       appearance: none;\n  background: none;\n}\n\n.timeSlider-F_Igh::-webkit-slider-thumb {\n  appearance: none;\n  -webkit-appearance: none;\n  width: 25px;\n  height: 25px;\n  border-radius: 100%;\n  background: #f8f8f8;\n  cursor: pointer;\n}\n\n.timeSlider-F_Igh::-moz-range-thumb {\n  -moz-appearance: none;\n       appearance: none;\n  -webkit-appearance: none;\n  width: 25px;\n  height: 25px;\n  border-radius: 100%;\n  background: #f8f8f8;\n  cursor: pointer;\n}\n\n.forecast-jA00x .timeIndicator-GGaWR {\n  background: #103f78;\n  background: var(--meteoblue-mapsplugin-background-highlight, #103f78);\n}\n",""]),p.locals={wrapper:"wrapper-q21sZ",disabled:"disabled-Qhc6L",timeSteps:"timeSteps-XTidU",prev:"prev-wm17h",next:"next-P57mw",play:"play-vxSRW",timeStep:"timeStep-tt119",active:"active-eMvm6",controls:"controls-At4P3",stop:"stop-aRwxl",hidden:"hidden-Wwqbi",thirdPartyContentAndRangesContainer:"thirdPartyContentAndRangesContainer-fG58B",timeRanges:"timeRanges-b4ycb",timeRange:"timeRange-fNi0a",playing:"playing-gy4nV",scrubbingMode:"scrubbingMode-EtMUC",timeIndicator:"timeIndicator-GGaWR",timeSliderContainer:"timeSliderContainer-LoIq5",timeSlider:"timeSlider-F_Igh",forecast:"forecast-jA00x"},t.Z=p},3645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var u=this[s][0];null!=u&&(a[u]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);r&&a[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),t.push(l))}},t}},1667:function(e){"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:function(e){"use strict";e.exports=function(e){return e[1]}},1296:function(e,t,n){var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")(),d=Object.prototype.toString,f=Math.max,p=Math.min,h=function(){return l.Date.now()};function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=o.test(e);return n||a.test(e)?s(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,o,a,s,u,c=0,l=!1,d=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function b(e){return c=e,s=setTimeout(x,t),l?y(e):a}function A(e){var n=e-u;return void 0===u||n>=t||n<0||d&&e-c>=o}function x(){var e=h();if(A(e))return w(e);s=setTimeout(x,function(e){var n=t-(e-u);return d?p(n,o-(e-c)):n}(e))}function w(e){return s=void 0,g&&r?y(e):(r=i=void 0,a)}function D(){var e=h(),n=A(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return b(u);if(d)return s=setTimeout(x,t),y(u)}return void 0===s&&(s=setTimeout(x,t)),a}return t=v(t)||0,m(n)&&(l=!!n.leading,o=(d="maxWait"in n)?f(v(n.maxWait)||0,t):o,g="trailing"in n?!!n.trailing:g),D.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=i=s=void 0},D.flush=function(){return void 0===s?a:w(h())},D}},5666:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),a=new _(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=C(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?h:f,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=h,n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",p="executing",h="completed",m={};function v(){}function g(){}function y(){}var b={};u(b,o,(function(){return this}));var A=Object.getPrototypeOf,x=A&&A(A(L([])));x&&x!==n&&r.call(x,o)&&(b=x);var w=y.prototype=v.prototype=Object.create(b);function D(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function C(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function L(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:P}}function P(){return{value:t,done:!0}}return g.prototype=y,u(w,"constructor",y),u(y,"constructor",g),g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},D(S.prototype),u(S.prototype,a,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new S(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},D(w),u(w,s,"Generator"),u(w,o,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=L,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(E),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},3379:function(e){"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},a=[],s=0;s<e.length;s++){var u=e[s],c=r.base?u[0]+r.base:u[0],l=o[c]||0,d="".concat(c," ").concat(l);o[c]=l+1;var f=n(d),p={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var h=i(p,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:h,references:1})}a.push(d)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<o.length;a++){var s=n(o[a]);t[s].references--}for(var u=r(e,i),c=0;c<o.length;c++){var l=n(o[c]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}o=u}}},569:function(e){"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},9216:function(e){"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:function(e,t,n){"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7795:function(e){"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:function(e){"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},8264:function(e,t,n){!function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}(),n=function(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n},r=function(e){return encodeURIComponent(e).replace(/%20/g,"+")},i=function(e){return decodeURIComponent(String(e).replace(/\+/g," "))};(function(){try{var t=e.URLSearchParams;return"a=1"===new t("?a=1").toString()&&"function"==typeof t.prototype.set&&"function"==typeof t.prototype.entries}catch(e){return!1}})()||function(){var i=function(e){Object.defineProperty(this,"_entries",{writable:!0,value:{}});var t=typeof e;if("undefined"===t);else if("string"===t)""!==e&&this._fromString(e);else if(e instanceof i){var n=this;e.forEach((function(e,t){n.append(t,e)}))}else{if(null===e||"object"!==t)throw new TypeError("Unsupported input's type for URLSearchParams");if("[object Array]"===Object.prototype.toString.call(e))for(var r=0;r<e.length;r++){var o=e[r];if("[object Array]"!==Object.prototype.toString.call(o)&&2===o.length)throw new TypeError("Expected [string, any] as entry at index "+r+" of URLSearchParams's input");this.append(o[0],o[1])}else for(var a in e)e.hasOwnProperty(a)&&this.append(a,e[a])}},o=i.prototype;o.append=function(e,t){e in this._entries?this._entries[e].push(String(t)):this._entries[e]=[String(t)]},o.delete=function(e){delete this._entries[e]},o.get=function(e){return e in this._entries?this._entries[e][0]:null},o.getAll=function(e){return e in this._entries?this._entries[e].slice(0):[]},o.has=function(e){return e in this._entries},o.set=function(e,t){this._entries[e]=[String(t)]},o.forEach=function(e,t){var n;for(var r in this._entries)if(this._entries.hasOwnProperty(r)){n=this._entries[r];for(var i=0;i<n.length;i++)e.call(t,n[i],r,this)}},o.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),n(e)},o.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),n(e)},o.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),n(e)},t&&(o[Symbol.iterator]=o.entries),o.toString=function(){var e=[];return this.forEach((function(t,n){e.push(r(n)+"="+r(t))})),e.join("&")},e.URLSearchParams=i}();var o=e.URLSearchParams.prototype;"function"!=typeof o.sort&&(o.sort=function(){var e=this,t=[];this.forEach((function(n,r){t.push([r,n]),e._entries||e.delete(r)})),t.sort((function(e,t){return e[0]<t[0]?-1:e[0]>t[0]?1:0})),e._entries&&(e._entries={});for(var n=0;n<t.length;n++)this.append(t[n][0],t[n][1])}),"function"!=typeof o._fromString&&Object.defineProperty(o,"_fromString",{enumerable:!1,configurable:!1,writable:!1,value:function(e){if(this._entries)this._entries={};else{var t=[];this.forEach((function(e,n){t.push(n)}));for(var n=0;n<t.length;n++)this.delete(t[n])}var r,o=(e=e.replace(/^\?/,"")).split("&");for(n=0;n<o.length;n++)r=o[n].split("="),this.append(i(r[0]),r.length>1?i(r[1]):"")}})}(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this),function(e){if(function(){try{var t=new e.URL("b","http://a");return t.pathname="c d","http://a/c%20d"===t.href&&t.searchParams}catch(e){return!1}}()||function(){var t=e.URL,n=function(t,n){"string"!=typeof t&&(t=String(t)),n&&"string"!=typeof n&&(n=String(n));var r,i=document;if(n&&(void 0===e.location||n!==e.location.href)){n=n.toLowerCase(),(r=(i=document.implementation.createHTMLDocument("")).createElement("base")).href=n,i.head.appendChild(r);try{if(0!==r.href.indexOf(n))throw new Error(r.href)}catch(e){throw new Error("URL unable to set base "+n+" due to "+e)}}var o=i.createElement("a");o.href=t,r&&(i.body.appendChild(o),o.href=o.href);var a=i.createElement("input");if(a.type="url",a.value=t,":"===o.protocol||!/:/.test(o.href)||!a.checkValidity()&&!n)throw new TypeError("Invalid URL");Object.defineProperty(this,"_anchorElement",{value:o});var s=new e.URLSearchParams(this.search),u=!0,c=!0,l=this;["append","delete","set"].forEach((function(e){var t=s[e];s[e]=function(){t.apply(s,arguments),u&&(c=!1,l.search=s.toString(),c=!0)}})),Object.defineProperty(this,"searchParams",{value:s,enumerable:!0});var d=void 0;Object.defineProperty(this,"_updateSearchParams",{enumerable:!1,configurable:!1,writable:!1,value:function(){this.search!==d&&(d=this.search,c&&(u=!1,this.searchParams._fromString(this.search),u=!0))}})},r=n.prototype;["hash","host","hostname","port","protocol"].forEach((function(e){!function(e){Object.defineProperty(r,e,{get:function(){return this._anchorElement[e]},set:function(t){this._anchorElement[e]=t},enumerable:!0})}(e)})),Object.defineProperty(r,"search",{get:function(){return this._anchorElement.search},set:function(e){this._anchorElement.search=e,this._updateSearchParams()},enumerable:!0}),Object.defineProperties(r,{toString:{get:function(){var e=this;return function(){return e.href}}},href:{get:function(){return this._anchorElement.href.replace(/\?$/,"")},set:function(e){this._anchorElement.href=e,this._updateSearchParams()},enumerable:!0},pathname:{get:function(){return this._anchorElement.pathname.replace(/(^\/?)/,"/")},set:function(e){this._anchorElement.pathname=e},enumerable:!0},origin:{get:function(){var e={"http:":80,"https:":443,"ftp:":21}[this._anchorElement.protocol],t=this._anchorElement.port!=e&&""!==this._anchorElement.port;return this._anchorElement.protocol+"//"+this._anchorElement.hostname+(t?":"+this._anchorElement.port:"")},enumerable:!0},password:{get:function(){return""},set:function(e){},enumerable:!0},username:{get:function(){return""},set:function(e){},enumerable:!0}}),n.createObjectURL=function(e){return t.createObjectURL.apply(t,arguments)},n.revokeObjectURL=function(e){return t.revokeObjectURL.apply(t,arguments)},e.URL=n}(),void 0!==e.location&&!("origin"in e.location)){var t=function(){return e.location.protocol+"//"+e.location.hostname+(e.location.port?":"+e.location.port:"")};try{Object.defineProperty(e.location,"origin",{get:t,enumerable:!0})}catch(n){setInterval((function(){e.location.origin=t()}),100)}}}(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this)},4385:function(e){"use strict";e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 width=%2710%27 height=%2710%27 viewBox=%270 0 10 10%27%3E%3Cpath fill=%27%23f8f8f8%27 d=%27M9.988,8.543 C9.988,8.543 8.543,9.988 8.543,9.988 C8.543,9.988 5.000,6.445 5.000,6.445 C5.000,6.445 1.457,9.988 1.457,9.988 C1.457,9.988 0.012,8.543 0.012,8.543 C0.012,8.543 3.554,5.000 3.554,5.000 C3.554,5.000 0.012,1.457 0.012,1.457 C0.012,1.457 1.457,0.012 1.457,0.012 C1.457,0.012 5.000,3.554 5.000,3.554 C5.000,3.554 8.543,0.012 8.543,0.012 C8.543,0.012 9.988,1.457 9.988,1.457 C9.988,1.457 6.445,5.000 6.445,5.000 C6.445,5.000 9.988,8.543 9.988,8.543 Z%27 fill-rule=%27evenodd%27 /%3E%3C/svg%3E"},409:function(e){"use strict";e.exports="data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 xmlns:xlink=%27http://www.w3.org/1999/xlink%27 x=%270px%27 y=%270px%27 viewBox=%270 0 15 15%27 style=%27enable-background:new 0 0 15 15;%27 xml:space=%27preserve%27%3E %3Cpath fill=%27%23f8f8f8%27 d=%27M13.4,11.8c-0.4-0.4-0.7-0.7-1.1-1.1c-0.3-0.3-0.5-0.5-0.5-0.5L9.7,9.1c0.9-1,1.4-2.3,1.4-3.6 C11,2.5,8.6,0,5.5,0S0,2.5,0,5.5S2.5,11,5.5,11c1.4,0,2.7-0.5,3.6-1.4l1.1,2.2c0,0,0.2,0.2,0.5,0.5c0.3,0.3,0.7,0.7,1.1,1.1l1.1,1.1 l0.5,0.5l1.7-1.7l-0.5-0.5C14.2,12.6,13.8,12.2,13.4,11.8z M5.5,9.4c-2.2,0-3.9-1.8-3.9-3.9s1.8-3.9,3.9-3.9s3.9,1.8,3.9,3.9 S7.7,9.4,5.5,9.4z%27/%3E%3C/svg%3E%0A"},4181:function(e){"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 height=%2710%27 viewBox=%270,0,20,21%27 width=%2711%27%3E%3Cpath fill=%27%23cccccc%27 stroke=%27white%27 stroke-width=%274%27 d=%27M 0 2 L 20 2 M 0 10 L 20 10 M 0 18 L 20 18 z%27/%3E%3C/svg%3E"},334:function(e){"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 height=%2710%27 viewBox=%270,0,20,21%27 width=%2711%27%3E%3Cpath fill=%27%23f8f8f8%27 d=%27M0 3l3-3 8 12 7-12 3 3-10 17z%27/%3E%3C/svg%3E"},1380:function(e){"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 height=%2720%27 viewBox=%270,0,20,21%27 width=%2721%27%3E%3Cpath fill=%27%23cccccc%27 d=%27M 0 0 L 20 11 0 21 z%27/%3E%3C/svg%3E"},834:function(e){"use strict";e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 height=%2720%27 viewBox=%270,0,20,21%27 width=%2721%27%3E%3Cpath fill=%27%23cccccc%27 d=%27M 0 0 L 8 0 8 21 0 21 M 12 0 L 20 0 20 21 12 21 z%27/%3E%3C/svg%3E"},6640:function(t){"use strict";t.exports=e}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={id:e,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.exports}r.m=t,r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.b=document.baseURI||self.location.href;var i={};return function(){"use strict";r.d(i,{default:function(){return Ni}}),r(6992),r(1532),r(1539),r(8783),r(3948),r(1249),r(561),r(7327),r(6699),r(2023),r(2222),r(3371),r(9826),r(4747),r(2526),r(1817),r(2165),r(7941),r(5003),r(9337),r(1038),r(7042),r(8309),r(4916),r(5666),r(5827),r(5306),r(6977),r(285),r(1637),r(9714),r(9601),r(8674);var e=function(){return e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},e.apply(this,arguments)};function t(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function n(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function a(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}var s={},u="xstate.guard";function c(e){return Object.keys(e)}function l(e,t,n){void 0===n&&(n=".");var r=p(e,n),i=p(t,n);return L(i)?!!L(r)&&i===r:L(r)?r in i:c(r).every((function(e){return e in i&&l(r[e],i[e])}))}function d(e){try{return L(e)||"number"==typeof e?""+e:e.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function f(e,t){try{return E(e)?e:e.toString().split(t)}catch(t){throw new Error("'"+e+"' is not a valid state path.")}}function p(e,t){return"object"==typeof(n=e)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?e.value:E(e)?h(e):"string"!=typeof e?e:h(f(e,t));var n}function h(e){if(1===e.length)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function m(e,t){for(var n={},r=c(e),i=0;i<r.length;i++){var o=r[i];n[o]=t(e[o],o,e,i)}return n}function v(e,t,r){var i,o,a={};try{for(var s=n(c(e)),u=s.next();!u.done;u=s.next()){var l=u.value,d=e[l];r(d)&&(a[l]=t(d,l,e))}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a}var g=function(e){return function(t){var r,i,o=t;try{for(var a=n(e),s=a.next();!s.done;s=a.next())o=o[s.value]}catch(e){r={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}return o}};function y(e){return e?L(e)?[[e]]:b(c(e).map((function(t){var n=e[t];return"string"==typeof n||n&&Object.keys(n).length?y(e[t]).map((function(e){return[t].concat(e)})):[[t]]}))):[[]]}function b(e){var t;return(t=[]).concat.apply(t,a([],o(e)))}function A(e){return E(e)?e:[e]}function x(e){return void 0===e?[]:A(e)}function w(e,t,r){var i,o;if(_(e))return e(t,r.data);var a={};try{for(var s=n(Object.keys(e)),u=s.next();!u.done;u=s.next()){var c=u.value,l=e[c];_(l)?a[c]=l(t,r.data):a[c]=l}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a}function D(e){return e instanceof Promise||!(null===e||!_(e)&&"object"!=typeof e||!_(e.then))}function S(e,t){var r,i,a=o([[],[]],2),s=a[0],u=a[1];try{for(var c=n(e),l=c.next();!l.done;l=c.next()){var d=l.value;t(d)?s.push(d):u.push(d)}}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}return[s,u]}function C(e,t){return m(e.states,(function(e,n){if(e){var r=(L(t)?void 0:t[n])||(e?e.current:void 0);if(r)return{current:r,states:C(e,r)}}}))}function T(e,t,r,i){return e?r.reduce((function(e,r){var o,a,s=r.assignment,u={state:i,action:r,_event:t},l={};if(_(s))l=s(e,t.data,u);else try{for(var d=n(c(s)),f=d.next();!f.done;f=d.next()){var p=f.value,h=s[p];l[p]=_(h)?h(e,t.data,u):h}}catch(e){o={error:e}}finally{try{f&&!f.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}return Object.assign({},e,l)}),e):e}function E(e){return Array.isArray(e)}function _(e){return"function"==typeof e}function L(e){return"string"==typeof e}function P(e,t){if(e)return L(e)?{type:u,name:e,predicate:t?t[e]:void 0}:_(e)?{type:u,name:e.name,predicate:e}:e}var O,F,B,M,I=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function k(e){try{return"__xstatenode"in e}catch(e){return!1}}function R(t,n){return L(t)||"number"==typeof t?e({type:t},n):t}function U(t,n){if(!L(t)&&"$$type"in t&&"scxml"===t.$$type)return t;var r=R(t);return e({name:r.type,data:r,$$type:"scxml",type:"external"},n)}function N(t,n){return A(n).map((function(n){return void 0===n||"string"==typeof n||k(n)?{target:n,event:t}:e(e({},n),{event:t})}))}function j(e,t,n,r,i){var o=e.options.guards,a={state:i,cond:t,_event:r};if(t.type===u)return((null==o?void 0:o[t.name])||t.predicate)(n,r.data,a);var s=o[t.type];if(!s)throw new Error("Guard '"+t.type+"' is not implemented on machine '"+e.id+"'.");return s(n,r.data,a)}function W(e){return"string"==typeof e?{type:e}:e}function z(e,t,n){if("object"==typeof e)return e;var r=function(){};return{next:e,error:t||r,complete:n||r}}(M=O||(O={})).Start="xstate.start",M.Stop="xstate.stop",M.Raise="xstate.raise",M.Send="xstate.send",M.Cancel="xstate.cancel",M.NullEvent="",M.Assign="xstate.assign",M.After="xstate.after",M.DoneState="done.state",M.DoneInvoke="done.invoke",M.Log="xstate.log",M.Init="xstate.init",M.Invoke="xstate.invoke",M.ErrorExecution="error.execution",M.ErrorCommunication="error.communication",M.ErrorPlatform="error.platform",M.ErrorCustom="xstate.error",M.Update="xstate.update",M.Pure="xstate.pure",M.Choose="xstate.choose",(B=F||(F={})).Parent="#_parent",B.Internal="#_internal";var H=function(e){return"atomic"===e.type||"final"===e.type};function V(e){return c(e.states).map((function(t){return e.states[t]}))}function G(e){var t=[e];return H(e)?t:t.concat(b(V(e).map(G)))}function Z(e,t){var r,i,o,a,s,u,c,l,d=q(new Set(e)),f=new Set(t);try{for(var p=n(f),h=p.next();!h.done;h=p.next())for(var m=(S=h.value).parent;m&&!f.has(m);)f.add(m),m=m.parent}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}var v=q(f);try{for(var g=n(f),y=g.next();!y.done;y=g.next())if("compound"!==(S=y.value).type||v.get(S)&&v.get(S).length){if("parallel"===S.type)try{for(var b=(s=void 0,n(V(S))),A=b.next();!A.done;A=b.next()){var x=A.value;"history"!==x.type&&(f.has(x)||(f.add(x),d.get(x)?d.get(x).forEach((function(e){return f.add(e)})):x.initialStateNodes.forEach((function(e){return f.add(e)}))))}}catch(e){s={error:e}}finally{try{A&&!A.done&&(u=b.return)&&u.call(b)}finally{if(s)throw s.error}}}else d.get(S)?d.get(S).forEach((function(e){return f.add(e)})):S.initialStateNodes.forEach((function(e){return f.add(e)}))}catch(e){o={error:e}}finally{try{y&&!y.done&&(a=g.return)&&a.call(g)}finally{if(o)throw o.error}}try{for(var w=n(f),D=w.next();!D.done;D=w.next()){var S;for(m=(S=D.value).parent;m&&!f.has(m);)f.add(m),m=m.parent}}catch(e){c={error:e}}finally{try{D&&!D.done&&(l=w.return)&&l.call(w)}finally{if(c)throw c.error}}return f}function X(e,t){var n=t.get(e);if(!n)return{};if("compound"===e.type){var r=n[0];if(!r)return{};if(H(r))return r.key}var i={};return n.forEach((function(e){i[e.key]=X(e,t)})),i}function q(e){var t,r,i=new Map;try{for(var o=n(e),a=o.next();!a.done;a=o.next()){var s=a.value;i.has(s)||i.set(s,[]),s.parent&&(i.has(s.parent)||i.set(s.parent,[]),i.get(s.parent).push(s))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return i}function Y(e,t){return X(e,q(Z([e],t)))}function J(e,t){return Array.isArray(e)?e.some((function(e){return e===t})):e instanceof Set&&e.has(t)}function K(e,t){return"compound"===t.type?V(t).some((function(t){return"final"===t.type&&J(e,t)})):"parallel"===t.type&&V(t).every((function(t){return K(e,t)}))}function $(e){return new Set(b(e.map((function(e){return e.tags}))))}var Q=O.Start,ee=O.Stop,te=O.Raise,ne=O.Send,re=O.Cancel,ie=O.NullEvent,oe=O.Assign,ae=(O.After,O.DoneState,O.Log),se=O.Init,ue=O.Invoke,ce=(O.ErrorExecution,O.ErrorPlatform),le=O.ErrorCustom,de=O.Update,fe=O.Choose,pe=O.Pure,he=U({type:se});function me(e,t){return t&&t[e]||void 0}function ve(t,n){var r;if(L(t)||"number"==typeof t)r=_(i=me(t,n))?{type:t,exec:i}:i||{type:t,exec:void 0};else if(_(t))r={type:t.name||t.toString(),exec:t};else{var i;if(_(i=me(t.type,n)))r=e(e({},t),{exec:i});else if(i){var o=i.type||t.type;r=e(e(e({},i),t),{type:o})}else r=t}return r}var ge=function(e,t){return e?(E(e)?e:[e]).map((function(e){return ve(e,t)})):[]};function ye(t){var n=ve(t);return e(e({id:L(t)?t:n.id},n),{type:n.type})}function be(e){return L(e)?{type:te,event:e}:Ae(e,{to:F.Internal})}function Ae(e,t){return{to:t?t.to:void 0,type:ne,event:_(e)?e:R(e),delay:t?t.delay:void 0,id:t&&void 0!==t.id?t.id:_(e)?e.name:d(e)}}var xe=function(e){return{type:oe,assignment:e}};function we(e,t){var n=O.DoneState+"."+e;return{type:n,data:t,toString:function(){return n}}}function De(e,t){var n=O.DoneInvoke+"."+e;return{type:n,data:t,toString:function(){return n}}}function Se(e,t){var n=O.ErrorPlatform+"."+e;return{type:n,data:t,toString:function(){return n}}}function Ce(t,n,r,i,s,u){void 0===u&&(u=!1);var c=o(u?[[],s]:S(s,(function(e){return e.type===oe})),2),l=c[0],d=c[1],f=l.length?T(r,i,l,n):r,p=u?[r]:void 0,h=b(d.map((function(r){var s;switch(r.type){case te:return{type:te,_event:U(r.event)};case ne:var c=function(t,n,r,i){var o,a={_event:r},s=U(_(t.event)?t.event(n,r.data,a):t.event);if(L(t.delay)){var u=i&&i[t.delay];o=_(u)?u(n,r.data,a):u}else o=_(t.delay)?t.delay(n,r.data,a):t.delay;var c=_(t.to)?t.to(n,r.data,a):t.to;return e(e({},t),{to:c,_event:s,event:s.data,delay:o})}(r,f,i,t.options.delays);return c;case ae:return function(t,n,r){return e(e({},t),{value:L(t.expr)?t.expr:t.expr(n,r.data,{_event:r})})}(r,f,i);case fe:if(!(m=null===(s=r.conds.find((function(e){var r=P(e.cond,t.options.guards);return!r||j(t,r,f,i,n)})))||void 0===s?void 0:s.actions))return[];var l=o(Ce(t,n,f,i,ge(x(m),t.options.actions),u),2),d=l[0],h=l[1];return f=h,null==p||p.push(f),d;case pe:var m;if(!(m=r.get(f,i.data)))return[];var v=o(Ce(t,n,f,i,ge(x(m),t.options.actions),u),2),g=v[0],y=v[1];return f=y,null==p||p.push(f),g;case ee:return function(e,t,n){var r=_(e.activity)?e.activity(t,n.data):e.activity,i="string"==typeof r?{id:r}:r;return{type:O.Stop,activity:i}}(r,f,i);case oe:f=T(f,i,[r],n),null==p||p.push(f);break;default:var b=ve(r,t.options.actions),A=b.exec;if(A&&p){var w=p.length-1;b=e(e({},b),{exec:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];A.apply(void 0,a([p[w]],o(t)))}})}return b}})).filter((function(e){return!!e})));return[h,f]}function Te(e,t){if(e===t)return!0;if(void 0===e||void 0===t)return!1;if(L(e)||L(t))return e===t;var n=c(e),r=c(t);return n.length===r.length&&n.every((function(n){return Te(e[n],t[n])}))}var Ee=function(){function n(e){var t,n,r=this;this.actions=[],this.activities=s,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||s,this.meta=(void 0===(n=e.configuration)&&(n=[]),n.reduce((function(e,t){return void 0!==t.meta&&(e[t.id]=t.meta),e}),{})),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=null!==(t=Array.isArray(e.tags)?new Set(e.tags):e.tags)&&void 0!==t?t:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return function(e){return a([],o(new Set(b(a([],o(e.map((function(e){return e.ownEvents}))))))))}(r.configuration)}})}return n.from=function(e,t){return e instanceof n?e.context!==t?new n({value:e.value,context:t,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e:new n({value:e,context:t,_event:he,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},n.create=function(e){return new n(e)},n.inert=function(e,t){if(e instanceof n){if(!e.actions.length)return e;var r=he;return new n({value:e.value,context:t,_event:r,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return n.from(e,t)},n.prototype.toStrings=function(e,t){var n=this;if(void 0===e&&(e=this.value),void 0===t&&(t="."),L(e))return[e];var r=c(e);return r.concat.apply(r,a([],o(r.map((function(r){return n.toStrings(e[r],t).map((function(e){return r+t+e}))})))))},n.prototype.toJSON=function(){var n=this,r=(n.configuration,n.transitions,n.tags),i=(n.machine,t(n,["configuration","transitions","tags","machine"]));return e(e({},i),{tags:Array.from(r)})},n.prototype.matches=function(e){return l(e,this.value)},n.prototype.hasTag=function(e){return this.tags.has(e)},n.prototype.can=function(e){var t;return this.machine,!!(null===(t=this.machine)||void 0===t?void 0:t.transition(this,e).changed)},n}(),_e=[],Le=function(e,t){_e.push(e);var n=t(e);return _e.pop(),n};function Pe(e){return{id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}}}function Oe(e){return"string"==typeof e?{type:e,toString:function(){return e}}:e}function Fe(n){return e(e({type:ue},n),{toJSON:function(){n.onDone,n.onError;var r=t(n,["onDone","onError"]);return e(e({},r),{type:ue,src:Oe(n.src)})}})}var Be={},Me=function(e){return"#"===e[0]},Ie=function(){function r(t,i,s){var u,l=this;void 0===s&&(s="context"in t?t.context:void 0),this.config=t,this._context=s,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},i),this.parent=this.options._parent,this.key=this.config.key||this.options._key||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||a([this.machine.key],o(this.path)).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&c(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(u=this.config.schema)&&void 0!==u?u:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?m(this.config.states,(function(t,n){var i,o=new r(t,{_parent:l,_key:n});return Object.assign(l.idMap,e(((i={})[o.id]=o,i),o.idMap)),o})):Be;var d=0;!function e(t){var r,i;t.order=d++;try{for(var o=n(V(t)),a=o.next();!a.done;a=o.next())e(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(e){return""===e.event})):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=x(this.config.entry||this.config.onEntry).map((function(e){return ve(e)})),this.onExit=x(this.config.exit||this.config.onExit).map((function(e){return ve(e)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=x(this.config.invoke).map((function(t,n){var r,i;if(k(t))return l.machine.options.services=e(((r={})[t.id]=t,r),l.machine.options.services),Fe({src:t.id,id:t.id});if(L(t.src))return Fe(e(e({},t),{id:t.id||t.src,src:t.src}));if(k(t.src)||_(t.src)){var o=l.id+":invocation["+n+"]";return l.machine.options.services=e(((i={})[o]=t.src,i),l.machine.options.services),Fe(e(e({id:o},t),{src:o}))}var a=t.src;return Fe(e(e({id:a.type},t),{src:a}))})),this.activities=x(this.config.activities).concat(this.invoke).map((function(e){return ye(e)})),this.transition=this.transition.bind(this),this.tags=x(this.config.tags)}return r.prototype._init=function(){this.__cache.transitions||G(this).forEach((function(e){return e.on}))},r.prototype.withConfig=function(t,n){var i=this.options,o=i.actions,a=i.activities,s=i.guards,u=i.services,c=i.delays;return new r(this.config,{actions:e(e({},o),t.actions),activities:e(e({},a),t.activities),guards:e(e({},s),t.guards),services:e(e({},u),t.services),delays:e(e({},c),t.delays)},null!=n?n:this.context)},r.prototype.withContext=function(e){return new r(this.config,this.options,e)},Object.defineProperty(r.prototype,"context",{get:function(){return _(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:m(this.states,(function(e){return e.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),r.prototype.toJSON=function(){return this.definition},Object.defineProperty(r.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce((function(e,t){return e[t.eventType]=e[t.eventType]||[],e[t.eventType].push(t),e}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),r.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var t=""===e,n=this.transitions.filter((function(n){var r=n.eventType===e;return t?r:r||"*"===n.eventType}));return this.__cache.candidates[e]=n,n},r.prototype.getDelayedTransitions=function(){var t=this,n=this.config.after;if(!n)return[];var r=function(e,n){var r,i,o,a=(r=_(e)?t.id+":delay["+n+"]":e,i=t.id,o=i?"#"+i:"",O.After+"("+r+")"+o);return t.onEntry.push(Ae(a,{delay:e})),t.onExit.push({type:re,sendId:a}),a};return(E(n)?n.map((function(t,n){var i=r(t.delay,n);return e(e({},t),{event:i})})):b(c(n).map((function(t,i){var o=n[t],a=L(o)?{target:o}:o,s=isNaN(+t)?t:+t,u=r(s,i);return x(a).map((function(t){return e(e({},t),{event:u,delay:s})}))})))).map((function(n){var r=n.delay;return e(e({},t.formatTransition(n)),{delay:r})}))},r.prototype.getStateNodes=function(e){var t,n=this;if(!e)return[];var r=e instanceof Ee?e.value:p(e,this.delimiter);if(L(r)){var i=this.getStateNode(r).initial;return void 0!==i?this.getStateNodes(((t={})[r]=i,t)):[this,this.states[r]]}var o=c(r),a=o.map((function(e){return n.getStateNode(e)}));return a.push(this),a.concat(o.reduce((function(e,t){var i=n.getStateNode(t).getStateNodes(r[t]);return e.concat(i)}),[]))},r.prototype.handles=function(e){var t=d(e);return this.events.includes(t)},r.prototype.resolveState=function(t){var n=Array.from(Z([],this.getStateNodes(t.value)));return new Ee(e(e({},t),{value:this.resolve(t.value),configuration:n,done:K(n,this),tags:$(n)}))},r.prototype.transitionLeafNode=function(e,t,n){var r=this.getStateNode(e).next(t,n);return r&&r.transitions.length?r:this.next(t,n)},r.prototype.transitionCompoundNode=function(e,t,n){var r=c(e),i=this.getStateNode(r[0])._transition(e[r[0]],t,n);return i&&i.transitions.length?i:this.next(t,n)},r.prototype.transitionParallelNode=function(e,t,r){var i,o,a={};try{for(var s=n(c(e)),u=s.next();!u.done;u=s.next()){var l=u.value,d=e[l];if(d){var f=this.getStateNode(l)._transition(d,t,r);f&&(a[l]=f)}}}catch(e){i={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}var p=c(a).map((function(e){return a[e]})),h=b(p.map((function(e){return e.transitions})));if(!p.some((function(e){return e.transitions.length>0})))return this.next(t,r);var m=b(p.map((function(e){return e.entrySet}))),v=b(c(a).map((function(e){return a[e].configuration})));return{transitions:h,entrySet:m,exitSet:b(p.map((function(e){return e.exitSet}))),configuration:v,source:t,actions:b(c(a).map((function(e){return a[e].actions})))}},r.prototype._transition=function(e,t,n){return L(e)?this.transitionLeafNode(e,t,n):1===c(e).length?this.transitionCompoundNode(e,t,n):this.transitionParallelNode(e,t,n)},r.prototype.next=function(e,t){var r,i,s,u=this,c=t.name,d=[],f=[];try{for(var h=n(this.getCandidates(c)),m=h.next();!m.done;m=h.next()){var v=m.value,y=v.cond,A=v.in,x=e.context,w=!A||(L(A)&&Me(A)?e.matches(p(this.getStateNodeById(A).path,this.delimiter)):l(p(A,this.delimiter),g(this.path.slice(0,-2))(e.value))),D=!1;try{D=!y||j(this.machine,y,x,t,e)}catch(e){throw new Error("Unable to evaluate guard '"+(y.name||y.type)+"' in transition for event '"+c+"' in state node '"+this.id+"':\n"+e.message)}if(D&&w){void 0!==v.target&&(f=v.target),d.push.apply(d,a([],o(v.actions))),s=v;break}}}catch(e){r={error:e}}finally{try{m&&!m.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}if(s){if(!f.length)return{transitions:[s],entrySet:[],exitSet:[],configuration:e.value?[this]:[],source:e,actions:d};var S=b(f.map((function(t){return u.getRelativeStateNodes(t,e.historyValue)}))),C=!!s.internal;return{transitions:[s],entrySet:C?[]:b(S.map((function(e){return u.nodesFromChild(e)}))),exitSet:C?[]:[this],configuration:S,source:e,actions:d}}},r.prototype.nodesFromChild=function(e){if(e.escapes(this))return[];for(var t=[],n=e;n&&n!==this;)t.push(n),n=n.parent;return t.push(this),t},r.prototype.escapes=function(e){if(this===e)return!1;for(var t=this.parent;t;){if(t===e)return!1;t=t.parent}return!0},r.prototype.getActions=function(e,t,r,i){var s,u,c,l,d=Z([],i?this.getStateNodes(i.value):[this]),f=e.configuration.length?Z(d,e.configuration):d;try{for(var p=n(f),h=p.next();!h.done;h=p.next())J(d,g=h.value)||e.entrySet.push(g)}catch(e){s={error:e}}finally{try{h&&!h.done&&(u=p.return)&&u.call(p)}finally{if(s)throw s.error}}try{for(var m=n(d),v=m.next();!v.done;v=m.next()){var g;J(f,g=v.value)&&!J(e.exitSet,g.parent)||e.exitSet.push(g)}}catch(e){c={error:e}}finally{try{v&&!v.done&&(l=m.return)&&l.call(m)}finally{if(c)throw c.error}}e.source||(e.exitSet=[],e.entrySet.push(this));var y=b(e.entrySet.map((function(n){var i=[];if("final"!==n.type)return i;var o=n.parent;if(!o.parent)return i;i.push(we(n.id,n.doneData),we(o.id,n.doneData?w(n.doneData,t,r):void 0));var a=o.parent;return"parallel"===a.type&&V(a).every((function(t){return K(e.configuration,t)}))&&i.push(we(a.id)),i})));e.exitSet.sort((function(e,t){return t.order-e.order})),e.entrySet.sort((function(e,t){return e.order-t.order}));var A=new Set(e.entrySet),x=new Set(e.exitSet),D=o([b(Array.from(A).map((function(e){return a(a([],o(e.activities.map((function(e){return function(e){var t=ye(e);return{type:O.Start,activity:t,exec:void 0}}(e)})))),o(e.onEntry))}))).concat(y.map(be)),b(Array.from(x).map((function(e){return a(a([],o(e.onExit)),o(e.activities.map((function(e){return function(e){var t=_(e)?e:ye(e);return{type:O.Stop,activity:t,exec:void 0}}(e)}))))})))],2),S=D[0],C=D[1];return ge(C.concat(e.actions).concat(S),this.machine.options.actions)},r.prototype.transition=function(e,t,n){void 0===e&&(e=this.initialState);var r,i,s=U(t);if(e instanceof Ee)r=void 0===n?e:this.resolveState(Ee.from(e,n));else{var u=L(e)?this.resolve(h(this.getResolvedPath(e))):this.resolve(e),c=null!=n?n:this.machine.context;r=this.resolveState(Ee.from(u,c))}if(this.strict&&!this.events.includes(s.name)&&(i=s.name,!/^(done|error)\./.test(i)))throw new Error("Machine '"+this.id+"' does not accept event '"+s.name+"'");var l=this._transition(r.value,r,s)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:r,actions:[]},d=Z([],this.getStateNodes(r.value)),f=l.configuration.length?Z(d,l.configuration):d;return l.configuration=a([],o(f)),this.resolveTransition(l,r,s)},r.prototype.resolveRaisedTransition=function(e,t,n){var r,i=e.actions;return(e=this.transition(e,t))._event=n,e.event=n.data,(r=e.actions).unshift.apply(r,a([],o(i))),e},r.prototype.resolveTransition=function(t,r,i,a){var s,u,c=this;void 0===i&&(i=he),void 0===a&&(a=this.machine.context);var l=t.configuration,d=!r||t.transitions.length>0,f=d?Y(this.machine,l):void 0,p=r?r.historyValue?r.historyValue:t.source?this.machine.historyValue(r.value):void 0:void 0,h=r?r.context:a,m=this.getActions(t,h,i,r),v=r?e({},r.activities):{};try{for(var g=n(m),y=g.next();!y.done;y=g.next()){var b=y.value;b.type===Q?v[b.activity.id||b.activity.type]=b:b.type===ee&&(v[b.activity.id||b.activity.type]=!1)}}catch(e){s={error:e}}finally{try{y&&!y.done&&(u=g.return)&&u.call(g)}finally{if(s)throw s.error}}var A,x,D=o(Ce(this,r,h,i,m,this.machine.config.preserveActionOrder),2),T=D[0],E=D[1],_=o(S(T,(function(e){return e.type===te||e.type===ne&&e.to===F.Internal})),2),L=_[0],P=_[1],O=T.filter((function(e){var t;return e.type===Q&&(null===(t=e.activity)||void 0===t?void 0:t.type)===ue})),B=O.reduce((function(e,t){return e[t.activity.id]=function(e,t,n,r){var i,o=W(e.src),a=null===(i=null==t?void 0:t.options.services)||void 0===i?void 0:i[o.type],s=e.data?w(e.data,n,r):void 0,u=a?function(e,t,n){var r=Pe(t);if(r.deferred=!0,k(e)){var i=r.state=Le(void 0,(function(){return(n?e.withContext(n):e).initialState}));r.getSnapshot=function(){return i}}return r}(a,e.id,s):Pe(e.id);return u.meta=e,u}(t.activity,c.machine,E,i),e}),r?e({},r.children):{}),M=f?t.configuration:r?r.configuration:[],I=K(M,this),R=new Ee({value:f||r.value,context:E,_event:i,_sessionid:r?r._sessionid:null,historyValue:f?p?(A=p,x=f,{current:x,states:C(A,x)}):void 0:r?r.historyValue:void 0,history:!f||t.source?r:void 0,actions:f?P:[],activities:f?v:r?r.activities:{},events:[],configuration:M,transitions:t.transitions,children:B,done:I,tags:null==r?void 0:r.tags,machine:this}),U=h!==E;R.changed=i.name===de||U;var N=R.history;N&&delete N.history;var j=!I&&(this._transient||l.some((function(e){return e._transient})));if(!(d||j&&""!==i.name))return R;var z=R;if(!I)for(j&&(z=this.resolveRaisedTransition(z,{type:ie},i));L.length;){var H=L.shift();z=this.resolveRaisedTransition(z,H._event,i)}var V=z.changed||(N?!!z.actions.length||U||typeof N.value!=typeof z.value||!Te(z.value,N.value):void 0);return z.changed=V,z.history=N,z.tags=$(z.configuration),z},r.prototype.getStateNode=function(e){if(Me(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '"+e+"' from '"+this.id+"'; no child states exist.");var t=this.states[e];if(!t)throw new Error("Child state '"+e+"' does not exist on '"+this.id+"'");return t},r.prototype.getStateNodeById=function(e){var t=Me(e)?e.slice("#".length):e;if(t===this.id)return this;var n=this.machine.idMap[t];if(!n)throw new Error("Child state node '#"+t+"' does not exist on machine '"+this.id+"'");return n},r.prototype.getStateNodeByPath=function(e){if("string"==typeof e&&Me(e))try{return this.getStateNodeById(e.slice(1))}catch(e){}for(var t=f(e,this.delimiter).slice(),n=this;t.length;){var r=t.shift();if(!r.length)break;n=n.getStateNode(r)}return n},r.prototype.resolve=function(e){var t,n=this;if(!e)return this.initialStateValue||Be;switch(this.type){case"parallel":return m(this.initialStateValue,(function(t,r){return t?n.getStateNode(r).resolve(e[r]||t):Be}));case"compound":if(L(e)){var r=this.getStateNode(e);return"parallel"===r.type||"compound"===r.type?((t={})[e]=r.initialStateValue,t):e}return c(e).length?m(e,(function(e,t){return e?n.getStateNode(t).resolve(e):Be})):this.initialStateValue||{};default:return e||Be}},r.prototype.getResolvedPath=function(e){if(Me(e)){var t=this.machine.idMap[e.slice("#".length)];if(!t)throw new Error("Unable to find state node '"+e+"'");return t.path}return f(e,this.delimiter)},Object.defineProperty(r.prototype,"initialStateValue",{get:function(){var e,t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)t=v(this.states,(function(e){return e.initialStateValue||Be}),(function(e){return!("history"===e.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '"+this.initial+"' not found on '"+this.key+"'");t=H(this.states[this.initial])?this.initial:((e={})[this.initial]=this.states[this.initial].initialStateValue,e)}else t={};return this.__cache.initialStateValue=t,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),r.prototype.getInitialState=function(e,t){var n=this.getStateNodes(e);return this.resolveTransition({configuration:n,entrySet:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,void 0,t)},Object.defineProperty(r.prototype,"initialState",{get:function(){this._init();var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '"+this.id+"'.");return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"target",{get:function(){var e;if("history"===this.type){var t=this.config;e=L(t.target)&&Me(t.target)?h(this.machine.getStateNodeById(t.target).path.slice(this.path.length-1)):t.target}return e},enumerable:!1,configurable:!0}),r.prototype.getRelativeStateNodes=function(e,t,n){return void 0===n&&(n=!0),n?"history"===e.type?e.resolveHistory(t):e.initialStateNodes:[e]},Object.defineProperty(r.prototype,"initialStateNodes",{get:function(){var e=this;return H(this)?[this]:"compound"!==this.type||this.initial?b(y(this.initialStateValue).map((function(t){return e.getFromRelativePath(t)}))):[this]},enumerable:!1,configurable:!0}),r.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var t=o(e),n=t[0],r=t.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '"+n+"' from node with no states");var i=this.getStateNode(n);if("history"===i.type)return i.resolveHistory();if(!this.states[n])throw new Error("Child state '"+n+"' does not exist on '"+this.id+"'");return this.states[n].getFromRelativePath(r)},r.prototype.historyValue=function(e){if(c(this.states).length)return{current:e||this.initialStateValue,states:v(this.states,(function(t,n){if(!e)return t.historyValue();var r=L(e)?void 0:e[n];return t.historyValue(r||t.initialStateValue)}),(function(e){return!e.history}))}},r.prototype.resolveHistory=function(e){var t=this;if("history"!==this.type)return[this];var r=this.parent;if(!e){var i=this.target;return i?b(y(i).map((function(e){return r.getFromRelativePath(e)}))):r.initialStateNodes}var o,a=(o=r.path,"states",function(e){var t,r,i=e;try{for(var a=n(o),s=a.next();!s.done;s=a.next()){var u=s.value;i=i.states[u]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}return i})(e).current;return L(a)?[r.getStateNode(a)]:b(y(a).map((function(e){return"deep"===t.history?r.getFromRelativePath(e):[r.states[e[0]]]})))},Object.defineProperty(r.prototype,"stateIds",{get:function(){var e=this,t=b(c(this.states).map((function(t){return e.states[t].stateIds})));return[this.id].concat(t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"events",{get:function(){var e,t,r,i;if(this.__cache.events)return this.__cache.events;var o=this.states,a=new Set(this.ownEvents);if(o)try{for(var s=n(c(o)),u=s.next();!u.done;u=s.next()){var l=o[u.value];if(l.states)try{for(var d=(r=void 0,n(l.events)),f=d.next();!f.done;f=d.next()){var p=f.value;a.add(""+p)}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(a)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter((function(e){return!(!e.target&&!e.actions.length&&e.internal)})).map((function(e){return e.eventType})));return Array.from(e)},enumerable:!1,configurable:!0}),r.prototype.resolveTarget=function(e){var t=this;if(void 0!==e)return e.map((function(e){if(!L(e))return e;var n=e[0]===t.delimiter;if(n&&!t.parent)return t.getStateNodeByPath(e.slice(1));var r=n?t.key+e:e;if(!t.parent)return t.getStateNodeByPath(r);try{return t.parent.getStateNodeByPath(r)}catch(e){throw new Error("Invalid transition definition for state node '"+t.id+"':\n"+e.message)}}))},r.prototype.formatTransition=function(t){var n=this,r=function(e){if(void 0!==e&&""!==e)return x(e)}(t.target),i="internal"in t?t.internal:!r||r.some((function(e){return L(e)&&e[0]===n.delimiter})),o=this.machine.options.guards,a=this.resolveTarget(r),s=e(e({},t),{actions:ge(x(t.actions)),cond:P(t.cond,o),target:a,source:this,internal:i,eventType:t.event,toJSON:function(){return e(e({},s),{target:s.target?s.target.map((function(e){return"#"+e.id})):void 0,source:"#"+n.id})}});return s},r.prototype.formatTransitions=function(){var e,r,i,s=this;if(this.config.on)if(Array.isArray(this.config.on))i=this.config.on;else{var u=this.config.on,l=u["*"],d=void 0===l?[]:l,f=t(u,["*"]);i=b(c(f).map((function(e){return N(e,f[e])})).concat(N("*",d)))}else i=[];var p=this.config.always?N("",this.config.always):[],h=this.config.onDone?N(String(we(this.id)),this.config.onDone):[],m=b(this.invoke.map((function(e){var t=[];return e.onDone&&t.push.apply(t,a([],o(N(String(De(e.id)),e.onDone)))),e.onError&&t.push.apply(t,a([],o(N(String(Se(e.id)),e.onError)))),t}))),v=this.after,g=b(a(a(a(a([],o(h)),o(m)),o(i)),o(p)).map((function(e){return x(e).map((function(e){return s.formatTransition(e)}))})));try{for(var y=n(v),A=y.next();!A.done;A=y.next()){var w=A.value;g.push(w)}}catch(t){e={error:t}}finally{try{A&&!A.done&&(r=y.return)&&r.call(y)}finally{if(e)throw e.error}}return g},r}(),ke={deferEvents:!1},Re=function(){function t(t){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=e(e({},ke),t)}return t.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents)return void this.schedule(e);this.process(e)}this.flushEvents()},t.prototype.schedule=function(e){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()}else this.queue.push(e)},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},t.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},t}(),Ue=new Map,Ne=0;function je(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r.g?r.g:void 0}var We,ze={sync:!1,autoForward:!1};!function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(We||(We={}));var He=function(){function t(n,r){var i=this;void 0===r&&(r=t.defaultOptions),this.machine=n,this.scheduler=new Re,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=We.NotStarted,this.children=new Map,this.forwardTo=new Set,this.init=this.start,this.send=function(e,t){if(E(e))return i.batch(e),i.state;var n=U(R(e,t));if(i.status===We.Stopped)return i.state;if(i.status!==We.Running&&!i.options.deferEvents)throw new Error('Event "'+n.name+'" was sent to uninitialized service "'+i.machine.id+'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: '+JSON.stringify(n.data));return i.scheduler.schedule((function(){i.forward(n);var e=i.nextState(n);i.update(e,n)})),i._state},this.sendTo=function(t,n){var r,o=i.parent&&(n===F.Parent||i.parent.id===n),a=o?i.parent:L(n)?i.children.get(n)||function(e){return Ue.get(e)}(n):(r=n)&&"function"==typeof r.send?n:void 0;if(a)"machine"in a?a.send(e(e({},t),{name:t.name===le?""+Se(i.id):t.name,origin:i.sessionId})):a.send(t.data);else if(!o)throw new Error("Unable to send event to child '"+n+"' from service '"+i.id+"'.")};var o=e(e({},t.defaultOptions),r),a=o.clock,s=o.logger,u=o.parent,c=o.id,l=void 0!==c?c:n.id;this.id=l,this.logger=s,this.clock=a,this.parent=u,this.options=o,this.scheduler=new Re({deferEvents:this.options.deferEvents}),this.sessionId="x:"+Ne++}return Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:Le(this,(function(){return e._initialState=e.machine.initialState,e._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(e,t){var r,i;try{for(var o=n(e.actions),a=o.next();!a.done;a=o.next()){var s=a.value;this.exec(s,e,t)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},t.prototype.update=function(e,t){var r,i,o,a,s,u,c,l,d=this;if(e._sessionid=this.sessionId,this._state=e,this.options.execute&&this.execute(this.state),this.children.forEach((function(e){d.state.children[e.id]=e})),this.devTools&&this.devTools.send(t.data,e),e.event)try{for(var f=n(this.eventListeners),p=f.next();!p.done;p=f.next())(0,p.value)(e.event)}catch(e){r={error:e}}finally{try{p&&!p.done&&(i=f.return)&&i.call(f)}finally{if(r)throw r.error}}try{for(var h=n(this.listeners),m=h.next();!m.done;m=h.next())(0,m.value)(e,e.event)}catch(e){o={error:e}}finally{try{m&&!m.done&&(a=h.return)&&a.call(h)}finally{if(o)throw o.error}}try{for(var v=n(this.contextListeners),g=v.next();!g.done;g=v.next())(0,g.value)(this.state.context,this.state.history?this.state.history.context:void 0)}catch(e){s={error:e}}finally{try{g&&!g.done&&(u=v.return)&&u.call(v)}finally{if(s)throw s.error}}var y=K(e.configuration||[],this.machine);if(this.state.configuration&&y){var b=e.configuration.find((function(e){return"final"===e.type&&e.parent===d.machine})),A=b&&b.doneData?w(b.doneData,e.context,t):void 0;try{for(var x=n(this.doneListeners),D=x.next();!D.done;D=x.next())(0,D.value)(De(this.id,A))}catch(e){c={error:e}}finally{try{D&&!D.done&&(l=x.return)&&l.call(x)}finally{if(c)throw c.error}}this.stop()}},t.prototype.onTransition=function(e){return this.listeners.add(e),this.status===We.Running&&e(this.state,this.state.event),this},t.prototype.subscribe=function(e,t,n){var r,i=this;if(!e)return{unsubscribe:function(){}};var o=n;return"function"==typeof e?r=e:(r=e.next.bind(e),o=e.complete.bind(e)),this.listeners.add(r),this.status===We.Running&&r(this.state),o&&this.onDone(o),{unsubscribe:function(){r&&i.listeners.delete(r),o&&i.doneListeners.delete(o)}}},t.prototype.onEvent=function(e){return this.eventListeners.add(e),this},t.prototype.onSend=function(e){return this.sendListeners.add(e),this},t.prototype.onChange=function(e){return this.contextListeners.add(e),this},t.prototype.onStop=function(e){return this.stopListeners.add(e),this},t.prototype.onDone=function(e){return this.doneListeners.add(e),this},t.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},t.prototype.start=function(e){var t,n,r=this;if(this.status===We.Running)return this;t=this.sessionId,n=this,Ue.set(t,n),this.initialized=!0,this.status=We.Running;var i=void 0===e?this.initialState:Le(this,(function(){return!L(t=e)&&"value"in t&&"history"in t?r.machine.resolveState(e):r.machine.resolveState(Ee.from(e,r.machine.context));var t}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){r.update(i,he)})),this},t.prototype.stop=function(){var e,t,r,i,o,a,s,u,l,d,f,p=this;try{for(var h=n(this.listeners),m=h.next();!m.done;m=h.next()){var v=m.value;this.listeners.delete(v)}}catch(t){e={error:t}}finally{try{m&&!m.done&&(t=h.return)&&t.call(h)}finally{if(e)throw e.error}}try{for(var g=n(this.stopListeners),y=g.next();!y.done;y=g.next())(v=y.value)(),this.stopListeners.delete(v)}catch(e){r={error:e}}finally{try{y&&!y.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}try{for(var b=n(this.contextListeners),A=b.next();!A.done;A=b.next())v=A.value,this.contextListeners.delete(v)}catch(e){o={error:e}}finally{try{A&&!A.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}try{for(var x=n(this.doneListeners),w=x.next();!w.done;w=x.next())v=w.value,this.doneListeners.delete(v)}catch(e){s={error:e}}finally{try{w&&!w.done&&(u=x.return)&&u.call(x)}finally{if(s)throw s.error}}if(!this.initialized)return this;this.state.configuration.forEach((function(e){var t,r;try{for(var i=n(e.definition.exit),o=i.next();!o.done;o=i.next()){var a=o.value;p.exec(a,p.state)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}})),this.children.forEach((function(e){_(e.stop)&&e.stop()}));try{for(var D=n(c(this.delayedEventsMap)),S=D.next();!S.done;S=D.next()){var C=S.value;this.clock.clearTimeout(this.delayedEventsMap[C])}}catch(e){l={error:e}}finally{try{S&&!S.done&&(d=D.return)&&d.call(D)}finally{if(l)throw l.error}}return this.scheduler.clear(),this.initialized=!1,this.status=We.Stopped,f=this.sessionId,Ue.delete(f),this},t.prototype.batch=function(t){var r=this;if(this.status===We.NotStarted&&this.options.deferEvents);else if(this.status!==We.Running)throw new Error(t.length+' event(s) were sent to uninitialized service "'+this.machine.id+'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.');this.scheduler.schedule((function(){var i,s,u=r.state,c=!1,l=[],d=function(t){var n=U(t);r.forward(n),u=Le(r,(function(){return r.machine.transition(u,n)})),l.push.apply(l,a([],o(u.actions.map((function(t){return r=u,i=(n=t).exec,e(e({},n),{exec:void 0!==i?function(){return i(r.context,r.event,{action:n,state:r,_event:r._event})}:void 0});var n,r,i}))))),c=c||!!u.changed};try{for(var f=n(t),p=f.next();!p.done;p=f.next())d(p.value)}catch(e){i={error:e}}finally{try{p&&!p.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}u.changed=c,u.actions=l,r.update(u,U(t[t.length-1]))}))},t.prototype.sender=function(e){return this.send.bind(this,e)},t.prototype.nextState=function(e){var t=this,n=U(e);if(0===n.name.indexOf(ce)&&!this.state.nextEvents.some((function(e){return 0===e.indexOf(ce)})))throw n.data.data;return Le(this,(function(){return t.machine.transition(t.state,n)}))},t.prototype.forward=function(e){var t,r;try{for(var i=n(this.forwardTo),o=i.next();!o.done;o=i.next()){var a=o.value,s=this.children.get(a);if(!s)throw new Error("Unable to forward event '"+e+"' from interpreter '"+this.id+"' to nonexistant child '"+a+"'.");s.send(e)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},t.prototype.defer=function(e){var t=this;this.delayedEventsMap[e.id]=this.clock.setTimeout((function(){e.to?t.sendTo(e._event,e.to):t.send(e._event)}),e.delay)},t.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},t.prototype.exec=function(e,t,n){void 0===n&&(n=this.machine.options.actions);var r=t.context,i=t._event,o=e.exec||me(e.type,n),a=_(o)?o:o?o.exec:e.exec;if(a)try{return a(r,i.data,{action:e,state:this.state,_event:i})}catch(e){throw this.parent&&this.parent.send({type:"xstate.error",data:e}),e}switch(e.type){case ne:var s=e;if("number"==typeof s.delay)return void this.defer(s);s.to?this.sendTo(s._event,s.to):this.send(s._event);break;case re:this.cancel(e.sendId);break;case Q:var u=e.activity;if(!this.state.activities[u.id||u.type])break;if(u.type===O.Invoke){var c=W(u.src),l=this.machine.options.services?this.machine.options.services[c.type]:void 0,d=u.id,f=u.data,p="autoForward"in u?u.autoForward:!!u.forward;if(!l)return;var h=f?w(f,r,i):void 0;if("string"==typeof l)return;var m=_(l)?l(r,i.data,{data:h,src:c,meta:u.meta}):l;if(!m)return;var v=void 0;k(m)&&(m=h?m.withContext(h):m,v={autoForward:p}),this.spawn(m,d,v)}else this.spawnActivity(u);break;case ee:this.stopChild(e.activity.id);break;case ae:var g=e.label,y=e.value;g?this.logger(g,y):this.logger(y)}},t.prototype.removeChild=function(e){var t;this.children.delete(e),this.forwardTo.delete(e),null===(t=this.state)||void 0===t||delete t.children[e]},t.prototype.stopChild=function(e){var t=this.children.get(e);t&&(this.removeChild(e),_(t.stop)&&t.stop())},t.prototype.spawn=function(t,n,r){if(D(t))return this.spawnPromise(Promise.resolve(t),n);if(_(t))return this.spawnCallback(t,n);if(function(e){try{return"function"==typeof e.send}catch(e){return!1}}(o=t)&&"id"in o)return this.spawnActor(t,n);if(function(e){try{return"subscribe"in e&&_(e.subscribe)}catch(e){return!1}}(t))return this.spawnObservable(t,n);if(k(t))return this.spawnMachine(t,e(e({},r),{id:n}));if(null!==(i=t)&&"object"==typeof i&&"transition"in i&&"function"==typeof i.transition)return this.spawnBehavior(t,n);throw new Error('Unable to spawn entity "'+n+'" of type "'+typeof t+'".');var i,o},t.prototype.spawnMachine=function(n,r){var i=this;void 0===r&&(r={});var o=new t(n,e(e({},this.options),{parent:this,id:r.id||n.id})),a=e(e({},ze),r);a.sync&&o.onTransition((function(e){i.send(de,{state:e,id:o.id})}));var s=o;return this.children.set(o.id,s),a.autoForward&&this.forwardTo.add(o.id),o.onDone((function(e){i.removeChild(o.id),i.send(U(e,{origin:o.id}))})).start(),s},t.prototype.spawnBehavior=function(t,n){var r=function(t,n){void 0===n&&(n={});var r,i=t.initialState,o=new Set,a=[],s=!1,u=(r={id:n.id,send:function(e){a.push(e),function(){if(!s){for(s=!0;a.length>0;){var e=a.shift();i=t.transition(i,e,c),o.forEach((function(e){return e.next(i)}))}s=!1}}()},getSnapshot:function(){return i},subscribe:function(e,t,n){var r=z(e,t,n);return o.add(r),r.next(i),{unsubscribe:function(){o.delete(r)}}}},e({subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},r)),c={parent:n.parent,self:u,id:n.id||"anonymous",observers:o};return i=t.start?t.start(c):i,u}(t,{id:n,parent:this});return this.children.set(n,r),r},t.prototype.spawnPromise=function(e,t){var n,r=this,i=!1;e.then((function(e){i||(n=e,r.removeChild(t),r.send(U(De(t,e),{origin:t})))}),(function(e){if(!i){r.removeChild(t);var n=Se(t,e);try{r.send(U(n,{origin:t}))}catch(e){r.devTools&&r.devTools.send(n,r.state),r.machine.strict&&r.stop()}}}));var o={id:t,send:function(){},subscribe:function(t,n,r){var i=z(t,n,r),o=!1;return e.then((function(e){o||(i.next(e),o||i.complete())}),(function(e){o||i.error(e)})),{unsubscribe:function(){return o=!0}}},stop:function(){i=!0},toJSON:function(){return{id:t}},getSnapshot:function(){return n}};return this.children.set(t,o),o},t.prototype.spawnCallback=function(e,t){var n,r,i=this,o=!1,a=new Set,s=new Set;try{r=e((function(e){n=e,s.forEach((function(t){return t(e)})),o||i.send(U(e,{origin:t}))}),(function(e){a.add(e)}))}catch(e){this.send(Se(t,e))}if(D(r))return this.spawnPromise(r,t);var u={id:t,send:function(e){return a.forEach((function(t){return t(e)}))},subscribe:function(e){return s.add(e),{unsubscribe:function(){s.delete(e)}}},stop:function(){o=!0,_(r)&&r()},toJSON:function(){return{id:t}},getSnapshot:function(){return n}};return this.children.set(t,u),u},t.prototype.spawnObservable=function(e,t){var n,r=this,i=e.subscribe((function(e){n=e,r.send(U(e,{origin:t}))}),(function(e){r.removeChild(t),r.send(U(Se(t,e),{origin:t}))}),(function(){r.removeChild(t),r.send(U(De(t),{origin:t}))})),o={id:t,send:function(){},subscribe:function(t,n,r){return e.subscribe(t,n,r)},stop:function(){return i.unsubscribe()},getSnapshot:function(){return n},toJSON:function(){return{id:t}}};return this.children.set(t,o),o},t.prototype.spawnActor=function(e,t){return this.children.set(t,e),e},t.prototype.spawnActivity=function(e){var t=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(t){var n=t(this.state.context,e);this.spawnEffect(e.id,n)}},t.prototype.spawnEffect=function(e,t){this.children.set(e,{id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:t||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}})},t.prototype.attachDev=function(){var t=je();if(this.options.devTools&&t){if(t.__REDUX_DEVTOOLS_EXTENSION__){var n="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=t.__REDUX_DEVTOOLS_EXTENSION__.connect(e(e({name:this.id,autoPause:!0,stateSanitizer:function(e){return{value:e.value,context:e.context,actions:e.actions}}},n),{features:e({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}!function(e){if(je()){var t=function(){var e=je();if(e&&"__xstate__"in e)return e.__xstate__}();t&&t.register(e)}}(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[I]=function(){return this},t.prototype.getSnapshot=function(){return this.status===We.NotStarted?this.initialState:this._state},t.defaultOptions=function(e){return{execute:!0,deferEvents:!0,clock:{setTimeout:function(e,t){return setTimeout(e,t)},clearTimeout:function(e){return clearTimeout(e)}},logger:e.console.log.bind(console),devTools:!1}}("undefined"!=typeof self?self:r.g),t.interpret=Ve,t}();function Ve(e,t){return new He(e,t)}r(9600);var Ge=r(1296),Ze=r.n(Ge),Xe=r(6640),qe=r(3379),Ye=r.n(qe),Je=r(7795),Ke=r.n(Je),$e=r(569),Qe=r.n($e),et=r(3565),tt=r.n(et),nt=r(9216),rt=r.n(nt),it=r(4589),ot=r.n(it),at=r(2979),st={};st.styleTagTransform=ot(),st.setAttributes=tt(),st.insert=Qe().bind(null,"head"),st.domAPI=Ke(),st.insertStyleElement=rt(),Ye()(at.Z,st);var ut=at.Z&&at.Z.locals?at.Z.locals:void 0;function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lt,dt=function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ct(this,"tooltip",new Xe.Popup({anchor:"top",closeButton:!1,closeOnClick:!1,offset:20,className:ut.tooltip})),ct(this,"tooltipContent",""),ct(this,"isDisabled",!1),ct(this,"setLayerIdSuffix",(function(e){i.layerIdSuffix=e})),ct(this,"destroy",(function(){i.tooltip.remove(),i.mapboxMap.off("mousemove",i.updateTooltipDebounced),i.mapboxMap.off("idle",i.addTooltip),document.querySelectorAll(".mbHideTooltip").forEach((function(e){e.removeEventListener("mouseenter",i.hide),e.removeEventListener("mouseleave",i.show)}))})),ct(this,"getContent",(function(e){return i.updateTooltip(e),""===i.tooltipContent?void 0:i.tooltipContent})),ct(this,"enable",(function(){i.isDisabled=!1,i.show()})),ct(this,"disable",(function(){i.isDisabled=!0,i.hide()})),ct(this,"show",(function(){i.tooltip.getElement()&&!i.isDisabled&&i.tooltip.removeClassName(ut.hidden)})),ct(this,"hide",(function(){i.tooltip.getElement()&&i.tooltip.addClassName(ut.hidden)})),ct(this,"addTooltip",(function(){i.mapboxMap.once("mousemove",(function(e){i.tooltip.setLngLat(e.lngLat).addTo(i.mapboxMap),i.tooltip.trackPointer()}))})),ct(this,"updateTooltip",(function(e){var t="point"in e?e.point:e,n=i.tooltipContent,r=i.layers.filter((function(e){return e.tooltip})).map((function(e){return e.id+i.layerIdSuffix})),o=i.mapboxMap.queryRenderedFeatures(t,{layers:r});i.tooltipContent=o.map((function(e){var t="";if(e.properties){var n=i.layers.find((function(t){return t.id+i.layerIdSuffix===e.layer.id})),r="isLowestContour"in e.properties&&e.properties.isLowestContour;void 0!==n&&"tooltipLabel"in n&&(t+="".concat(n.tooltipLabel,": ")),"value"in e.properties?t+=e.properties.value:(!("minValue"in e.properties)||"maxValue"in e.properties||r||(t+=">&thinsp;"),"minValue"in e.properties&&!r&&(t+=e.properties.minValue),"minValue"in e.properties&&"maxValue"in e.properties&&!r&&(e.properties.minValue<0||e.properties.maxValue<0?t+=" – ":t+="&thinsp;-&thinsp;"),r&&(t+="<&thinsp;"),"maxValue"in e.properties&&(t+=e.properties.maxValue)),"unit"in e.properties&&(t+=" "+e.properties.unit)}return t})).join("<br>"),i.tooltipContent!==n&&i.tooltip.setHTML(i.tooltipContent)})),ct(this,"updateTooltipDebounced",Ze()(this.updateTooltip,100,{maxWait:300})),this.mapboxMap=t,this.layers=JSON.parse(JSON.stringify(n)),this.layerIdSuffix=r,this.mapboxMap.once("idle",this.addTooltip),this.mapboxMap.on("mousemove",this.updateTooltipDebounced),document.querySelectorAll(".mbHideTooltip").forEach((function(e){e.addEventListener("mouseenter",i.hide),e.addEventListener("mouseleave",i.show)}))};function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e.Start="START",e.Stop="STOP"}(lt||(lt={}));var vt=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),mt(this,"mapHasLoaded",(function(){n.bufferService.send("HAS_LOADED")})),mt(this,"setDate",(function(e){n.bufferService.send("SET_STEP",{date:e})})),mt(this,"destroy",(function(){n.tooltip&&n.tooltip.destroy()})),mt(this,"enableTooltip",(function(){return n.tooltip&&n.tooltip.enable()})),mt(this,"disableTooltip",(function(){return n.tooltip&&n.tooltip.disable()})),mt(this,"getTooltipContent",(function(e){return n.tooltip&&n.tooltip.getContent(e)})),mt(this,"addDynamicSources",(function(e,t){JSON.parse(JSON.stringify(e)).map((function(e){var r=t;if(n.timeDefinition&&e.isOverlay&&"timesteps"===n.timeDefinition.type){var i=n.timeDefinition.timesteps.find((function(e){return e.value===t}));i&&(r=i.timestep)}void 0!==e.tiles&&(e.tiles=e.tiles.map((function(e){return e.replace(/{timestamp}/g,r)}))),void 0===n.mapboxMap.getSource("".concat(e.name,"_").concat(t))&&n.mapboxMap.addSource("".concat(e.name,"_").concat(t),e)}))})),mt(this,"removeDynamicSources",(function(e,t){e.map((function(e){var r="".concat(e.name,"_").concat(t);n.mapboxMap.removeSource(r)}))})),mt(this,"addDynamicLayers",(function(e,t,r,i){JSON.parse(JSON.stringify(e)).map((function(e){if("colorTableFromInventory"in e&&void 0!==e.colorTableFromInventory&&(e.paint=ht(ht({},e.paint),{},{"fill-color":["interpolate",["linear"],["get","minValue"]].concat((a=t[e.colorTableFromInventory].colors,function(e){if(Array.isArray(e))return ft(e)}(a)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(a)||function(e,t){if(e){if("string"==typeof e)return ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ft(e,t):void 0}}(a)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))})),e.source="".concat(e.source,"_").concat(r),e.id="".concat(e.id,"_").concat(r),i)n.mapboxMap.addLayer(e,n.mapboxMap.getStyle().layers[0].id);else{var o=n.hasLayer(e.addLayerBefore)?e.addLayerBefore:void 0;n.mapboxMap.addLayer(e,o)}var a}))})),mt(this,"removeDynamicLayers",(function(e,t){e.forEach((function(e){var r="".concat(e.id,"_").concat(t);n.mapboxMap.removeLayer(r)}))})),mt(this,"makeLayersVisible",(function(e,t){e.forEach((function(e){var r=n.hasLayer(e.addLayerBefore)?e.addLayerBefore:void 0;n.mapboxMap.moveLayer("".concat(e.id,"_").concat(t),r)}))})),mt(this,"hasLayer",(function(e){return!!n.mapboxMap.getLayer(e)})),this.mapboxMap=t.mapboxMap,this.sources=t.sources,this.layers=t.layers,this.colorTables=t.colorTables,this.onLoading=t.onLoading,this.domain=t.domain,this.level=t.level,this.showTooltip=!(void 0!==t.showTooltip&&!t.showTooltip),this.timeDefinition=t.timeDefinition;var r=function(e,t,n){return void 0===n&&(n=e.context),new Ie(e,t,n)}({id:"buffer",initial:"awaitingFirst",context:{currentDate:t.initialDate,nextDate:null,bufferDate:null,previousBufferDate:null,currentlyVisibleDate:t.initialDate,previousVisibleDate:"",timeoutId:0},states:{idle:{on:{SET_STEP:[{target:"awaiting",actions:["updateDates"]}]}},awaiting:{entry:["updateBufferDateWithCurrentDate","loadBuffer","startTimeout"],activities:["loading"],on:{HAS_LOADED:{target:"idle",actions:["setCurrentlyVisibleDate","makeVisible"]},SET_STEP:[{target:"idle",cond:"isStepAlreadyLoaded",actions:["updateDates"]},{target:"awaiting",actions:["updateDates"]}]},exit:["removeTimeout"]},awaitingFirst:{entry:["loadFirstStep"],activities:["loading"],on:{HAS_LOADED:{target:"idle"},SET_STEP:{target:"awaiting",actions:["updateDates"]}}}}},{guards:{isCorrectStepInBuffer:function(e,t){return e.bufferDate===t.date},isThereNothingToBuffer:function(e){return null===e.bufferDate},isStepAlreadyLoaded:function(e){return e.bufferDate===e.currentlyVisibleDate}},actions:{loadFirstStep:function(e){n.addDynamicSources(t.sources,e.currentDate),n.addDynamicLayers(t.layers,n.colorTables,e.currentDate,!1)},makeVisible:function(e){n.makeLayersVisible(n.layers,e.currentDate),e.currentlyVisibleDate!==e.previousVisibleDate&&(n.removeDynamicLayers(n.layers,e.previousVisibleDate),n.removeDynamicSources(n.sources,e.previousVisibleDate))},loadBuffer:function(e){e.bufferDate!==e.previousBufferDate&&e.currentDate!==e.currentlyVisibleDate&&(null!==e.previousBufferDate&&e.previousBufferDate!==e.currentlyVisibleDate&&(n.removeDynamicLayers(t.layers,e.previousBufferDate),n.removeDynamicSources(t.sources,e.previousBufferDate)),null!==e.bufferDate&&(n.addDynamicSources(t.sources,e.bufferDate),n.addDynamicLayers(t.layers,n.colorTables,e.bufferDate,!0)))},updateDates:xe({currentDate:function(e,t){return t.date},nextDate:function(e,t){return t.nextDate}}),updateBufferDateWithNextDate:xe({bufferDate:function(e,t){return e.nextDate},previousBufferDate:function(e,t){return e.bufferDate}}),updateBufferDateWithCurrentDate:xe({bufferDate:function(e,t){return t.date},previousBufferDate:function(e,t){return e.bufferDate}}),setCurrentlyVisibleDate:xe({currentlyVisibleDate:function(e){return e.currentDate},previousVisibleDate:function(e){return e.currentlyVisibleDate}}),startTimeout:xe({timeoutId:function(e){return window.setTimeout((function(){return n.bufferService.send("HAS_LOADED")}),2e3)}}),removeTimeout:xe({timeoutId:function(e){return window.clearTimeout(e.timeoutId),0}})},activities:{loading:function(){if(void 0!==n.onLoading)return n.onLoading(lt.Start),function(){void 0!==n.onLoading&&n.onLoading(lt.Stop)}}}});this.bufferService=Ve(r),this.bufferService.start();var i=!1;if(setInterval((function(){!i&&n.mapboxMap.areTilesLoaded()?(i=!0,n.mapHasLoaded()):i&&!n.mapboxMap.areTilesLoaded()&&(i=!1)}),10),this.showTooltip){var o="_".concat(t.initialDate);this.tooltip=new dt(this.mapboxMap,this.layers,o),this.bufferService.onTransition((function(e){n.tooltip&&n.tooltip.setLayerIdSuffix("_".concat(e.context.currentlyVisibleDate))}))}},gt=function(e){return fetch(e).then((function(e){return e.json()}))},yt=function(e,t,n,r){if("url"===e.type){var i=e.url;return n&&"none"!==n&&(i=i.replace("{domain}",n)),void 0!==t&&(i=(i=i.concat(i.includes("?")?"&":"?")).concat("apikey=".concat(t))),null!=r&&r.start&&(i=(i=i.concat(i.includes("?")?"&":"?")).concat("start=".concat(r.start,"&end=").concat(r.end))),new Promise((function(e,t){fetch(i).then((function(e){return e.json()})).then((function(n){n.error&&t(new Error(n.error_message)),void 0!==n?e(n):t(new Error("Could not fetch time."))}))}))}return new Promise((function(t){t(e)}))},bt=function(e,t){var n=document.createElement(e);return null!=t&&(Array.isArray(t)?t.forEach((function(e){return n.classList.add(e)})):n.classList.add(t)),n};function At(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}r(1874),r(9653),r(3290),r(3728),r(1058);var xt=function(e,t,n){var r=[e,t,n].map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*r[0]+.7152*r[1]+.0722*r[2]},wt=function(e,t){var n=xt(e[0],e[1],e[2]),r=xt(t[0],t[1],t[2]);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)},Dt=function(e){var t=bt("div");t.style.color=e;var n=t.style.color;t.style.color.includes("rgb")||(document.body.appendChild(t),n=window.getComputedStyle(t).color,document.body.removeChild(t));var r,i=function(e){if(Array.isArray(e))return At(e)}(r=n.matchAll(/rgba?\( *(\d{1,3}) *, *(\d{1,3}) *, *(\d{1,3}).*/g))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return At(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?At(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i!==[]?i[0]:[];return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]};function St(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Tt=function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;St(this,e),Ct(this,"canvas",document.createElement("canvas")),Ct(this,"getLegend",(function(){return n.canvas})),Ct(this,"getLegendWidth",(function(e,t,n,r){var i=t.filter((function(e,t){return t%2==0})).filter((function(e,t){return t%n==0&&0!==t})).reduce((function(t,n){if(null===e)return 0;e.font="".concat(r,"px Arial");var i=e.measureText(n.toString()).width;return i>t?i:t}),32);return"number"!=typeof i?Number.parseFloat(i):i}));var o=this.canvas.getContext("2d");if(this.canvas.id="legend-canvas",null===o)throw new Error("Could not create canvas for legend.");var a=12,s=window.devicePixelRatio,u=16,c=t.length/2,l=c*u,d=i<l?i:l,f=Math.ceil(l/d),p=Math.max(this.getLegendWidth(o,t,f,a),r);this.canvas.height=d*s,this.canvas.width=p*s;var h=d/c;o.scale(s,s),this.canvas.style.width=this.canvas.width/s+"px",this.canvas.style.height=this.canvas.height/s+"px",o.fillStyle="white",o.beginPath(),o.rect(0,0,this.canvas.width,this.canvas.height),o.fill();for(var m=0;m<c;m++){var v=t[2*m+1].toString();o.fillStyle=v.replace(/1\.0\)/g,"0.8)");var g=m===c-1,y=0===m,b=v.includes("0.0)");if(g&&b){var A=t[2*m-3].toString();o.fillStyle=A}else if(y&&b){var x=t[3].toString();o.fillStyle=x}o.beginPath();var w=0,D=d-m*h-h;o.rect(w,D,p,h),o.fill()}for(var S=0;S<c;S++)if(S%f==0&&0!==S){var C=t[2*S].toString(),T=t[2*S+1],E=Dt(T);if(o.fillStyle="black",void 0!==E){var _=E,L=[0,0,0],P=wt(_,L);P<6&&(o.fillStyle="white")}o.font="".concat(a,"px Arial"),o.textBaseline="middle",o.textAlign="center",o.fillText(C,p/2,d-S*h)}},Et=r(3376),_t={};_t.styleTagTransform=ot(),_t.setAttributes=tt(),_t.insert=Qe().bind(null,"head"),_t.domAPI=Ke(),_t.insertStyleElement=rt(),Ye()(Et.Z,_t);var Lt=Et.Z&&Et.Z.locals?Et.Z.locals:void 0;function Pt(e){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt(e)}function Ot(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bt=function e(t,n,r,i,o,a){var s=this,u=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];Ot(this,e),Ft(this,"destroy",(function(){s.container.innerText="",window.removeEventListener("resize",s.onResize)})),this.container=t,this.container.classList.add(Lt.legends),this.container.innerText="";var c=Array.isArray(n)?n:[n];c.map((function(e){var n=bt("div",Lt.legend);t.appendChild(n),void 0!==e.title&&null!==e.title&&(n.title=e.title);var c="reference"===e.type&&"string"==typeof e.table&&void 0!==i?i[e.table]:e.table,l=bt("div",Lt.legendHeader);if(void 0!==c.unit&&""!==c.unit){if(void 0!==c.unitType&&u){if(void 0!==o&&void 0!==c.unitType){var d=document.createElement("select");d.classList.add(Lt.unitSelect),d.classList.add("mbHideTooltip"),o[c.unitType].forEach((function(e){var t=document.createElement("option");t.value=e.unit,t.innerText=e.label,e.unit===a[c.unitType]&&(t.selected=!0),d.appendChild(t)})),d.onchange=function(e){null!==e.target&&void 0!==c.unitType&&r(c.unitType,e.target.value)},l.appendChild(d);var f=document.createElement("div");f.id="legend-header",f.classList.add(Lt.unitTitle),f.innerText=c.unit,l.appendChild(f)}}else l.innerText=c.unit,l.id="legend-header";n.appendChild(l)}if("categories"===e.type&&void 0!==Pt(e.title)&&null!==e.title&&(l.innerText=e.title,l.id="legend-header",n.appendChild(l)),Array.isArray(c)&&"categories"===e.type)c.forEach((function(e){var n=bt("div",Lt.legendCategory);if("pattern"in e){var r=document.createElement("img");r.classList.add("categoryImage"),r.src=e.pattern,n.appendChild(r);var i=bt("div",Lt.legendCategory);i.innerText=e.description,n.appendChild(i)}if("symbol"in e){var o=document.createElement("img");o.classList.add("categoryImage"),o.src=e.pattern,n.appendChild(o);var a=bt("div",Lt.legendCategory);a.innerText=e.description,n.appendChild(a)}if("color"in e){var s=Dt(e.color),u=wt([0,0,0],s)<7?"white":"black";n.innerHTML="\n                            <div\n                                class=".concat(Lt.categoryColor,'\n                                style="background: ').concat(e.color,"; color: ").concat(u,'"\n                            >\n                                ').concat(e.description,"\n                            </div>\n                        ")}t.appendChild(n)}));else if("object"===Pt(c)&&"colors"in c){var p=c.colors,h=new Tt(p,t.clientWidth,t.clientHeight);n.appendChild(h.getLegend()),s.onResize=function(){n.innerText="",n.appendChild(l);var e=new Tt(p,t.clientWidth,t.clientHeight);n.appendChild(e.getLegend())},window.addEventListener("resize",s.onResize,!1)}}))},Mt=r(9510),It={};It.styleTagTransform=ot(),It.setAttributes=tt(),It.insert=Qe().bind(null,"head"),It.domAPI=Ke(),It.insertStyleElement=rt(),Ye()(Mt.Z,It);var kt=Mt.Z&&Mt.Z.locals?Mt.Z.locals:void 0;function Rt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ut=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Rt(this,"loadingContainer",bt("div",kt.loading)),Rt(this,"infoContainer",bt("div",kt.timer)),Rt(this,"show",(function(){r.container.appendChild(r.loadingContainer)})),Rt(this,"remove",(function(){r.container.contains(r.loadingContainer)&&r.container.removeChild(r.loadingContainer)})),Rt(this,"setInfo",(function(e){r.infoContainer.innerText=e})),this.container=t,this.loadingContainer.innerHTML='\n            <div class="'.concat(kt.spinner,'">\n                <div class="').concat(kt.bounce1,'"></div>\n                <div class="').concat(kt.bounce2,'"></div>\n                <div class="').concat(kt.bounce3,'"></div>\n            </div>\n        '),n&&this.loadingContainer.appendChild(this.infoContainer)};function Nt(e){return function(e){if(Array.isArray(e))return jt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}r(2586),r(4944),r(3792);var Wt=function(e,t){return t.categories.reduce((function(e,t){return[].concat(Nt(e),Nt(t.maps))}),[]).find((function(t){return t.id===e}))},zt=r(1363),Ht={};Ht.styleTagTransform=ot(),Ht.setAttributes=tt(),Ht.insert=Qe().bind(null,"head"),Ht.domAPI=Ke(),Ht.insertStyleElement=rt(),Ye()(zt.Z,Ht);var Vt=zt.Z&&zt.Z.locals?zt.Z.locals:void 0;function Gt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Zt=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=bt("div",[Vt.controls,"mbHideTooltip"]);if(t.container.appendChild(r),r.appendChild(t.thirdPartyContentArea),t.controls.downloadStyle){var i=bt("div",[Vt.controlButton,Vt.logStyleButton]);i.innerText="download style",i.onclick=function(){var e=n.filterStyle(t.mapboxMap.getStyle());n.download("style.json",JSON.stringify(e,null,4))},r.appendChild(i)}if(!0===t.controls.zoom||"auto"===t.controls.zoom){var o=bt("div",[Vt.controlButton,Vt.zoomButton]);o.innerText="+",o.onclick=function(){t.mapboxMap.zoomIn()},r.appendChild(o);var a=bt("div",[Vt.controlButton,Vt.zoomButton]);a.innerText="−",a.onclick=function(){t.mapboxMap.zoomOut()},r.appendChild(a),!0===t.controls.zoom&&(o.style.display="flex",a.style.display="flex")}if(t.controls.toggleMenu){var s=bt("div",[Vt.controlButton,Vt.toggleMenuButton]);s.onclick=t.onSidebarToggle,r.appendChild(s)}}var t,n;return t=e,n=[{key:"download",value:function(e,t){var n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}},{key:"filterStyle",value:function(e){if(void 0!==e&&void 0!==e.sources){var t=Object.keys(e.sources),n=t[t.length-1];delete e.sources[n],void 0!==e.layers&&(e.layers=e.layers.filter((function(e){return e.source!==n})))}return e}}],n&&Gt(t.prototype,n),e}();function Xt(e){return function(e){if(Array.isArray(e))return qt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return qt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qt(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jt=function e(t,n,r,i,o,a){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Yt(this,"overlaysSelectionWrapper",bt("div",Vt.overlaysSelectionWrapper)),Yt(this,"domainSelectionWrapper",bt("div",Vt.select)),Yt(this,"domainSelectionHeader",bt("div",Vt.dropdownHeader)),Yt(this,"settingsContainer",bt("div",[Vt.settings,"mbHideTooltip"])),Yt(this,"domainSelection",document.createElement("select")),Yt(this,"attribution",""),Yt(this,"setDomainOptions",(function(e,t){var n=e.reduce((function(e,t){return[].concat(Xt(e),Xt(t.domains))}),[]).find((function(e){return e.id===t}));if(s.domainSelectionHeader.innerText=n?n.name:e[0]&&e[0].domains[0]?e[0].domains[0].name:"",s.domainSelection.textContent="",0!==e.length){s.domainSelectionWrapper.style.display="block";var r=document.createElement("option"),i="Auto (".concat(e[0].domains[0].name,")");r.value='{ "id": "auto", "name": "'.concat(i,'", "levels": [] }'),r.innerText=i,"auto"===t&&(r.selected=!0,s.domainSelectionHeader.innerText=i),s.domainSelection.appendChild(r),e.map((function(e){var n=document.createElement("optgroup");n.label=e.label,s.domainSelection.appendChild(n),e.domains.map((function(e){var r=document.createElement("option");r.value=JSON.stringify(e),r.innerText=e.name,void 0!==t&&e.id===t&&(r.selected=!0),n.appendChild(r)}))}))}else s.domainSelectionWrapper.style.display="none"})),Yt(this,"setOverlayOptions",(function(e,t){if(0!==e.length){s.enableOverlaySelection(),s.overlaysSelectionWrapper.innerText="";var n=[];e.forEach((function(e){var r=bt("div",Vt.toggleWrapper);r.dataset.id=e.id;var i=bt("div");i.innerText=e.name,r.appendChild(i);var o=bt("div",Vt.toggle);t&&t.includes(e)&&(o.classList.add(Vt.active),n.push(e.id)),r.appendChild(o),r.onclick=function(){o.classList.contains(Vt.active)?(o.classList.remove(Vt.active),n=n.filter((function(t){return t!==e.id}))):(o.classList.add(Vt.active),n.push(e.id)),s.onOverlayChange(n)},s.overlaysSelectionWrapper.appendChild(r)}))}else s.disableOverlaySelection()})),Yt(this,"enableOverlaySelection",(function(){s.overlaysSelectionWrapper.style.display="block"})),Yt(this,"disableOverlaySelection",(function(){s.overlaysSelectionWrapper.style.display="none"})),Yt(this,"setAttribution",(function(e){s.attribution=e})),Yt(this,"setDefaultOverlays",(function(e){Array.from(s.overlaysSelectionWrapper.children).forEach((function(t){e.includes(t.dataset.id)?t.classList.add(Vt.activeByDefault):t.classList.remove(Vt.activeByDefault)}))})),Yt(this,"buildCustomMenu",(function(e){if(!1!==e){!0===e&&(e=void 0);var t=bt("div",Vt.customMenu),n=new Map([["screenshot",s.onScreenshot],["attribution",function(){return s.onOpenModal({content:s.attribution,maxWidth:"300px"})}]]);(e||[{label:"Screenshot",action:"screenshot"},{label:"©",action:"attribution"}]).map((function(e){if("string"==typeof e.action){var t=n.get(e.action);if(void 0!==t)e.action=t;else if(e.action.includes("http://")||e.action.includes("https://"))e.isLink=!0;else{var r=Array.from(n.keys()).join(", ");console.error('Custom menu: "'.concat(e.action,'" is not a valid default option (').concat(r,")."))}}return e})).forEach((function(e){var n=document.createElement("a");n.classList.add(Vt.customMenuEntry),n.innerHTML=e.label,"function"==typeof e.action&&(n.onclick=e.action),e.isLink&&"string"==typeof e.action&&(n.href=e.action,n.target="_blank"),t.appendChild(n)})),s.settingsContainer.appendChild(t)}})),this.container=t,this.container.appendChild(this.settingsContainer),this.domainSelectionWrapper.appendChild(this.domainSelection),this.domainSelectionWrapper.appendChild(this.domainSelectionHeader),this.settingsContainer.appendChild(this.overlaysSelectionWrapper),this.settingsContainer.appendChild(this.domainSelectionWrapper),this.onOverlayChange=r,this.onScreenshot=i,this.onOpenModal=o,this.buildCustomMenu(a),this.domainSelection.onchange=function(e){if(null!==e.target){var t=JSON.parse(e.target.value);s.domainSelectionHeader.innerText=t.name,n(t)}},this.domainSelection.onkeydown=function(e){("ArrowRight"===e.code||"ArrowLeft"===e.code)&&e.preventDefault()}};function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $t=function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Kt(this,"mapOptionsContainer",bt("div",Vt.mapOptions)),Kt(this,"variantsWrapper",bt("div",Vt.variants)),Kt(this,"variantSelectElement",bt("div",Vt.inlineButtons)),Kt(this,"levelsWrapper",bt("div",[Vt.select,Vt.levels])),Kt(this,"levelsHeader",bt("div",Vt.dropdownHeader)),Kt(this,"levelSelectElement",document.createElement("select")),Kt(this,"setVariants",(function(e,t){r.variantSelectElement.innerText="",r.variantsWrapper.style.display=e.length<2?"none":"flex",e.map((function(e){var n=bt("div",Vt.inlineButton);n.dataset.value=JSON.stringify(e),n.innerText=e.name,t&&e.id===t.id&&n.classList.add(Vt.active),r.variantSelectElement.appendChild(n)})),r.variantSelectElement.scrollWidth>r.mapOptionsContainer.clientWidth?r.variantSelectElement.classList.add(Vt.multipleRows):r.variantSelectElement.classList.remove(Vt.multipleRows)})),Kt(this,"setLevels",(function(e,t){r.levelsHeader.innerText=t?t.name:e[0]?e[0].name:"",r.levelSelectElement.innerText="",r.levelsWrapper.style.display=e.length<2?"none":"block",e.map((function(e){var n=document.createElement("option");n.value=JSON.stringify(e),n.innerText=e.name,t&&e.id===t.id&&(n.selected=!0),r.levelSelectElement.appendChild(n)}))})),this.onVariantChange=t,this.onLevelCange=n,this.variantsWrapper.appendChild(this.variantSelectElement),this.mapOptionsContainer.appendChild(this.variantsWrapper),this.variantSelectElement.onclick=function(e){e.stopPropagation();var t=e.target;if(null!==t&&void 0!==t.dataset.value){r.variantSelectElement.childNodes.forEach((function(e){e.classList.remove(Vt.active)})),t.classList.add(Vt.active);var n=JSON.parse(t.dataset.value);r.onVariantChange(n)}},this.levelsWrapper.appendChild(this.levelSelectElement),this.mapOptionsContainer.appendChild(this.levelsWrapper),this.levelsWrapper.appendChild(this.levelsHeader),this.levelSelectElement.onclick=function(e){e.stopPropagation()},this.levelSelectElement.onchange=function(e){if(null!==e.target){var t=JSON.parse(e.target.value);r.onLevelCange(t)}},this.levelSelectElement.onkeydown=function(e){("ArrowRight"===e.code||"ArrowLeft"===e.code)&&e.preventDefault()}};function Qt(e,t){if(e){if("string"==typeof e)return en(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?en(e,t):void 0}}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}r(4603);var rn=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),nn(this,"searchInput",bt("input")),nn(this,"noResultsContainer",bt("div")),nn(this,"elClearTextButton",bt("button")),this.elContainer=t,this.maps=n,this.categoriesContainer=r,this.options=i,this.render(),this.hideClearTextButton(),this.registerEventListeners()}var t,n;return t=e,(n=[{key:"render",value:function(){var e,t,n,r,i;this.searchInput.setAttribute("type","search"),this.searchInput.setAttribute("placeholder",(null===(e=this.options)||void 0===e?void 0:e.placeholderText)||"Search for a map"),this.searchInput.classList.add(Vt.searchBarInputText),this.noResultsContainer.classList.add(Vt.searchNoResultContainer),this.noResultsContainer.style.display="none";var o=bt("p");o.innerText=(null===(t=this.options)||void 0===t?void 0:t.noResultsText)||"No results",this.noResultsContainer.appendChild(o),null===(n=this.categoriesContainer)||void 0===n||null===(r=n.item(0))||void 0===r||null===(i=r.parentElement)||void 0===i||i.appendChild(this.noResultsContainer),this.elClearTextButton.classList.add(Vt.searchBarTextClear),this.elClearTextButton.id="clearText",this.elContainer.classList.add(Vt.searchBarContainer),this.elContainer.append(this.searchInput,this.elClearTextButton)}},{key:"getMapIdsMatchingSearch",value:function(e){var t=this;return""===e?null:this.maps.map((function(n){var r=n.name,i=n.id;if(new RegExp("(".concat(e,")")).test(t.sanitizeText(r)))return i})).filter((function(e){return void 0!==e}))}},{key:"sanitizeText",value:function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/(?:(?![\t-\r 0-9A-Za-z\xA0\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2000-\u200A\u2028\u2029\u202F\u205F\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3000\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFEFF\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])[\s\S])+/g,"").toLowerCase()}},{key:"displayMaps",value:function(e){var t,n,r,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Qt(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(Array.from(this.categoriesContainer).entries());try{for(i.s();!(t=i.n()).done;)for(var o=(n=t.value,r=2,function(e){if(Array.isArray(e))return e}(n)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(n,r)||Qt(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=o[0],s=o[1],u=0,c=Array.from(s.children);u<c.length;u++){var l=c[u],d=void 0!==l.dataset.mapId,f="H1"===l.tagName;null===e?(d?(s.hidden=!1,l.style.display="",0===a&&s.classList.add("src-menu-style__active")):f&&(l.hidden=!1),"flex"===this.noResultsContainer.style.display&&(this.noResultsContainer.style.display="none")):0===(null==e?void 0:e.length)?(this.noResultsContainer.style.display="flex",d?l.style.display="none":f&&(l.hidden=!0)):e.includes(l.dataset.mapId||"")?("flex"===this.noResultsContainer.style.display&&(this.noResultsContainer.style.display="none"),s.classList.contains("src-menu-style__active")&&s.classList.remove("src-menu-style__active"),d&&(s.hidden=!1,l.style.display="block"),f&&(l.hidden=!0)):d?l.style.display="none":f&&(l.hidden=!0)}}catch(e){i.e(e)}finally{i.f()}}},{key:"registerEventListeners",value:function(){var e=this;this.searchInput.addEventListener("input",(function(t){var n;null===(n=t.target)||void 0===n||n.addEventListener("keydown",(function(e){var t=e;"ArrowRight"!==t.code&&"ArrowLeft"!==t.code||t.stopPropagation()}));var r=t.target.value;""!==r?e.showClearTextButton():e.hideClearTextButton();var i=e.sanitizeText(r),o=e.getMapIdsMatchingSearch(i);e.displayMaps(o)})),this.elClearTextButton.addEventListener("click",(function(){e.searchInput.value="",e.searchInput.dispatchEvent(new Event("input"))}))}},{key:"showClearTextButton",value:function(){this.elClearTextButton.classList.remove(Vt.hidden)}},{key:"hideClearTextButton",value:function(){this.elClearTextButton.classList.add(Vt.hidden)}}])&&tn(t.prototype,n),e}();function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function an(e){return function(e){if(Array.isArray(e))return sn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return sn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cn=Reflect.deleteProperty,ln=function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),un(this,"sidebarContainer",bt("div",Vt.sidebar)),un(this,"searchBarContainer",bt("div")),un(this,"menuContainer",bt("div",Vt.menu)),un(this,"backgroundMask",bt("div",Vt.backgroundMask)),un(this,"mobileBreakpoint",800),un(this,"hasOnlyOneMap",!1),un(this,"rememberedMapSettings",{}),un(this,"categoryContainers",[]),un(this,"mapContainers",[]),un(this,"getMap",(function(){return n.currentMap})),un(this,"getVariant",(function(){return n.currentVariant})),un(this,"getLevel",(function(){return n.currentLevel})),un(this,"getDomain",(function(){return n.getDomainAutoResolved()})),un(this,"getOverlays",(function(){return n.currentOverlays})),un(this,"setMap",(function(e){n.selectMap(e)})),un(this,"disableOverlaySelection",(function(){n.generalSettings.disableOverlaySelection()})),un(this,"enableOverlaySelection",(function(){n.generalSettings.enableOverlaySelection()})),un(this,"setDefaultOverlays",(function(e){n.generalSettings.setDefaultOverlays(e)})),un(this,"destroy",(function(){n.sidebarContainer.innerText=""})),un(this,"enableOverlay",(function(e){var t=n.inventory.overlays.filter((function(e){return n.isSelectableOverlay(e,n.currentVariant.hiddenOverlays)})),r=[].concat(an(n.currentOverlays||[]),[e]);n.generalSettings.setOverlayOptions(t,r),n.onOverlayChange(r.map((function(e){return e.id})))})),un(this,"disableOverlay",(function(e){if(void 0!==n.currentOverlays){var t=n.inventory.overlays.filter((function(e){return n.isSelectableOverlay(e,n.currentVariant.hiddenOverlays)})),r=n.currentOverlays.filter((function(t){return t.id!==e}));n.generalSettings.setOverlayOptions(t,r),n.onOverlayChange(r.map((function(e){return e.id})))}})),un(this,"build",(function(){new Zt({container:n.sidebarContainer,mapboxMap:n.mapboxMap,onSidebarToggle:function(){return n.toggleMenu()},controls:n.controls,thirdPartyContentArea:n.thirdPartyContentAreas.controls});var e,t=bt("div",Vt.wrapper);n.thirdPartyContentAreas.aboveMenu.classList.add(Vt.thirdPartyContentAreaAboveMenu),n.menuContainer.appendChild(n.thirdPartyContentAreas.aboveMenu),n.thirdPartyContentAreas.belowMenu.classList.add(Vt.thirdPartyContentAreaBelowMenu),n.menuContainer.appendChild(n.thirdPartyContentAreas.belowMenu),n.thirdPartyContentAreas.belowOptions.classList.add(Vt.thirdPartyContentAreaBelowOptions),n.menuContainer.appendChild(n.thirdPartyContentAreas.belowOptions);var r=bt("div",[Vt.categoriesContainer,"mbHideTooltip"]),i=n.inventory.categories.map((function(e){return e.maps.map((function(e){return{name:e.name,id:e.id}}))})).flat();if(t.appendChild(n.searchBarContainer),t.appendChild(r),n.menuContainer.appendChild(t),n.inventory.categories.map((function(e){var t=bt("div",Vt.categorieContainer);if(r.appendChild(t),n.categoryContainers.push(t),-1!==e.maps.indexOf(n.currentMap)&&t.classList.add(Vt.active),1!==n.inventory.categories.length){var i=bt("h1",Vt.categorieTitle);i.innerHTML=e.name,t.appendChild(i),i.onclick=function(){t.classList.contains(Vt.active)?t.classList.remove(Vt.active):(n.categoryContainers.forEach((function(e){e.classList.remove(Vt.active)})),t.classList.add(Vt.active))}}e.maps.map((function(e){var i=bt("div",Vt.mapContainer);n.mapContainers.push(i),i.dataset.mapId=e.id,e===n.currentMap&&i.classList.add(Vt.active),n.hasOnlyOneMap&&i.classList.add(Vt.noHighlight),t.appendChild(i);var o=bt("div",Vt.mapTitle);if(o.textContent=e.name,i.appendChild(o),n.hasOnlyOneMap||(i.onclick=function(){i.classList.contains(Vt.active)||n.selectMap({map:e})}),e===n.currentMap){var a=n.getDomainAutoResolved().levels;n.mapSettings.setVariants(e.variants,n.currentVariant),n.mapSettings.setLevels(a,n.currentLevel),i.appendChild(n.mapSettings.mapOptionsContainer),n.scrollParentToChild(r,i)}}))})),null!==(e=n.searchBarOptions)&&void 0!==e&&e.show){var o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){un(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n.searchBarOptions);cn(o,"show"),new rn(n.searchBarContainer,i,r.children,o)}})),un(this,"selectMap",(function(e){var t=void 0!==e.map?e.map:n.currentMap,r=n.mapContainers.find((function(e){return e.dataset.mapId===t.id}));if(void 0!==r){var i=void 0!==e.variant?e.variant:void 0!==n.rememberedMapSettings[t.id]?n.rememberedMapSettings[t.id].variant:t.variants[0],o=t.domains.reduce((function(e,t){return[].concat(an(e),an(t.domains))}),[]).find((function(t){return t.id===e.domainId}))||n.currentDomain,a=n.getDomainAutoResolved(o),s=void 0!==e.levelId?a&&a.levels.find((function(t){return t.id===e.levelId})):void 0!==n.rememberedMapSettings[t.id]?n.rememberedMapSettings[t.id].level:void 0;n.onMapChange(t,i,o,s);var u=n.getDomainAutoResolved().levels;r.appendChild(n.mapSettings.mapOptionsContainer),n.mapSettings.setVariants(t.variants,n.currentVariant),n.mapSettings.setLevels(u,n.currentLevel),n.mapContainers.forEach((function(e){e.classList.remove(Vt.active)})),r.classList.add(Vt.active),n.categoryContainers.forEach((function(e){e.classList.remove(Vt.active),e.contains(r)&&e.classList.add(Vt.active)}))}})),un(this,"onMapChange",(function(e,t,r,i){var o;n.currentMap=e,n.currentVariant=t,void 0!==r&&(n.currentDomain=r),0===e.domains.length?(n.currentDomain={id:"none",name:"none",levels:[]},n.currentLevel={id:"none",name:"none"}):(n.currentDomain=e.domains.reduce((function(e,t){return[].concat(an(e),an(t.domains))}),[]).find((function(e){return e.id===n.currentDomain.id}))||{id:"auto",name:"auto",levels:[]},n.currentLevel=i||n.getDomainAutoResolved().levels[0]);var a=n.getDomainAutoResolved(),s=void 0!==i&&a.levels.find((function(e){return e.id===i.id}));n.currentLevel=void 0!==i&&s?i:a.levels.length>0?a.levels[0]:{id:"none",name:"none"},n.mapSettings.setLevels(a.levels,n.currentLevel),n.generalSettings.setDomainOptions(e.domains,n.currentDomain.id);var u=n.inventory.overlays.filter((function(e){return n.isSelectableOverlay(e,n.currentVariant.hiddenOverlays)}));n.generalSettings.setOverlayOptions(u,n.currentOverlays);var c=null===(o=n.currentOverlays)||void 0===o?void 0:o.filter((function(e){return u.includes(e)}));n.rememberedMapSettings[e.id]={variant:n.currentVariant,level:n.currentLevel},n.onChange(n.currentMap,n.currentVariant,n.currentDomain.id,n.currentLevel.id,c)})),un(this,"onDomainChange",(function(e){n.onMapChange(n.currentMap,n.currentVariant,e,n.currentLevel)})),un(this,"onOverlayChange",(function(e){var t=n.inventory.overlays.filter((function(t){return e.includes(t.id)}));n.currentOverlays=t,n.onChange(n.currentMap,n.currentVariant,n.currentDomain.id,n.currentLevel.id,n.currentOverlays)})),un(this,"getDomainAutoResolved",(function(e){var t=e||n.currentDomain;return"auto"===t.id?n.currentMap.domains[0].domains[0]:t})),un(this,"toggleMenu",(function(e){var t=void 0!==e?e:!n.sidebarContainer.classList.contains(Vt.hidden);t?(n.sidebarContainer.classList.add(Vt.hidden),n.container.contains(n.backgroundMask)&&(n.backgroundMask.classList.remove(Vt.transition),setTimeout((function(){return n.container.removeChild(n.backgroundMask)}),400))):(n.sidebarContainer.classList.contains(Vt.hidden)&&n.sidebarContainer.classList.remove(Vt.hidden),n.container.getBoundingClientRect().width<=520&&(n.container.appendChild(n.backgroundMask),setTimeout((function(){return n.backgroundMask.classList.add(Vt.transition)}),10))),n.onToggle&&n.onToggle(t)})),un(this,"isSelectableOverlay",(function(e,t){return e.selectable&&!(null!=t&&t.includes(e.id))})),un(this,"scrollParentToChild",(function(e,t){var n=e.getBoundingClientRect(),r=e.clientHeight,i=(e.clientWidth,t.getBoundingClientRect());if(!(i.top>=n.top&&i.bottom<=n.top+r)){var o=i.top-n.top,a=i.bottom-n.bottom;Math.abs(o)<Math.abs(a)?e.scrollTop+=o:e.scrollTop+=a}})),this.onChange=t.onChange,this.onToggle=t.onToggle,this.onScreenshot=t.onScreenshot,this.onOpenModal=t.onOpenModal,this.inventory=t.inventory,this.mapboxMap=t.mapboxMap,this.container=t.container,this.controls=t.controls,this.thirdPartyContentAreas=t.thirdPartyContentAreas,this.show=t.show,this.searchBarOptions=t.searchBarOptions,"string"==typeof t.defaultValues.mapId?this.currentMap=Wt(t.defaultValues.mapId,this.inventory)||t.inventory.categories[0].maps[0]:this.currentMap=t.inventory.categories[0].maps[0],"variantId"in t.defaultValues?this.currentVariant=this.currentMap.variants.find((function(e){return e.id===t.defaultValues.variantId}))||this.currentMap.variants[0]:this.currentVariant=this.currentMap.variants[0],0===this.currentMap.domains.length?this.currentDomain={id:"none",name:"none",levels:[]}:"domainId"in t.defaultValues?"auto"===t.defaultValues.domainId?this.currentDomain={id:"auto",name:"auto",levels:[]}:this.currentDomain=this.currentMap.domains.reduce((function(e,t){return[].concat(an(e),an(t.domains))}),[]).find((function(e){return e.id===t.defaultValues.domainId}))||{id:"none",name:"none",levels:[]}:this.currentDomain={id:"auto",name:"auto",levels:[]},this.currentOverlays=this.inventory.overlays.filter((function(e){return void 0!==t.defaultValues.overlayIds&&t.defaultValues.overlayIds.includes(e.id)})),this.currentLevel=this.getDomainAutoResolved().levels.find((function(e){return e.id===t.defaultValues.levelId}))||("none"===this.currentDomain.id?{id:"none",name:"none"}:"auto"===this.currentDomain.id?this.getDomainAutoResolved().levels[0]:this.currentDomain.levels[0]),this.backgroundMask.onclick=function(){return n.toggleMenu(!0)},t.container.appendChild(this.sidebarContainer),this.sidebarContainer.appendChild(this.menuContainer),t.show){var r=bt("div",[Vt.controlButton,Vt.menuButton]);r.onclick=function(){return n.toggleMenu(!1)},this.sidebarContainer.appendChild(r)}if(this.mapSettings=new $t((function(e){return n.onMapChange(n.currentMap,e,n.currentDomain,n.currentLevel)}),(function(e){return n.onMapChange(n.currentMap,n.currentVariant,n.currentDomain,e)})),this.generalSettings=new Jt(this.menuContainer,this.onDomainChange,this.onOverlayChange,this.onScreenshot,this.onOpenModal,t.customMenuEntries),this.generalSettings.setDomainOptions(this.currentMap.domains,this.currentDomain.id),"overlays"in this.inventory){var i=this.inventory.overlays.filter((function(e){return n.isSelectableOverlay(e,n.currentVariant.hiddenOverlays)}));this.generalSettings.setOverlayOptions(i,this.currentOverlays),"time"in this.currentVariant&&null!==this.currentVariant.time||this.generalSettings.disableOverlaySelection()}this.hasOnlyOneMap=1===this.inventory.categories.reduce((function(e,t){return[].concat(an(e),an(t.maps))}),[]).length,this.build(),this.onMapChange(this.currentMap,this.currentVariant,this.currentDomain,this.currentLevel);var o=this.getDomainAutoResolved().levels;if(this.mapSettings.setVariants(this.currentMap.variants,this.currentVariant),this.mapSettings.setLevels(o,this.currentLevel),"auto"===this.show){var a=this.container.clientWidth<this.mobileBreakpoint;this.toggleMenu(a),window.onresize=function(){var e,t,r=null===(e=document.activeElement)||void 0===e?void 0:e.classList.contains(Vt.searchBarInputText),i=null===(t=document.activeElement)||void 0===t?void 0:t.classList.contains(Vt.searchBarTextClear);r||i||n.toggleMenu(a)}}!1===this.show&&(this.toggleMenu(!0),this.menuContainer.style.display="none",this.sidebarContainer.style.transition="none",this.onToggle=void 0),this.generalSettings.setAttribution(this.inventory.attribution)},dn=r(3200),fn={};fn.styleTagTransform=ot(),fn.setAttributes=tt(),fn.insert=Qe().bind(null,"head"),fn.domAPI=Ke(),fn.insertStyleElement=rt(),Ye()(dn.Z,fn);var pn=dn.Z&&dn.Z.locals?dn.Z.locals:void 0;function hn(e){return hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hn(e)}function mn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vn=function e(t,n){var r=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),mn(this,"background",bt("div",pn.background)),mn(this,"close",(function(){r.background.remove()})),this.container=n,null!==this.container){this.container.appendChild(this.background),this.background.innerHTML='\n                <div class="'.concat(pn.modalWrapper,'" ').concat(t.maxWidth?'style="max-width:'+t.maxWidth+'"':"",'>\n                    <div class="').concat(pn.header,'">\n                        <span>').concat(t.title?t.title:"",'</span>\n                        <span id="mb-closeIcon" class=').concat(pn.close,'></span>\n                    </div>\n                    <div id="mb-modalContent" class="').concat(pn.content,'"></div>\n                    <div class=').concat(pn.buttons,'>\n                        <button id="mb-closeButton" class="').concat(pn.button,'">\n                            ').concat(t.closeLabel?t.closeLabel:"Close",'\n                        </button>\n                        <button id="mb-confirmButton" class="').concat(pn.button,'">\n                            ').concat(t.confirmLabel?t.confirmLabel:"OK","\n                        </button>\n                    </div>\n                </div>\n            ");var i=document.getElementById("mb-modalContent"),o=document.getElementById("mb-closeButton"),a=document.getElementById("mb-closeIcon");i&&("object"===hn(t.content)?i.appendChild(t.content):i.innerHTML=t.content),!0===t.closeable||void 0===t.closeable?(o&&(o.onclick=this.close),a&&(a.onclick=this.close)):(o&&o.remove(),a&&a.remove());var s=document.getElementById("mb-confirmButton");t.onConfirm?s&&(s.onclick=t.onConfirm):s&&s.remove()}},gn=(r(9575),r(4197),r(2990),r(8927),r(3105),r(5035),r(4345),r(7174),r(2846),r(4731),r(7209),r(6319),r(8867),r(7789),r(3739),r(9368),r(4483),r(2056),r(3462),r(678),r(7462),r(3824),r(5021),r(2974),r(5016),r(2472),function(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(r));return r}),yn=function(e,t,n){var r=e.createProgram(),i=gn(e,e.VERTEX_SHADER,t),o=gn(e,e.FRAGMENT_SHADER,n);if(e.attachShader(r,i),e.attachShader(r,o),e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS))throw new Error(e.getProgramInfoLog(r));for(var a={program:r},s=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES),u=0;u<s;u++){var c=e.getActiveAttrib(r,u);a[c.name]=e.getAttribLocation(r,c.name)}for(var l=e.getProgramParameter(r,e.ACTIVE_UNIFORMS),d=0;d<l;d++){var f=e.getActiveUniform(r,d);a[f.name]=e.getUniformLocation(r,f.name)}return a},bn=function(e,t,n,r,i){var o=e.createTexture();return e.bindTexture(e.TEXTURE_2D,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),n instanceof Uint8Array?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r,i,0,e.RGBA,e.UNSIGNED_BYTE,n):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n),e.bindTexture(e.TEXTURE_2D,null),o},An=function(e,t,n){e.activeTexture(e.TEXTURE0+n),e.bindTexture(e.TEXTURE_2D,t)},xn=function(e,t,n,r,i){e.bindTexture(e.TEXTURE_2D,t),e.texSubImage2D(e.TEXTURE_2D,0,0,0,r,i,e.RGBA,e.UNSIGNED_BYTE,n),e.bindTexture(e.TEXTURE_2D,null)},wn=function(e,t){var n=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW),n},Dn=function(e,t,n,r){e.bindBuffer(e.ARRAY_BUFFER,t),e.enableVertexAttribArray(n),e.vertexAttribPointer(n,r,e.FLOAT,!1,0,0)},Sn=function(e,t,n){e.bindFramebuffer(e.FRAMEBUFFER,t),n&&e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)},Cn="\n    precision mediump float;\n    attribute vec2 a_pos;\n    varying vec2 vTexCoord;\n\n    void main() {\n        vTexCoord = 1.0-a_pos;\n        gl_Position = vec4(1.0 - 2.0 * a_pos, 0, 1);\n    }\n",Tn="\n    precision mediump float;\n    uniform float u_opacity;\n    \n    varying vec2 vTexCoord;\n    uniform sampler2D uTexture;\n\n    void main() {\n     \n     vec4 color = texture2D(uTexture, vTexCoord);\n     //gl_FragColor =texture2D(uTexture, vTexCoord);\n\n\n     //   gl_FragColor = vec4(length(screenPos), 0.0,  0.0, u_opacity);\n     //   gl_FragColor = vec4(color.r, color.g,  color.b, color.a*u_opacity);\n      //  gl_FragColor = vec4(color.r* u_opacity, color.g* u_opacity,  color.b * u_opacity,color.a);\n        gl_FragColor = vec4(color.rgb* u_opacity,1.0);\n    }\n",En="\n    precision mediump float;\n    attribute vec2 a_pos;\n    varying vec2 vTexCoord;\n\n    void main() {\n        vTexCoord = 1.0-a_pos;\n        gl_Position = vec4(1.0 - 2.0 * a_pos, 0, 1);\n    }\n",_n="\n    precision highp float;\n    uniform float u_opacity;\n    \n    varying vec2 vTexCoord;\n    uniform sampler2D uTexture;\n\n    void main() {  \n     vec4 color = texture2D(uTexture, vTexCoord);\n     gl_FragColor = vec4(color.rgb,color.a*u_opacity);\n    }\n    ";function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var On=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Pn(this,"img",new Image),Pn(this,"prog",{}),Pn(this,"maxZoom",1),Pn(this,"minZoom",0),Pn(this,"layerTextureWidth",1),Pn(this,"layerTextureHeight",1),Pn(this,"mapWidth",1),Pn(this,"mapHeight",1),Pn(this,"useRetina",!1),Pn(this,"returnEmptyTilesOnError",!1),Pn(this,"latMax",86),Pn(this,"latMin",-86),Pn(this,"lonMin",-180),Pn(this,"lonMax",180),this.canvas=this.createCanvas();var r=this.canvas.getContext("webgl");this.gl2=r,this.createShaders(this.gl2),this.map=t,this.useRetina=n,this.framebuffer=this.gl2.createFramebuffer(),this.quadBuffer=wn(this.gl2,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]))}var t,n;return t=e,n=[{key:"createCanvas",value:function(){var e=document.createElement("canvas");e.id="tileCanvas",document.body.appendChild(e);var t=document.getElementById(e.id);return t&&t.parentElement&&t.parentElement.removeChild(t),t.addEventListener("webglcontextlost",(function(){console.log("webgl context lost")})),t}},{key:"createShaders",value:function(e){var t=yn(e,"\n       precision highp float;\n       attribute vec2 a_pos;\n       attribute vec2 a_coords;\n       uniform float u_width;\n       uniform float u_height;\n       varying vec2 vTexCoord;\n\n       void main() {\n        float scaleF = 1.0;\n        float x = 2.0*(a_pos.x/u_width)-1.0;\n        float y = 2.0*(a_pos.y / u_height)-1.0;\n        gl_Position = vec4(x*scaleF, y*scaleF, 0.0, 1.0);\n        vTexCoord = vec2(a_coords.x,1.0-a_coords.y);\n       }\n","\n    precision highp float;\n    varying vec2 vTexCoord;\n    uniform sampler2D uTexture;\n\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      gl_FragColor = color; \n}\n");this.prog=t.program,this.prog.a_pos=e.getAttribLocation(this.prog,"a_pos"),this.prog.a_coords=e.getAttribLocation(this.prog,"a_coords"),this.prog.u_width=e.getUniformLocation(this.prog,"u_width"),this.prog.u_height=e.getUniformLocation(this.prog,"u_height"),this.prog.uTexture=e.getUniformLocation(this.prog,"uTexture")}},{key:"setBounds",value:function(e,t,n,r){this.latMax=n,this.lonMax=r,this.lonMin=t,this.latMin=e}},{key:"resetBounds",value:function(){this.latMax=86,this.latMin=-86,this.lonMin=-180,this.lonMax=180}},{key:"findVisibleTiles",value:function(){var e=this.map.getZoom(),t=this.map.getBounds(),n=Math.round(e);this.useRetina&&(n+=1),n>this.maxZoom&&(n=this.maxZoom),n<this.minZoom&&(n=this.minZoom);var r=t.getSouthWest(),i=t.getNorthEast(),o=this.latlon2OSMTileNr(r.lat,r.lng,n),a=this.latlon2OSMTileNr(i.lat,i.lng,n),s=0,u=0;this.latMax<i.lat&&(u=this.latlon2OSMTileNr(this.latMax,0,n).y-o.y),this.latMin>r.lat&&(s=this.latlon2OSMTileNr(this.latMin,0,n).y-o.y);var c=Math.pow(2,n),l=0,d=0;o.x>a.x?(l=c-o.x+1+a.x,d=o.y-a.y+1):(l=a.x-o.x+1,d=o.y-a.y+1);for(var f=[],p=l-o.xpos-1+a.xpos,h=d-a.ypos-1+o.ypos,m=-o.xpos,v=o.ypos,g=0;g<l;g++)for(var y=u;y<d+s;y++){var b=g+m,A=y+v,x={x:(g+o.x)%c,y:y+a.y,z:n,xpos:b,ypos:d-A-1,xrange:p,yrange:h};f.push(x)}return f}},{key:"latlon2OSMTileNr",value:function(e,t,n){var r=Math.pow(2,n),i=.017453292*e,o=(t+540)%360/360*r,a=(1-Math.log(Math.tan(i)+1/Math.cos(i))/3.141592653589793)/2*r,s=o-Math.floor(o),u=1-(a-Math.floor(a));return{x:Math.floor(o),y:Math.floor(a),xpos:s,ypos:u}}},{key:"loadLayerTiles",value:function(e,t,n,r,i,o,a){var s=this,u=this.gl2;this.mapWidth=n,this.mapHeight=r,this.maxZoom=i,this.minZoom=o,this.returnEmptyTilesOnError=a,this.useRetina&&(t=1),u.enable(u.BLEND);var c=this.mapWidth*t,l=this.mapHeight*t;this.layerTextureWidth=c,this.layerTextureHeight=l;var d=this.findVisibleTiles(),f=new Promise((function(t,n){if(0==d.length)throw new Error("No tiles for this layer "+e);var r=new Uint8Array(c*l*4);void 0!==i&&u.deleteTexture(i);var i=bn(u,u.LINEAR,r,c,l);Sn(u,s.framebuffer,i),u.viewport(0,0,c,l);for(var o=[],a=0;a<d.length;a++){var f=e.replace("{x}",String(d[a].x));f=(f=f.replace("{y}",String(d[a].y))).replace("{z}",String(d[a].z));var p=s.map._requestManager._transformRequestFn,h="function"==typeof p?p(f,"Tile").url:f;o.push(s.loadImageAndCreateTextureInfo(h))}Promise.all(o).then((function(e){for(var n=c/(e[0].width*d[0].xrange)*e[0].width,o=0;o<d.length;o++){var a=d[o].xpos*n,f=d[o].ypos*n,p=s.setRectangle(a,f,n,n);s.renderImg(e[o],p)}u.readPixels(0,0,c,l,u.RGBA,u.UNSIGNED_BYTE,r),Sn(u,null,null),e.length=0,void 0!==i&&u.deleteTexture(i),t(r)}))}));return f}},{key:"setRectangle",value:function(e,t,n,r){var i=e+n,o=t+r;return new Float32Array([e,t,i,t,e,o,e,o,i,t,i,o])}},{key:"renderImg",value:function(e,t){var n=this.gl2;n.useProgram(this.prog),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e.texture);var r=wn(n,t);Dn(n,r,this.prog.a_pos,2),Dn(n,this.quadBuffer,this.prog.a_coords,2),n.uniform1i(this.prog.uTexture,0),n.uniform1f(this.prog.u_width,this.layerTextureWidth),n.uniform1f(this.prog.u_height,this.layerTextureHeight),n.drawArrays(n.TRIANGLES,0,6)}},{key:"loadImageAndCreateTextureInfo",value:function(e){var t=this,n=this.gl2,r=n.createTexture();n.bindTexture(n.TEXTURE_2D,r),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,new Uint8Array([128,128,128,0])),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR);var i={width:1,height:1,texture:r},o=new Image,a=new Promise((function(r,a){o.onload=function(){i.width=o.width,i.height=o.height,n.bindTexture(n.TEXTURE_2D,i.texture),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,o),r(i)},o.onerror=function(){t.returnEmptyTilesOnError?(console.log("return empty image",e),r(i)):console.log("Sorry, could not load tile textures: "+e)}}));return o.crossOrigin="",o.src=e,a}}],n&&Ln(t.prototype,n),e}();function Fn(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function Bn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Fn(o,r,i,a,s,"next",e)}function s(e){Fn(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kn=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),In(this,"program",{}),In(this,"programDrawTexture",{}),In(this,"programDrawTextureAlpha",{}),In(this,"programDrawBlTexture",{}),In(this,"programUV",{}),In(this,"takeScreenshot",!0),In(this,"dataLayerReady",!1),In(this,"renderAnimationActive",!1),In(this,"times",[]),In(this,"allTimes",[]),In(this,"isRadar",!1),In(this,"nt",this.times.length),In(this,"layers",new Array(this.nt)),In(this,"uvLayers",new Array(this.nt)),In(this,"timeStep",0),In(this,"AnimationData",new Array(4)),In(this,"motionData",new Array(4)),In(this,"motionDt",new Array(4)),In(this,"animationFrame",0),In(this,"keyFrameList",new Array(4)),In(this,"substepCount",0),In(this,"substeps",10),In(this,"WindowYsize",0),In(this,"WindowXsize",0),In(this,"motionTexScaleFactor",.25),In(this,"motionTexWidth",0),In(this,"motionTexHeight",0),In(this,"zoom",5),In(this,"screenRes",window.devicePixelRatio?window.devicePixelRatio:1),In(this,"fpsInterval",0),In(this,"then",0),In(this,"frameRate",32),In(this,"mapIsIdle",!1),In(this,"animationLayerActive",!0),In(this,"timeSlide",!1),In(this,"initialize",(function(e,t){n.gl=t,n.map=e,n.framebuffer=t.createFramebuffer(),n.quadBuffer=wn(t,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]));var r=yn(t,Cn,Tn);n.programDrawTexture=r.program,n.programDrawTexture.a_pos=t.getAttribLocation(n.programDrawTexture,"a_pos"),n.programDrawTexture.u_opacity=t.getUniformLocation(n.programDrawTexture,"u_opacity"),n.programDrawTexture.uTexture=t.getUniformLocation(n.programDrawTexture,"uTexture");var i=yn(t,En,_n);n.programDrawTextureAlpha=i.program,n.programDrawTextureAlpha.a_pos=t.getAttribLocation(n.programDrawTextureAlpha,"a_pos"),n.programDrawTextureAlpha.u_opacity=t.getUniformLocation(n.programDrawTextureAlpha,"u_opacity"),n.programDrawTextureAlpha.uTexture=t.getUniformLocation(n.programDrawTextureAlpha,"uTexture");var o=yn(t,"\n    precision highp float;\n    attribute vec2 a_pos;\n    uniform mat4 uMatrix;\n    varying vec2 vTexCoord;\n\n    float Extent =  8192.0;\n\n    void main() {\n        vec4 a = uMatrix * vec4(a_pos * Extent, 0, 1);\n        gl_Position = vec4(a.rgba);\n        vTexCoord = a_pos;\n}\n","\n    precision highp float;\n    varying vec2 vTexCoord;\n    uniform sampler2D uTexture;\n\n    void main() {\n        vec4 color = texture2D(uTexture, vTexCoord);\n\n     float fac = 1.0-color.a;\n  //   gl_FragColor = vec4(fac,fac,fac,color.a); \n     gl_FragColor = vec4(0,0,0,color.a); \n}\n");n.program=o.program,n.program.a_pos=t.getAttribLocation(n.program,"a_pos"),n.program.uMatrix=t.getUniformLocation(n.program,"uMatrix"),n.program.uTexture=t.getUniformLocation(n.program,"uTexture");var a=yn(t,"\n    precision highp float;\n    attribute vec2 a_pos;\n    uniform mat4 uMatrix;\n    varying vec2 vTexCoord;\n\n    float Extent =  8192.0;\n\n    void main() {\n        vec4 a = uMatrix * vec4(a_pos * Extent, 0, 1);\n        gl_Position = vec4(a.rgba);\n        vTexCoord = a_pos;\n}\n","\n    precision highp float;\n    varying vec2 vTexCoord;\n    uniform sampler2D uTexture;\n\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      gl_FragColor = color; \n}\n");n.programUV=a.program,n.programUV.a_pos=t.getAttribLocation(n.programUV,"a_pos"),n.programUV.uMatrix=t.getUniformLocation(n.programUV,"uMatrix"),n.programUV.uTexture=t.getUniformLocation(n.programUV,"uTexture");var s=yn(t,"\n    precision highp float;\n    attribute vec2 a_pos;\n    varying vec2 vTexCoord;\n\n    void main() {\n        vTexCoord = 1.0-a_pos;\n        gl_Position = vec4(1.0 - 2.0 * a_pos, 0, 1);\n    }\n    ","\n    precision mediump float;\n    uniform float u_opacity;\n    uniform float u_wgt;\n    uniform float u_zoom;\n    uniform vec2 u_res;\n    varying vec2 vTexCoord;\n    uniform sampler2D uTexture1;\n    uniform sampler2D uTexture2;\n    uniform sampler2D uMV;\n\n\n    void main() {\n        vec4 mv = texture2D(uMV, vTexCoord);\n    //    highp vec2 pos = (mv.rg-0.5)*440.00;//*54; //currently no times2 as we are in the middle of the point\n        highp vec2 pos = vec2(-(mv.b-0.5),-(mv.g-0.5))*u_zoom;\n        float mf = 1.0-u_wgt;\n        vec4 color1 = texture2D(uTexture1,vTexCoord - mf*pos/u_res); \n        vec4 color2 = texture2D(uTexture2,vTexCoord + u_wgt*pos/u_res);\n\n        vec4 color = color1*u_wgt+color2*mf;\n     //   vec3 color = color1.rgb; //for motion testing use this\n      //  gl_FragColor = vec4(color.rgb * u_opacity,1.0);\n        gl_FragColor = vec4(color.rgb * u_opacity,color.a*u_opacity);\n    }\n");n.programDrawBlTexture=s.program,n.programDrawBlTexture.a_pos=t.getAttribLocation(n.programDrawBlTexture,"a_pos"),n.programDrawBlTexture.u_opacity=t.getUniformLocation(n.programDrawBlTexture,"u_opacity"),n.programDrawBlTexture.u_wgt=t.getUniformLocation(n.programDrawBlTexture,"u_wgt"),n.programDrawBlTexture.uTexture1=t.getUniformLocation(n.programDrawBlTexture,"uTexture1"),n.programDrawBlTexture.uTexture2=t.getUniformLocation(n.programDrawBlTexture,"uTexture2"),n.programDrawBlTexture.uMV=t.getUniformLocation(n.programDrawBlTexture,"uMV"),n.programDrawBlTexture.u_res=t.getUniformLocation(n.programDrawBlTexture,"u_res"),n.programDrawBlTexture.u_zoom=t.getUniformLocation(n.programDrawBlTexture,"u_zoom")})),In(this,"setupLayers",(function(e){if(e.disable(e.BLEND),e.canvas.height!=n.WindowYsize||e.canvas.width!=n.WindowXsize){e.viewport(0,0,e.canvas.width,e.canvas.height),void 0!==n.dataTextureTMP&&e.deleteTexture(n.dataTextureTMP),void 0!==n.dataTexture&&e.deleteTexture(n.dataTexture),void 0!==n.backgroundTexture&&e.deleteTexture(n.backgroundTexture),void 0!==n.uvTexture&&e.deleteTexture(n.uvTexture),n.AnimationData=new Array(n.nt),n.motionData=new Array(n.nt-1),n.motionDt=new Array(n.nt-1);var t=new Uint8Array(e.canvas.width*e.canvas.height*4);n.dataTextureTMP=bn(e,e.LINEAR,t,e.canvas.width,e.canvas.height),n.dataTexture=bn(e,e.LINEAR,t,e.canvas.width,e.canvas.height),n.backgroundTexture=bn(e,e.LINEAR,t.fill(255),e.canvas.width,e.canvas.height),n.motionTexWidth=Math.floor(e.canvas.width*n.motionTexScaleFactor),n.motionTexHeight=Math.floor(e.canvas.height*n.motionTexScaleFactor),t=new Uint8Array(n.motionTexWidth*n.motionTexHeight*4),n.uvTexture=bn(e,e.LINEAR,t,n.motionTexWidth,n.motionTexHeight),n.WindowYsize=e.canvas.height,n.WindowXsize=e.canvas.width,t=new Uint8Array(1)}})),In(this,"startAnimating",(function(e){n.fpsInterval=1e3/e,n.then=Date.now(),n.animate()})),In(this,"animate",(function(){if(n.animationLayerActive){var e=Date.now(),t=e-n.then;t>n.fpsInterval&&(n.then=e-t%n.fpsInterval,n.mapIsIdle&&n.renderAnimation()),requestAnimationFrame(n.animate)}})),In(this,"renderAnimation",(function(){if(void 0!==n.gl){n.gl.disable(n.gl.DEPTH_TEST),Sn(n.gl,null,null),n.gl.enable(n.gl.BLEND);var e=n.substeps,t=1,r=n.keyFrameList[n.animationFrame];if(e*=n.motionDt[r],n.isRadar&&(t=.86,n.drawTextureAlpha(n.gl,n.backgroundTexture,1),n.gl.blendFunc(n.gl.SRC_ALPHA,n.gl.ONE_MINUS_SRC_ALPHA)),n.timeSlide){var i=Math.round(n.animationFrame/15*n.substeps);r=n.keyFrameList[i],xn(n.gl,n.dataTextureTMP,n.AnimationData[r],n.WindowXsize,n.WindowYsize),xn(n.gl,n.dataTexture,n.AnimationData[r+1],n.WindowXsize,n.WindowYsize),xn(n.gl,n.uvTexture,n.motionData[r],n.motionTexWidth,n.motionTexHeight);var o=n.animationFrame%15/15;n.drawBlTexture(n.gl,n.dataTexture,n.dataTextureTMP,n.uvTexture,o,t)}else 0==n.animationFrame||r!=n.keyFrameList[n.animationFrame-1]||r==n.nt-1?(xn(n.gl,n.dataTextureTMP,n.AnimationData[r],n.WindowXsize,n.WindowYsize),r<n.nt-1&&xn(n.gl,n.uvTexture,n.motionData[r],n.motionTexWidth,n.motionTexHeight),n.drawBlTexture(n.gl,n.dataTextureTMP,n.dataTextureTMP,n.uvTexture,n.substepCount/e,t),n.substepCount=0):(xn(n.gl,n.dataTexture,n.AnimationData[r+1],n.WindowXsize,n.WindowYsize),n.drawBlTexture(n.gl,n.dataTexture,n.dataTextureTMP,n.uvTexture,n.substepCount/e,t));n.isRadar||(n.gl.blendFuncSeparate(n.gl.SRC_ALPHA,n.gl.ONE_MINUS_SRC_ALPHA,n.gl.SRC_ALPHA,n.gl.ONE),n.drawTextureAlpha(n.gl,n.backgroundTexture,.1+n.zoom/10)),n.substepCount+=1,n.animationFrame=n.animationFrame+1,n.timeSlide||n.animationFrame>n.keyFrameList.length-1&&(n.animationFrame=0)}var a=n.animationFrame;0==n.timeSlide&&(a>n.keyFrameList.length-n.substeps+1&&(a=n.keyFrameList.length-n.substeps+1),a=Math.round(a/n.substeps*15)),n.onStepChange&&n.onStepChange(a),n.timeSlide&&(n.animationFrame=Math.round(n.animationFrame/15*n.substeps),n.substepCount=n.animationFrame%n.substeps)})),In(this,"drawTexture",(function(e,t,r){var i=n.programDrawTexture;e.useProgram(i),Dn(e,n.quadBuffer,i.a_pos,2),An(e,t,0),e.uniform1i(i.uTexture,0),e.uniform1f(i.u_opacity,r),e.drawArrays(e.TRIANGLES,0,6)})),In(this,"drawTextureAlpha",(function(e,t,r){var i=n.programDrawTextureAlpha;e.useProgram(i),Dn(e,n.quadBuffer,i.a_pos,2),An(e,t,0),e.uniform1i(i.uTexture,0),e.uniform1f(i.u_opacity,r),e.drawArrays(e.TRIANGLES,0,6)})),In(this,"drawBlTexture",(function(e,t,r,i,o,a){var s=n.programDrawBlTexture;e.useProgram(s),Dn(e,n.quadBuffer,s.a_pos,2),An(e,t,0),e.uniform1i(s.uTexture1,0),An(e,r,1),e.uniform1i(s.uTexture2,1),An(e,i,2),e.uniform1i(s.uMV,2),e.uniform1f(s.u_opacity,a),e.uniform1f(s.u_wgt,o);var u={pixels:1024,zoom:7};n.isRadar&&(u={pixels:512,zoom:7});var c=n.map.getZoom();n.zoom=c;var l=u.pixels*n.screenRes/Math.pow(2,u.zoom-c);e.uniform1f(s.u_zoom,l),e.uniform2f(s.u_res,e.canvas.width,e.canvas.height),e.drawArrays(e.TRIANGLES,0,6)})),In(this,"fastLoad",Bn(regeneratorRuntime.mark((function e(){var t,r,i,o,a,s,u,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isRadar){e.next=6;break}return e.next=3,n.satLoader.loadLayerTiles("https://maptiles.meteoblue.com/styles/terrain2/{z}/{x}/{y}.png?apikey="+n.apiKey,1,n.WindowXsize,n.WindowYsize,10,1,!0);case 3:t=e.sent,e.next=35;break;case 6:return e.next=8,n.satLoader.loadLayerTiles("https://maptiles.meteoblue.com/data/precalculatedCityTiles2/{z}/{x}/{y}.png?apikey="+n.apiKey,1,n.WindowXsize,n.WindowYsize,7,1,!0);case 8:if(t=e.sent,r=0,!(n.screenRes>1.4)){e.next=24;break}return n.satLoader.setBounds(-57,-180,72,180),e.prev=12,e.next=15,n.satLoader.loadLayerTiles("https://maptiles.meteoblue.com/data/hillshades/{z}/{x}/{y}.png?apikey="+n.apiKey,1,n.WindowXsize,n.WindowYsize,7,2,!0);case 15:i=e.sent,e.next=21;break;case 18:e.prev=18,e.t0=e.catch(12),r=1;case 21:n.satLoader.resetBounds(),e.next=34;break;case 24:return e.prev=24,e.next=27,n.imgLoader.loadLayerTiles("https://maptiles.meteoblue.com/data/hillshades/{z}/{x}/{y}.png?apikey="+n.apiKey,1,n.WindowXsize,n.WindowYsize,7,2,!0);case 27:i=e.sent,e.next=33;break;case 30:e.prev=30,e.t1=e.catch(24),r=1;case 33:n.imgLoader.resetBounds();case 34:if(0==r)for(o=0;o<n.WindowXsize*n.WindowYsize*4;o++)t[o]=o%4==3?Math.max(i[o],t[o]):Math.min(i[o],t[o]);case 35:xn(n.gl,n.backgroundTexture,t,n.WindowXsize,n.WindowYsize),a=n.timeStep;case 37:if(!(a<n.nt)){e.next=65;break}if(n.onStepChange&&n.onStepChange(15*n.timeStep),n.animationLayerActive){e.next=41;break}return e.abrupt("return");case 41:if(s=6,Date.parse(n.times[a].substring(0,4)+"-"+n.times[a].substring(4,6)+"-"+n.times[a].substring(6,8))<Date.parse("2021-12-11")&&(s=5),!(n.screenRes>1.4)){e.next=50;break}return e.next=47,n.satLoader.loadLayerTiles(n.layers[n.timeStep],1,n.WindowXsize,n.WindowYsize,s,2,!0);case 47:u=e.sent,e.next=53;break;case 50:return e.next=52,n.imgLoader.loadLayerTiles(n.layers[n.timeStep],1,n.WindowXsize,n.WindowYsize,s,2,!0);case 52:u=e.sent;case 53:return n.AnimationData[n.timeStep]=u,void 0!==n.gl&&(n.gl.enable(n.gl.BLEND),xn(n.gl,n.dataTextureTMP,u,n.WindowXsize,n.WindowYsize),n.isRadar?(n.drawTextureAlpha(n.gl,n.backgroundTexture,1),n.gl.blendFunc(n.gl.SRC_ALPHA,n.gl.ONE_MINUS_SRC_ALPHA),n.drawBlTexture(n.gl,n.dataTextureTMP,n.dataTextureTMP,n.uvTexture,0,.85)):(n.drawTexture(n.gl,n.dataTextureTMP,1),n.gl.blendFuncSeparate(n.gl.SRC_ALPHA,n.gl.ONE_MINUS_SRC_ALPHA,n.gl.SRC_ALPHA,n.gl.ONE),n.drawTextureAlpha(n.gl,n.backgroundTexture,.1+n.zoom/10))),e.next=57,n.imgLoader.loadLayerTiles(n.uvLayers[n.timeStep],n.motionTexScaleFactor,n.WindowXsize,n.WindowYsize,4,2,!0);case 57:if(c=e.sent,a==n.nt-1){for(l=new Uint8Array(c.length),d=0;d<c.length;d++)l[d]=128;n.motionData[n.nt-1]=l}n.motionData[a-1]=c,n.motionDt[a-1]=1,n.timeStep+=1;case 62:a++,e.next=37;break;case 65:n.animationFrame=0,n.animationLayerActive=!0,n.dataLayerReady=!0;case 68:case"end":return e.stop()}}),e,null,[[12,18],[24,30]])})))),In(this,"setRange",(function(e){n.disable(),n.nt=e,n.setTimesteps(),n.resetAnimation(),n.map.triggerRepaint()})),In(this,"setTimes",(function(e){n.allTimes=e.timesteps.map((function(e){return e.value}));var t=e.ranges?e.ranges[0].numsteps:n.allTimes.length;n.setRange(t)})),In(this,"setTileUrl",(function(e){n.tileUrl=e,n.resetAnimation()})),In(this,"showImage",(function(e){n.timeSlide=!0,n.animationFrame=e,n.renderAnimation(),n.timeSlide=!1})),In(this,"isAnimationRunning",(function(){return n.renderAnimationActive})),this.map=t.map,this.nt=t.range,this.allTimes=t.steps,this.tileUrl=t.tileUrl,this.apiKey=t.apiKey,this.onStepChange=t.onStepChange,this.onDisable=t.onDisable,this.onLoading=t.onLoading,this.setTimesteps(),this.imgLoader=new On(this.map,!1),this.satLoader=new On(this.map,!0),this.mapIsIdle=!1,this.map.on("move",(function(e){n.resetAnimation()})),this.map.on("resize",(function(e){n.resetAnimation()})),this.map.on("idle",(function(e){n.mapIsIdle=!0}));var r=this.map.getCanvas();this.gl=r.getContext("webgl"),this.initialize(this.map,this.gl)}var t,n;return t=e,(n=[{key:"resetAnimation",value:function(){this.mapIsIdle=!1,this.dataLayerReady=!1,this.animationLayerActive=!1,this.timeStep=0,this.motionData=new Array(this.nt-1),this.AnimationData=new Array(this.nt),this.onDisable&&this.isActive&&this.onDisable(),this.isActive=!1}},{key:"createDebugTextureData",value:function(e){for(var t=new Uint8Array(4*e.length),n=0;n<e.length;n++)t[4*n]=e[n];return t}},{key:"disable",value:function(){this.animationLayerActive=!1}},{key:"enable",value:function(){var e=this;this.isActive=!0;var t=6.5;this.isRadar&&(t=10),this.map.getZoom()>t&&this.map.setZoom(t),this.gl&&this.setupLayers(this.gl),this.animationLayerActive=!0,this.dataLayerReady?(this.renderAnimationActive=!1,this.startAnimating(this.frameRate)):(this.renderAnimationActive=!0,this.onLoading&&this.onLoading("START"),this.fastLoad().then((function(){e.onLoading&&e.onLoading("STOP");var t=new Array(e.motionDt.length);e.motionDt[0]=e.motionDt[1];for(var n=0,r=0;r<e.nt-1;r++)e.motionDt[r]>1.4*e.motionDt[r+1]?t[r]=2:t[r]=1,n+=t[r];e.motionDt[e.nt-1]>1.4*e.motionDt[e.nt-2]?t[e.nt-1]=2:t[e.nt-1]=1,n+=t[e.nt-1],e.motionDt=t;var i=e.substeps;e.keyFrameList=new Array(n*i);for(var o=0,a=0;a<e.nt;a++)for(var s=0;s<i*t[a];s++)e.keyFrameList[o]=a,o+=1;void 0!==e.gl&&(void 0!==e.uvTexture&&e.gl.deleteTexture(e.uvTexture),e.uvTexture=bn(e.gl,e.gl.LINEAR,e.motionData[0],e.motionTexWidth,e.motionTexHeight)),e.mapIsIdle=!0,e.renderAnimationActive=!1,e.startAnimating(e.frameRate)})))}},{key:"texture2Data",value:function(e,t){Sn(t,this.framebuffer,e);var n=this.motionTexWidth*this.motionTexHeight*4,r=new Uint8Array(n);return t.readPixels(0,0,this.motionTexWidth,this.motionTexHeight,t.RGBA,t.UNSIGNED_BYTE,r),Sn(t,null,null),r}},{key:"setTimesteps",value:function(){this.times=this.allTimes.slice(this.allTimes.length-this.nt);for(var e=0;e<this.times.length;e++)this.layers[e]=this.tileUrl.replace("{timestamp}",this.times[e]),this.tileUrl.includes("radar")||this.tileUrl.includes("precipitation_global")?(this.uvLayers[e]=this.layers[e].replace(".png","_uv.png"),this.isRadar=!0,this.frameRate=24,this.substeps=15):(this.uvLayers[e]=this.layers[e].replace(".jpg","_uv.png"),this.isRadar=!1,this.frameRate=32,this.substeps=10)}}])&&Mn(t.prototype,n),e}(),Rn=kn;function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Nn=function(){function e(t,n,r,i,o,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.map=null,this.gl=null,this.id=t,this.tileSource=null,this.sourceId=n,this.type="custom",this.tileJson=r,this.program=null,this.onAddCallback=i,this.renderCallback=o,this.preRenderCallback=a}var t,n;return t=e,(n=[{key:"onAdd",value:function(e,t){this.map=e,this.gl=t,e.on("move",this.move.bind(this)),e.on("zoom",this.zoom.bind(this)),this.tileJson&&e.addSource(this.sourceId,this.tileJson),this.tileSource=this.map.getSource(this.sourceId),this.tileSource.on("data",this.onData.bind(this)),"sourceCaches"in this.map.style?this.sourceCache=this.map.style.sourceCaches[this.sourceId]:this.sourceCache=this.map.style._sourceCaches["other:".concat(this.sourceId)],this.map.style._layers[this.id].source=this.sourceId,this.onAddCallback&&this.onAddCallback(e,t)}},{key:"onRemove",value:function(e){e.off("move",this.move.bind(this)),e.off("zoom",this.zoom.bind(this))}},{key:"move",value:function(e){this.updateTiles()}},{key:"zoom",value:function(e){}},{key:"onData",value:function(e){"content"===e.sourceDataType&&this.updateTiles()}},{key:"updateTiles",value:function(){this.sourceCache.update(this.map.painter.transform)}},{key:"prerender",value:function(e,t){var n=this;this.preRenderCallback&&this.preRenderCallback(e,t,this.sourceCache.getVisibleCoordinates().map((function(e){return n.sourceCache.getTile(e)})))}},{key:"render",value:function(e,t){var n=this;this.renderCallback&&this.renderCallback(e,t,this.sourceCache.getVisibleCoordinates().map((function(e){return n.sourceCache.getTile(e)})))}}])&&Un(t.prototype,n),e}();function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zn=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Wn(this,"program",{}),Wn(this,"programDrawTexture",{}),Wn(this,"programDrawAlphaTexture",{}),Wn(this,"programWind2uv",{}),Wn(this,"programDrawParticles",{}),Wn(this,"programDrawParticlesW",{}),Wn(this,"programMoveParticles",{}),Wn(this,"programGetTemperature",{}),Wn(this,"programImageMerge",{}),Wn(this,"programCleanImage",{}),Wn(this,"mapZoomLevel",2),Wn(this,"takeScreenshot",!0),Wn(this,"dataLayerReady",!1),Wn(this,"WindowYsize",0),Wn(this,"WindowXsize",0),Wn(this,"screenTextureXsize",0),Wn(this,"screenTextureYsize",0),Wn(this,"pixels",new Uint8Array(4)),Wn(this,"fpsInterval",0),Wn(this,"then",0),Wn(this,"minFrameRate",50),Wn(this,"frameRate",0),Wn(this,"firstImage",!0),Wn(this,"mapIsIdle",!1),Wn(this,"particleLayerActive",!0),Wn(this,"hasError",!1),Wn(this,"_numParticles",8096),Wn(this,"wspeedMin",0),Wn(this,"wspeedMax",1),Wn(this,"particleSpeed",1),Wn(this,"adaptiveParticleSpeed",1),Wn(this,"thicknessGrowth",0),Wn(this,"particleSize",2),Wn(this,"dropRate",.01),Wn(this,"dropRateBump",.01),Wn(this,"_particleArrays",{}),Wn(this,"particleStateResolution",0),Wn(this,"_randomParticleState",new Uint8Array),Wn(this,"AnimationSpeed",1.2),Wn(this,"particleOpacity",.8),Wn(this,"colorScheme",1),Wn(this,"screenshotMapName",""),Wn(this,"screenshotDate",""),Wn(this,"initialize",(function(e,t){n.gl=t,n.map=e,n.framebuffer=t.createFramebuffer(),n.quadBuffer=wn(t,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]));var r=yn(t,Cn,Tn);n.programDrawTexture=r.program,n.programDrawTexture.a_pos=t.getAttribLocation(n.programDrawTexture,"a_pos"),n.programDrawTexture.u_opacity=t.getUniformLocation(n.programDrawTexture,"u_opacity"),n.programDrawTexture.uTexture=t.getUniformLocation(n.programDrawTexture,"uTexture");var i=yn(t,En,_n);n.programDrawAlphaTexture=i.program,n.programDrawAlphaTexture.a_pos=t.getAttribLocation(n.programDrawAlphaTexture,"a_pos"),n.programDrawAlphaTexture.u_opacity=t.getUniformLocation(n.programDrawAlphaTexture,"u_opacity"),n.programDrawAlphaTexture.uTexture=t.getUniformLocation(n.programDrawAlphaTexture,"uTexture");var o=yn(t,"\n    precision highp float;\n    attribute vec2 a_pos;\n    varying vec2 vTexCoord;\n\n    void main() {\n        vTexCoord = 1.0 - a_pos; //check this!!!\n       // vTexCoord =  a_pos; //check this!!!\n        gl_Position = vec4(1.0 - 2.0 * a_pos, 0, 1);\n    }\n","\n    precision highp float;\n    varying vec2 vTexCoord;\n    uniform sampler2D uTexture;\n    \n\n\nhighp float atan2(in float y, in float x)\n    {\n        bool s = (abs(x) > abs(y));\n        return mix(3.1415927/2.0 - atan(x,y), atan(y,x), float(s));\n    }\n\n\n\n \nvoid main() {\n\n    highp vec4 color = texture2D(uTexture, vTexCoord); \n    highp vec2 ww = vec2(\n                    color.r * (color.g-0.5),\n                    color.r * (color.b-0.5));\n //   ww = (ww+1.0)*0.5; \n \n    ww = ww+0.5; \n //  gl_FragColor = vec4(ww.x, ww.x,  ww.x, 1.0); \n            \n     gl_FragColor = vec4(\n        fract(ww * 255.0),\n        floor(ww * 255.0) / 255.0);\n}\n    \n");n.programWind2uv=o.program,n.programWind2uv.a_pos=t.getAttribLocation(n.programWind2uv,"a_pos"),n.programWind2uv.uTexture=t.getUniformLocation(n.programWind2uv,"uTexture");var a=yn(t,"\n    precision highp float;\n    attribute vec2 a_pos;\n    uniform mat4 uMatrix;\n    varying vec2 vTexCoord;\n\n    float Extent =  8192.0;\n\n    void main() {\n        vec4 a = uMatrix * vec4(a_pos * Extent, 0, 1);\n        gl_Position = vec4(a.rgba);\n        vTexCoord = a_pos;\n}\n","\n    precision highp float;\n    varying vec2 vTexCoord;\n    uniform sampler2D uTexture;\n\n    void main() {\n        vec4 color = texture2D(uTexture, vTexCoord);\n\n     float fac = 1.0/color.a;\n     gl_FragColor = vec4(color.r*fac,color.g*fac,color.b*fac,color.a); \n}\n");n.program=a.program,n.program.a_pos=t.getAttribLocation(n.program,"a_pos"),n.program.uMatrix=t.getUniformLocation(n.program,"uMatrix"),n.program.uTexture=t.getUniformLocation(n.program,"uTexture");var s=yn(t,"\n    precision mediump float;\n    precision mediump int;\n    attribute float a_index;\n    uniform float u_particles_res;\n    uniform float u_particle_size;\n    uniform sampler2D u_texture;\n    varying vec2 v_tex_pos;\n    uniform vec2 u_wind_res;\n    \n    float when_gt(float x, float y) {\n        return max(sign(x - y), 0.0);\n    }\n\n  void main() {\n    float a_ind = a_index / 2.0;\n    vec4 color = texture2D(u_texture, vec2(\n        fract(a_ind / u_particles_res),\n        floor(a_ind / u_particles_res) / u_particles_res));\n\n     vec2 screenPos = vec2(\n      color.r  + color.g / 255.0,\n      color.b  + color.a / 255.0);\n\n     float size=u_particle_size;\n     size += when_gt(fract(a_ind),0.1)*1.0;\n  \n    gl_PointSize = size;// u_particle_size;\n    v_tex_pos = 1.0-screenPos;\n    gl_Position =  vec4(1.0-2.0*screenPos, 0, 1);\n}\n","\nprecision mediump float;\nuniform sampler2D u_temp;\nuniform int u_colorScheme;\nvarying vec2 v_tex_pos;\nuniform float u_speed;\nuniform float u_thinc;\n\n\n  void main() {\n     vec4 color = texture2D(u_temp, v_tex_pos);\n\n    \n  //   col=vec4(0.5+4.0*(color.r-0.5), 1.0-1.2*abs(color.r-0.5) ,0.5+4.0*(0.5-color.r),0.9); \n  \n\n    vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n    float r = dot(cxy, cxy);\n    float rc = sin(0.3*color.g*u_speed)*(2.5+u_thinc);\n   \n    rc = max(rc,0.3);\n    if (r > rc) {\n        discard;\n    }\n\n    \n    if (u_colorScheme == 0) {\n        gl_FragColor = vec4(0.7,0.7,0.7,0.5); \n        return;\n    }\n\n     \n    vec4 col=vec4(1.0,1.0,1.0,1.0);\n   \n\n\n  // float  delta = 0.81;\n   // float alpha = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);\n  float alpha=0.3;\n      float x = 4.*(color.r-0.5);\n     // float alpha = min(0.5+abs(x),0.8);\n    //  float alpha = 0.95;\n      if (x > 0.0){ //red\n       //   x=x*1.5;\n          col = vec4(1.0, max(1.0-1.7*x,0.3),1.0-x,1.0);\n        //  alpha = alpha +x*0.5;\n        } else {\n           col = vec4(max(0.97+1.5*x,0.0),max(1.0-0.4*x*x,0.2),1.0,1.0);\n          // float y = abs(x);\n          // col = vec4(1.0-y, 1.0-0.46*y  ,1,1);\n\n        } //blue\n     //  alpha = 0.5 - (2.0-pow(abs(x),0.8))/7.8;\n       float spdf = color.g*u_speed * 5.0 + 0.08;\n       spdf = clamp(spdf,0.0,1.0);\n       alpha = alpha * spdf ;\n       \n    // gl_FragColor = col*alpha;\n   //  gl_FragColor = vec4(col.r*alpha,col.g*alpha,col.b*alpha,1);\n    gl_FragColor = vec4(col.r,col.g,col.b,alpha);\n    gl_FragColor = clamp(gl_FragColor,vec4(0.0,0.0,0.0,0.0),vec4(1.0,1.0,1.0,1.0));\n  }\n  ");n.programDrawParticles=s.program,n.programDrawParticles.u_texture=t.getUniformLocation(n.programDrawParticles,"u_texture"),n.programDrawParticles.u_temp=t.getUniformLocation(n.programDrawParticles,"u_temp"),n.programDrawParticles.u_particles_res=t.getUniformLocation(n.programDrawParticles,"u_particles_res"),n.programDrawParticles.u_particle_size=t.getUniformLocation(n.programDrawParticles,"u_particle_size"),n.programDrawParticles.a_index=t.getAttribLocation(n.programDrawParticles,"a_index"),n.programDrawParticles.u_colorScheme=t.getUniformLocation(n.programDrawParticles,"u_colorScheme"),n.programDrawParticles.u_wind_res=t.getUniformLocation(n.programDrawParticles,"u_wind_res"),n.programDrawParticles.u_speed=t.getUniformLocation(n.programDrawParticles,"u_speed"),n.programDrawParticles.u_thinc=t.getUniformLocation(n.programDrawParticles,"u_thinc");var u=yn(t,"\n    precision mediump float;\n    precision mediump int;\n    attribute float a_index;\n    uniform float u_particles_res;\n    uniform float u_particle_size;\n    uniform sampler2D u_texture;\n    varying vec2 v_tex_pos;\n    uniform vec2 u_wind_res;\n    varying float ind;\n    \n    float when_gt(float x, float y) {\n        return max(sign(x - y), 0.0);\n    }\n\n  void main() {\n    float a_ind = a_index / 2.0;\n    vec4 color = texture2D(u_texture, vec2(\n        fract(a_ind / u_particles_res),\n        floor(a_ind / u_particles_res) / u_particles_res));\n\n     vec2 screenPos = vec2(\n      color.r  + color.g / 255.0,\n      color.b  + color.a / 255.0);\n\n     float size=u_particle_size*0.5; //0.75\n     size += when_gt(fract(a_ind),0.1)*2.6*size; //2\n     ind = 0.0;\n     ind += when_gt(fract(a_ind),0.1)*1.0;\n\n  \n    gl_PointSize = size;// u_particle_size;\n    v_tex_pos = 1.0-screenPos;\n    gl_Position =  vec4(1.0-2.0*screenPos, 0, 1);\n}\n","\nprecision mediump float;\nvarying vec2 v_tex_pos;\nuniform sampler2D u_temp;\nuniform float u_speed;\nuniform float u_thinc;\nvarying float ind;\n\nfloat when_gt(float x, float y) {\n    return max(sign(x - y), 0.0);\n}\n\n  void main() {\n\n    vec4 color = texture2D(u_temp, v_tex_pos);\n    vec2 tl = vec2(color.r / 255.0 + color.b,color.g / 255.0 + color.a); \n    float sp = length(tl-0.5)*3.2;\n   \n    vec2 cxy = 2.0 * gl_PointCoord - 1.0;\n    float r = dot(cxy, cxy);\n  \n    float rc = sin(0.35*sp*u_speed)*(2.5+1.2*u_thinc);\n   // float rc = sp;\n   \n    rc = max(rc,0.14);\n    if (r > rc) {\n        discard;\n    }\n\n   // float sp2 = clamp(length(tl-0.5)*1.0,0.0,100.0);\n    //float al = clamp(0.5-40.0*r,0.0,1.0);\n\n    gl_FragColor = vec4(0.7,0.7,0.7,1.0); \n    gl_FragColor -= when_gt(ind,0.5)*(vec4(0.1,0.1,0.1,0.85));\n   \n \n  }\n  ");n.programDrawParticlesW=u.program,n.programDrawParticlesW.u_texture=t.getUniformLocation(n.programDrawParticlesW,"u_texture"),n.programDrawParticlesW.u_temp=t.getUniformLocation(n.programDrawParticlesW,"u_temp"),n.programDrawParticlesW.u_particles_res=t.getUniformLocation(n.programDrawParticlesW,"u_particles_res"),n.programDrawParticlesW.u_particle_size=t.getUniformLocation(n.programDrawParticlesW,"u_particle_size"),n.programDrawParticlesW.a_index=t.getAttribLocation(n.programDrawParticlesW,"a_index"),n.programDrawParticlesW.u_wind_res=t.getUniformLocation(n.programDrawParticlesW,"u_wind_res"),n.programDrawParticlesW.u_speed=t.getUniformLocation(n.programDrawParticlesW,"u_speed"),n.programDrawParticlesW.u_thinc=t.getUniformLocation(n.programDrawParticlesW,"u_thinc");var c=yn(t,"\nprecision mediump float;\nprecision mediump int;\nattribute vec2 a_pos;\nvarying vec2 v_tex_pos;\n\nvoid main() {\n    v_tex_pos = a_pos;\n    gl_Position = vec4(1.0 - 2.0 * a_pos, 0, 1); //entire screen size for our 0-1 positions\n//  gl_Position = vec4( a_pos, 0, 1);\n}\n","\n    precision highp float;\n    varying vec2 v_tex_pos;\n    uniform sampler2D u_particles;\n    uniform sampler2D u_wind;\n    uniform bool u_initialize;\n    uniform vec2 u_wind_res;\n    uniform float u_drop_rate;\n    uniform float u_drop_rate_bump;\n    uniform float u_rand_seed;\n    uniform float u_speed;\n    uniform float u_zoomlevel;\n    uniform float u_wsmax;\n    uniform float u_wsmin;\n   \n\n\n\n    highp vec2 bilinearData(const vec2 uv) {\n        precision highp float;\n\n         vec2 px = 1.0 / u_wind_res;\n         vec2 vc = (floor(uv * u_wind_res)) * px;\n         vec2 f = fract(uv * u_wind_res);\n        \n         vec4 color = texture2D(u_wind,vc);\n         vec2 tl = vec2(color.r / 255.0 + color.b,color.g / 255.0 + color.a); \n      \n         vec4 color2 = texture2D(u_wind,vc + vec2(px.x, 0));\n         vec2 tr = vec2(color2.r / 255.0 + color2.b,color2.g / 255.0 + color2.a); \n      \n         vec4 color3 = texture2D(u_wind,vc + vec2(0, px.y));\n         vec2 bl = vec2(color3.r / 255.0 + color3.b,color3.g / 255.0 + color3.a); \n      \n\n         vec4 color4 = texture2D(u_wind,vc + px);\n         vec2 br = vec2(color4.r / 255.0 + color4.b,color4.g / 255.0 + color4.a); \n      \n\n        return mix(mix(tl, tr, f.x), mix(bl, br, f.x), f.y);\n    }\n\n    \n\n     float rand(vec2 co)\n    {\n         float a = 12.9898;\n         float b = 78.233;\n         float c = 43758.5453;\n         float dt= dot(co.xy ,vec2(a,b));\n         float sn= mod(dt,3.14);\n        return fract(sin(sn) * c);\n    }\n\n     float when_eq(float x, float y) {\n        return 1.0 - abs(sign(x - y));\n      }\n      \n      float when_neq(float x, float y) {\n        return abs(sign(x - y));\n      }\n      \n      float when_gt(float x, float y) {\n        return max(sign(x - y), 0.0);\n      }\n      \n      float when_lt(float x, float y) {\n        return max(sign(y - x), 0.0);\n      }\n      \n      float when_ge(float x, float y) {\n        return 1.0 - when_lt(x, y);\n      }\n      \n      float when_le(float x, float y) {\n        return 1.0 - when_gt(x, y);\n      }\n\n\n     vec4 update(vec4 color) {\n\n         vec2 pos = vec2( color.r  + color.g / 255.0,\n            color.b  + color.a / 255.0);\n\n        vec2 velocity =  bilinearData(1.0-pos) - 0.5; \n  \n        highp float asp = u_wind_res.x/u_wind_res.y;\n       \n       velocity.y -= when_le(asp,1.0)*(1.0-asp)*velocity.y;\n       velocity.x -= when_gt(asp,1.0)*(1.0-1.0/asp)*velocity.x;\n\n       asp=max(asp,1.0);\n        velocity = velocity * asp;//*1.7;\n\n     //  highp vec2 velocity=-vec2(0.003,0.002)*2.0;\n      // highp vec2 velocity=-vec2(0.00,0.00);\n\n        float speed_th = length(velocity);//* u_speed; \n        mediump float sclf = (speed_th / (0.5+speed_th)*1.3)/speed_th;\n        vec2 rvel = velocity*u_speed*sclf*0.5;\n     \n    \n       color.g = color.g - rvel.x; \n       color.a = color.a - rvel.y; \n      \n        float ds = 1.0/255.0;\n\n       color.r *= when_le(color.r,1.0);\n       float colG = color.g;\n       float df = floor(colG);\n       color.g -= when_gt(colG,1.0)*df;\n       color.r += when_gt(colG,1.0)*ds*df;\n\n      // if (color.r > 1.0 ){color.r = 0.0;}\n      // if (color.g > 1.0 ){\n      //     float df = floor(color.g);\n      //     color.g = color.g - df;\n      //     color.r = color.r+ds*df;\n      //  }\n\n\n      colG = color.g;\n      df = floor(colG);\n      color.r = color.r * when_gt(color.r,0.0) + when_le(color.r,0.0);\n      color.g += when_lt(colG,0.0)*abs(df);\n      color.r += when_lt(colG,0.0)*ds*df;\n\n     //   if (color.r <= 0.0 ){color.r = 1.0;}\n      //  if (color.g < 0.0 ){\n        //    float df = floor(color.g);\n        //    color.g = abs(df) + color.g;\n       //     color.r = color.r+ds*df;\n       //  }\n \n      float colA = color.a;\n      color.b *= when_le(color.b,1.0);\n      df = floor(color.a);\n      color.a -= when_gt(colA,1.0)*df;\n      color.b += when_gt(colA,1.0)*ds*df;\n\n      //   if (color.b > 1.0  ){color.b = 0.0;}\n      //   if (color.a > 1.0 ){\n      //       float df = floor(color.a);\n      //       color.a = color.a - df;\n      //       color.b = color.b+ds*df;\n      //    }\n\n      df = floor(color.a);\n      colA = color.a;\n      color.b = color.b * when_ge(color.b,ds) + when_lt(color.b,ds);\n      color.a += when_lt(colA,0.0)*abs(df);\n      color.b += when_lt(colA,0.0)*ds*df;\n\n      //   if (color.b < ds ){color.b = 1.0;}\n       //  if (color.a < 0.0 ){\n      //       float df = floor(color.a);\n      //       color.a = abs(df) + color.a;\n      //       color.b = color.b+ds*df;\n      //    }\n  \n\n        vec2 seed = (pos + v_tex_pos) * u_rand_seed;\n    \n       \n        float drop_prob = u_drop_rate*0.6 + speed_th * u_drop_rate_bump + smoothstep(0.5, 1.0, length(pos - vec2(0.5, 0.5)) * 0.3);\n        float drop = step(1.0 - drop_prob, rand(seed));\n      \n\n        vec4 random_pos = vec4(\n            rand(seed + 1.3),rand(seed + 4.3),\n            rand(seed + 2.1),rand(seed + 7.3) );\n        return mix(color, random_pos, drop);\n       \n    }\n    \n\nvoid main() {\n    vec4 color = texture2D(u_particles, v_tex_pos);\n\n    color = update(color);\n\n    if (u_initialize) {\n        for (int i = 0; i < 160; i++) {\n            color = update(color);\n        }\n    }\n\n    gl_FragColor=color;\n}\n\n");n.programMoveParticles=c.program,n.programMoveParticles.a_pos=t.getAttribLocation(n.programMoveParticles,"a_pos"),n.programMoveParticles.u_wind_res=t.getUniformLocation(n.programMoveParticles,"u_wind_res"),n.programMoveParticles.u_particles=t.getUniformLocation(n.programMoveParticles,"u_particles"),n.programMoveParticles.u_wind=t.getUniformLocation(n.programMoveParticles,"u_wind"),n.programMoveParticles.u_initialize=t.getUniformLocation(n.programMoveParticles,"u_initialize"),n.programMoveParticles.u_drop_rate=t.getUniformLocation(n.programMoveParticles,"u_drop_rate"),n.programMoveParticles.u_drop_rate_bump=t.getUniformLocation(n.programMoveParticles,"u_drop_rate_bump"),n.programMoveParticles.u_rand_seed=t.getUniformLocation(n.programMoveParticles,"u_rand_seed"),n.programMoveParticles.u_zoomlevel=t.getUniformLocation(n.programMoveParticles,"u_zoomlevel"),n.programMoveParticles.u_speed=t.getUniformLocation(n.programMoveParticles,"u_speed"),n.programMoveParticles.u_wsmax=t.getUniformLocation(n.programMoveParticles,"u_wsmax"),n.programMoveParticles.u_wsmin=t.getUniformLocation(n.programMoveParticles,"u_wsmin");var l=yn(t,"\n   precision mediump float;\n   attribute vec2 a_pos;\n   varying vec2 vTexCoord;\n\n   void main() {\n       vTexCoord = 1.0-a_pos;\n       gl_Position = vec4(1.0 - 2.0 * a_pos, 0, 1);\n   }\n","\n   precision mediump float;\n   uniform float u_opacity;\n   varying vec2 vTexCoord;\n   uniform sampler2D uTexture;\n\n   float when_gt(float x, float y) {\n    return max(sign(x - y), 0.0);\n   }  \n\n   float when_lt(float x, float y) {\n    return max(sign(y - x), 0.0);\n  }\n\n   void main() {\n     vec4 color = texture2D(uTexture,  vTexCoord);\n  // gl_FragColor = color; //plot an rgba image\n\n    color.rgb *= when_gt(color.r,0.05) ;\n\n   // gl_FragColor = vec4(floor(color * u_opacity *255.0)/(256.0*u_opacity));\n\n  //  gl_FragColor = vec4(floor(color * u_opacity *255.0)/(254.0*u_opacity));\n  //  gl_FragColor = vec4(color.r,color.g,color.b,floor(color.a * u_opacity *255.0)/(265.5*u_opacity));\n   //  gl_FragColor = vec4(color.r* u_opacity,color.g* u_opacity,color.b* u_opacity,1.0);\n     gl_FragColor = vec4(color.rgb*u_opacity,1.0);\n\n   }\n");n.programCleanImage=l.program,n.programCleanImage.a_pos=t.getAttribLocation(n.programCleanImage,"a_pos"),n.programCleanImage.u_opacity=t.getUniformLocation(n.programCleanImage,"u_opacity"),n.programCleanImage.uTexture=t.getUniformLocation(n.programCleanImage,"uTexture");var d=yn(t,"\n    precision highp float;\n    attribute vec2 a_pos;\n    varying vec2 vTexCoord;\n\n    void main() {\n       // vTexCoord = 1.0 - a_pos; \n        vTexCoord =  1.0 - a_pos; \n        gl_Position = vec4(1.0 - 2.0 * a_pos, 0, 1);\n    }\n","\n    precision highp float;\n    varying vec2 vTexCoord;\n    uniform sampler2D uTexture;\n\nvoid main() {\n    vec4 color = texture2D(uTexture, vTexCoord);\n    gl_FragColor = vec4(color.a,color.r,0,0);\n}\n    \n");n.programGetTemperature=d.program,n.programGetTemperature.a_pos=t.getAttribLocation(n.programGetTemperature,"a_pos"),n.programGetTemperature.uTexture=t.getUniformLocation(n.programGetTemperature,"uTexture");var f=yn(t,"\n   precision highp float;\n   attribute vec2 a_pos;\n   varying vec2 vTexCoord;\n\n   void main() {\n       vTexCoord = 1.0-a_pos;\n       gl_Position = vec4(1.0 - 2.0 * a_pos, 0, 1);\n   }\n","\n   precision highp float;\n   uniform float u_opacity;\n   varying vec2 vTexCoord;\n   uniform sampler2D uTexture;\n   uniform sampler2D uTextureBackground;\n\n   void main() {\n     vec4 color = texture2D(uTexture,  vTexCoord);\n     vec4 colorB = texture2D(uTextureBackground,  vTexCoord);\n \n     gl_FragColor = colorB;\n\n    \n    if (color.r+color.b+color.g > 0.2) {\n\n        color = color * u_opacity;\n        float fac=color.b;\n        if (color.r > color.b ){fac=color.r;}\n        if (color.g > fac){fac=color.g;}\n\n        gl_FragColor=(color+(1.0-fac)*colorB);\n        \n    }\n\n    gl_FragColor = clamp(gl_FragColor,vec4(0.0,0.0,0.0,0.0),vec4(1.0,1.0,1.0,1.0));\n\n    // gl_FragColor = vec4(color.r* u_opacity,color.g* u_opacity,color.b* u_opacity,1);\n   //  if ((gl_FragColor.r < 0.6) && (gl_FragColor.g < 0.6) && (gl_FragColor.b < 0.6)) {gl_FragColor.a = 0.0;}\n   }\n");n.programImageMerge=f.program,n.programImageMerge.a_pos=t.getAttribLocation(n.programImageMerge,"a_pos"),n.programImageMerge.u_opacity=t.getUniformLocation(n.programImageMerge,"u_opacity"),n.programImageMerge.uTexture=t.getUniformLocation(n.programImageMerge,"uTexture"),n.programImageMerge.uTextureBackground=t.getUniformLocation(n.programImageMerge,"uTextureBackground"),n.initializeParticles(t)})),Wn(this,"setupLayers",(function(e){e.disable(e.BLEND),n._particleArrays.updated=!1;var t=!0,r=n.map.getZoom();n.mapZoomLevel!=r&&(n.initializeParticles(e),t=!1,n.mapZoomLevel=r);var i=new Uint8Array(e.canvas.width*e.canvas.height*4);if(e.canvas.height==n.WindowYsize&&e.canvas.width==n.WindowXsize)return xn(e,n.screenTexture,i,e.canvas.width,e.canvas.height),void xn(e,n.lastScreenTexture,i,e.canvas.width,e.canvas.height);void 0!==n.dataTextureTMP&&e.deleteTexture(n.dataTextureTMP),void 0!==n.dataTexture&&e.deleteTexture(n.dataTexture),void 0!==n.temperatureTexture&&e.deleteTexture(n.temperatureTexture),void 0!==n.screenTexture&&e.deleteTexture(n.screenTexture),void 0!==n.lastScreenTexture&&e.deleteTexture(n.lastScreenTexture),void 0!==n.tmpTexture&&e.deleteTexture(n.tmpTexture),n.dataTexture=bn(e,e.LINEAR,i,e.canvas.width,e.canvas.height),n.temperatureTexture=bn(e,e.LINEAR,i,e.canvas.width,e.canvas.height),n.dataTextureTMP=bn(e,e.LINEAR,i,e.canvas.width,e.canvas.height),n.screenTexture=bn(e,e.LINEAR,i,e.canvas.width,e.canvas.height),n.lastScreenTexture=bn(e,e.LINEAR,i,e.canvas.width,e.canvas.height),n.tmpTexture=bn(e,e.LINEAR,i,e.canvas.width,e.canvas.height),t&&n.initializeParticles(e),n.WindowYsize=e.canvas.height,n.WindowXsize=e.canvas.width})),Wn(this,"renderInputData",(function(e,t,r){n.particleLayerActive&&!n.hasError&&(n.gl=e,n.takeScreenshot&&(n.makeMapScreenshot(e),n.dataLayerReady||(n.setupLayers(e),n.program instanceof WebGLProgram||n.setError(Error("WebGL error: ".concat(e.getError(),". Program: ").concat(JSON.stringify(n.program)))),e.useProgram(n.program),Sn(e,n.framebuffer,n.dataTextureTMP),r.forEach((function(t){t.texture&&(e.activeTexture(e.TEXTURE0),e.bindTexture(e.TEXTURE_2D,t.texture.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),Dn(e,n.quadBuffer,n.program.a_pos,2),"posMatrix"in t.tileID?e.uniformMatrix4fv(n.program.uMatrix,!1,t.tileID.posMatrix):e.uniformMatrix4fv(n.program.uMatrix,!1,t.tileID.projMatrix),e.uniform1i(n.program.uTexture,0),e.drawArrays(e.TRIANGLES,0,6))})),Sn(e,n.framebuffer,n.temperatureTexture),void 0!==n.dataTextureTMP?n.getTemperature(e,n.dataTextureTMP):console.log("dataTextureTMP undefined"),Sn(e,null,null),Sn(e,n.framebuffer,n.dataTexture),void 0!==n.dataTextureTMP?n.wind2uv(e,n.dataTextureTMP):console.log("dataTextureTMPuv undefined"),e.checkFramebufferStatus(e.FRAMEBUFFER)==e.FRAMEBUFFER_COMPLETE?(n.dataLayerReady=!0,n.getMinMax(e)):console.log("tile buffer not complete yet"),Sn(e,null,null))))})),Wn(this,"frameCnt",0),Wn(this,"renderAnimation",(function(){if(void 0!==n.gl){if(n.gl.disable(n.gl.DEPTH_TEST),n.computeMovement(n.gl),Sn(n.gl,n.framebuffer,n.screenTexture),n.gl.blendFunc(n.gl.SRC_ALPHA,n.gl.ONE_MINUS_SRC_ALPHA),0==n.colorScheme)n.firstImage||n.drawCleanTexture(n.gl,n.lastScreenTexture,.95),n.gl.enable(n.gl.BLEND),n.drawParticlesWhite(n.gl),Sn(n.gl,n.framebuffer,n.tmpTexture),n.gl.disable(n.gl.BLEND),n.drawTexture(n.gl,n.MapBackgroundTexture,1),n.gl.enable(n.gl.BLEND),n.gl.blendFuncSeparate(n.gl.ONE,n.gl.ONE_MINUS_SRC_COLOR,n.gl.SRC_COLOR,n.gl.ONE_MINUS_SRC_COLOR),n.firstImage||n.drawTextureAlpha(n.gl,n.lastScreenTexture,1),Sn(n.gl,null,null),n.gl.disable(n.gl.BLEND),n.frameCnt%2==1&&n.drawTexture(n.gl,n.tmpTexture,1),n.frameCnt+=1;else{n.firstImage||n.drawTexture(n.gl,n.lastScreenTexture,.97),n.gl.enable(n.gl.BLEND),n.drawParticles(n.gl),Sn(n.gl,null,null),n.gl.disable(n.gl.BLEND),n.drawTexture(n.gl,n.MapBackgroundTexture,1),n.gl.enable(n.gl.BLEND),n.gl.blendFunc(n.gl.SRC_COLOR,n.gl.SRC_ALPHA);var e=.85;n.mapZoomLevel<4&&(e-=.25*(1-n.mapZoomLevel/4)),n.firstImage||n.drawTexture(n.gl,n.lastScreenTexture,n.particleOpacity*e)}var t=n.lastScreenTexture;n.lastScreenTexture=n.screenTexture,n.screenTexture=t}})),Wn(this,"RenderCall",(function(e){n.particleLayerActive&&!n.hasError&&n.startAnimating(n.frameRate)})),Wn(this,"startAnimating",(function(e){n.fpsInterval=1e3/e,n.then=Date.now(),n.firstImage=!0,n.animate()})),Wn(this,"now",Date.now()),Wn(this,"elapsed",0),Wn(this,"animate",(function(){n.particleLayerActive&&!n.hasError&&(requestAnimationFrame(n.animate),n.now=Date.now(),n.elapsed=n.now-n.then,n.elapsed>n.fpsInterval&&(n.then=n.now-n.elapsed%n.fpsInterval,n.takeScreenshot&&!n.mapIsIdle||(n.renderAnimation(),n.firstImage=!1)))})),Wn(this,"wind2uv",(function(e,t){var r=n.programWind2uv;r instanceof WebGLProgram||n.setError(Error("WebGL error: ".concat(e.getError(),". Program: ").concat(JSON.stringify(r)))),e.useProgram(r),Dn(e,n.quadBuffer,r.a_pos,2),An(e,t,2),e.uniform1i(r.uTexture,2),e.drawArrays(e.TRIANGLES,0,6)})),Wn(this,"getTemperature",(function(e,t){var r=n.programGetTemperature;r instanceof WebGLProgram||n.setError(Error("WebGL error: ".concat(e.getError(),". Program: ").concat(JSON.stringify(r)))),e.useProgram(r),Dn(e,n.quadBuffer,r.a_pos,2),An(e,t,0),e.uniform1i(r.uTexture,0),e.drawArrays(e.TRIANGLES,0,6)})),Wn(this,"drawTexture",(function(e,t,r){n.programDrawTexture instanceof WebGLProgram||n.setError(Error("WebGL error: ".concat(e.getError(),". Program: ").concat(JSON.stringify(n.programDrawTexture)))),e.useProgram(n.programDrawTexture),Dn(e,n.quadBuffer,n.programDrawTexture.a_pos,2),An(e,t,0),e.uniform1i(n.programDrawTexture.uTexture,0),e.uniform1f(n.programDrawTexture.u_opacity,r),e.drawArrays(e.TRIANGLES,0,6)})),Wn(this,"drawTextureAlpha",(function(e,t,r){n.programDrawAlphaTexture instanceof WebGLProgram||n.setError(Error("WebGL error: ".concat(e.getError(),". Program: ").concat(JSON.stringify(n.programDrawAlphaTexture)))),e.useProgram(n.programDrawAlphaTexture),Dn(e,n.quadBuffer,n.programDrawAlphaTexture.a_pos,2),An(e,t,0),e.uniform1i(n.programDrawAlphaTexture.uTexture,0),e.uniform1f(n.programDrawAlphaTexture.u_opacity,r),e.drawArrays(e.TRIANGLES,0,6)})),Wn(this,"drawCleanTexture",(function(e,t,r){n.programCleanImage instanceof WebGLProgram||n.setError(Error("WebGL error: ".concat(e.getError(),". Program: ").concat(JSON.stringify(n.programCleanImage)))),e.useProgram(n.programCleanImage),Dn(e,n.quadBuffer,n.programCleanImage.a_pos,2),An(e,t,0),e.uniform1i(n.programCleanImage.uTexture,0),e.uniform1f(n.programCleanImage.u_opacity,r),e.drawArrays(e.TRIANGLES,0,6)})),Wn(this,"drawMergedImages",(function(e,t,r,i){var o=n.programImageMerge;o instanceof WebGLProgram||n.setError(Error("WebGL error: ".concat(e.getError(),". Program: ").concat(JSON.stringify(o)))),e.useProgram(o),Dn(e,n.quadBuffer,o.a_pos,2),An(e,t,0),e.uniform1i(o.uTexture,0),An(e,r,1),e.uniform1i(o.uTextureBackground,1),e.uniform1f(o.u_opacity,i),e.drawArrays(e.TRIANGLES,0,6)})),Wn(this,"initializeParticles",(function(e){var t=n.getScreenResolution(),r=n.map.getZoom(),i=3.5-r;i<1&&(i=1);var o=e.canvas.height*e.canvas.width/500*i*2.5/(t*t);n.particleSpeed=2e3/Math.sqrt(e.canvas.height*e.canvas.width)*t*.8*n.AnimationSpeed,n.particleSize=2.5*t,0==n.colorScheme&&(n.particleSize=.7*n.particleSize),o<3e3&&(o=3e3),t<1.1&&(n.particleSize=2,o*=.7);var a=(e.canvas.height/t+e.canvas.width/t)/2e3-.6;a<0&&(a=0),n.particleSize=n.particleSize+a,n.thicknessGrowth=1*a;var s=(1e3-(e.canvas.height/t+e.canvas.width/t)/2)/500;s<0&&(s=0),s>1&&(s=1),n.frameRate=n.minFrameRate+20*s;var u=.7+o/5e3*.3;if(u>1&&(u=1),r<4){var c=r/3;r<2&&(c=.8),r<1&&(c=.6),n.particleSpeed=n.particleSpeed*c}0==n.colorScheme&&(n.particleSize*=1.4),n.particleStateResolution=Math.ceil(Math.sqrt(o));var l=n.particleStateResolution;n._numParticles=l*l,n._randomParticleState=new Uint8Array(4*n._numParticles);for(var d=0;d<n._randomParticleState.length;d++)n._randomParticleState[d]=Math.floor(256*Math.random());for(var f=new Float32Array(2*n._numParticles),p=0;p<2*n._numParticles;p++)f[p]=p;void 0!==n.particleIndexBuffer&&e.deleteBuffer(n.particleIndexBuffer),n.particleIndexBuffer=wn(e,f),n._particleArrays=n.initializeParticleArrays(e)})),Wn(this,"initializeParticleArrays",(function(e){return void 0!==n._particleArrays.particleStateTexture0&&(e.deleteTexture(n._particleArrays.particleStateTexture0),e.deleteTexture(n._particleArrays.particleStateTexture1)),{particleStateTexture0:bn(e,e.NEAREST,n._randomParticleState,n.particleStateResolution,n.particleStateResolution),particleStateTexture1:bn(e,e.NEAREST,n._randomParticleState,n.particleStateResolution,n.particleStateResolution),updated:!1}})),Wn(this,"makeMapScreenshot",(function(e){if(n.map.loaded()){var t=new Uint8Array(e.drawingBufferWidth*e.drawingBufferHeight*4);e.readPixels(0,0,e.drawingBufferWidth,e.drawingBufferHeight,e.RGBA,e.UNSIGNED_BYTE,t),e.canvas.height==n.WindowYsize&&e.canvas.width==n.WindowXsize&&n.screenTextureXsize==n.WindowXsize&&n.screenTextureYsize==n.WindowYsize?void 0!==n.MapBackgroundTexture?xn(e,n.MapBackgroundTexture,t,e.canvas.width,e.canvas.height):n.MapBackgroundTexture=bn(e,e.NEAREST,t,e.canvas.width,e.canvas.height):(void 0!==n.MapBackgroundTexture&&e.deleteTexture(n.MapBackgroundTexture),n.MapBackgroundTexture=bn(e,e.NEAREST,t,e.canvas.width,e.canvas.height)),n.screenTextureXsize=e.drawingBufferWidth,n.screenTextureYsize=e.drawingBufferHeight;for(var r=!1,i=0,o=0;o<t.length-1;o+=1e3)i+=t[o];i>1&&(r=!0),r&&(n.takeScreenshot=!1,n.enable())}})),Wn(this,"getMap",(function(){n.takeScreenshot=!0})),Wn(this,"getMinMax",(function(e){if(e.checkFramebufferStatus(e.FRAMEBUFFER)==e.FRAMEBUFFER_COMPLETE){Sn(e,n.framebuffer,n.dataTextureTMP);var t=new Uint8Array(e.drawingBufferWidth*e.drawingBufferHeight*4);e.readPixels(0,0,e.drawingBufferWidth,e.drawingBufferHeight,e.RGBA,e.UNSIGNED_BYTE,t);for(var r=0,i=0;i<t.length-1;i+=16)r=Math.max(r,t[i]);Sn(e,null,null),n.wspeedMin=0,n.wspeedMax=r/255,n.wspeedMax<.3&&n.wspeedMax>.001?n.adaptiveParticleSpeed=.2*n.particleSpeed/n.wspeedMax:n.adaptiveParticleSpeed=n.particleSpeed}})),Wn(this,"debouncedRenderInputData",this.debounce(this.renderInputData,60,!1,!0)),Wn(this,"debouncedRender",this.debounce(this.RenderCall,60,!1,!1)),Wn(this,"debouncedgetMap",this.debounce(this.getMap,60,!1,!1)),Wn(this,"syncCount",0),Wn(this,"waitForMap",(function(e){if(console.log(n.mapIsIdle),n.mapIsIdle)return n.doShot(e),void n.disable();n.syncCount++,n.syncCount<500?setTimeout((function(){return n.waitForMap(e)}),10):console.error("Screenshoting did not work ")})),Wn(this,"loadScreenshotLogoImg",(function(){if(void 0!==n.screenshotLogoPath){var e=new Image;return e.src=n.screenshotLogoPath,new Promise((function(t){e.onload=function(){return t(e)},e.onerror=function(e){return console.error("Error while loading screenshot logo image:",e)}}))}return new Promise((function(e){return e(void 0)}))})),Wn(this,"triggerRepaint",(function(){n.mapIsIdle=!0,n.disable();var e=n.map.style._sourceCaches||n.map.style.sourceCaches,t="sourceFlow"in e?e.sourceFlow:e["other:sourceFlow"];t.clearTiles(),t.update(n.map.transform),n.map.triggerRepaint(),n.mapIsIdle=!1,n.enable(),n.debouncedgetMap()})),Wn(this,"removeCustomLayer",(function(){void 0!==n.map.getLayer(n.customLayer.id)&&n.map.removeLayer(n.customLayer.id)})),Wn(this,"addCustomLayer",(function(){void 0===n.map.getLayer(n.customLayer.id)&&n.map.addLayer(n.customLayer)})),Wn(this,"setError",(function(e){throw n.hasError=!0,n.onError&&n.onError(e),e})),this.map=t,this.customLayer=new Nn("animationLayer","sourceFlow",void 0,this.initialize,this.renderInputData,this.RenderCall),t.addLayer(this.customLayer),this.mapIsIdle=!1,this.map.on("move",(function(e){n.mapIsIdle=!1,n.dataLayerReady=!1,n.debouncedgetMap()})),this.map.on("resize",(function(e){n.mapIsIdle=!1,n.dataLayerReady=!1,n.debouncedgetMap()})),this.map.on("idle",(function(e){n.mapIsIdle=!0}))}var t,n;return t=e,n=[{key:"drawParticles",value:function(e){this.programDrawParticles instanceof WebGLProgram||this.setError(Error('WebGL error "'.concat(e.getError(),'". Program: ').concat(JSON.stringify(this.programDrawParticles)))),e.useProgram(this.programDrawParticles),Dn(e,this.particleIndexBuffer,this.programDrawParticles.a_index,1),e.uniform1f(this.programDrawParticles.u_particles_res,this.particleStateResolution),e.uniform1f(this.programDrawParticles.u_particle_size,this.particleSize),An(e,this._particleArrays.particleStateTexture0,0),e.uniform1i(this.programDrawParticles.u_texture,0),An(e,this.temperatureTexture,1),e.uniform1i(this.programDrawParticles.u_temp,1),e.uniform1i(this.programDrawParticles.u_colorScheme,this.colorScheme),e.uniform1f(this.programDrawParticles.u_speed,this.adaptiveParticleSpeed),e.uniform1f(this.programDrawParticles.u_thinc,this.thicknessGrowth),e.uniform2f(this.programDrawParticles.u_wind_res,e.canvas.width,e.canvas.height),e.drawArrays(e.POINTS,0,2*this._numParticles)}},{key:"drawParticlesWhite",value:function(e){this.programDrawParticlesW instanceof WebGLProgram||this.setError(Error('WebGL error "'.concat(e.getError(),'". Program: ').concat(JSON.stringify(this.programDrawParticlesW)))),e.useProgram(this.programDrawParticlesW),Dn(e,this.particleIndexBuffer,this.programDrawParticlesW.a_index,1),e.uniform1f(this.programDrawParticlesW.u_particles_res,this.particleStateResolution),e.uniform1f(this.programDrawParticlesW.u_particle_size,this.particleSize),An(e,this._particleArrays.particleStateTexture0,0),e.uniform1i(this.programDrawParticlesW.u_texture,0),An(e,this.dataTexture,1),e.uniform1i(this.programDrawParticlesW.u_temp,1),e.uniform1f(this.programDrawParticlesW.u_speed,this.adaptiveParticleSpeed),e.uniform1f(this.programDrawParticlesW.u_thinc,this.thicknessGrowth),e.uniform2f(this.programDrawParticlesW.u_wind_res,e.canvas.width,e.canvas.height),e.drawArrays(e.POINTS,0,2*this._numParticles)}},{key:"computeMovement",value:function(e){e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.disable(e.BLEND),Sn(e,this.framebuffer,this._particleArrays.particleStateTexture1),e.viewport(0,0,this.particleStateResolution,this.particleStateResolution);var t=this.programMoveParticles;t instanceof WebGLProgram||this.setError(Error("WebGL error: ".concat(e.getError(),". Program: ").concat(JSON.stringify(t)))),e.useProgram(t),An(e,this._particleArrays.particleStateTexture0,0),e.uniform1i(t.u_particles,0),An(e,this.dataTexture,1),e.uniform1i(t.u_wind,1),Dn(e,this.quadBuffer,t.a_pos,2),e.uniform2f(t.u_wind_res,e.canvas.width,e.canvas.height),e.uniform1f(t.u_rand_seed,Math.random()),e.uniform1f(t.u_speed,this.adaptiveParticleSpeed),e.uniform1f(t.u_drop_rate,this.dropRate),e.uniform1f(t.u_drop_rate_bump,this.dropRateBump),e.uniform1i(t.u_initialize,!this._particleArrays.updated),e.uniform1f(t.u_zoomlevel,this.mapZoomLevel),e.uniform1f(t.u_wsmax,this.wspeedMax),e.uniform1f(t.u_wsmin,this.wspeedMin),this._particleArrays.updated=!0,e.drawArrays(e.TRIANGLES,0,6),this.particleTMP=this._particleArrays.particleStateTexture0,this._particleArrays.particleStateTexture0=this._particleArrays.particleStateTexture1,this._particleArrays.particleStateTexture1=this.particleTMP,Sn(e,null,null),e.viewport(0,0,e.canvas.width,e.canvas.height)}},{key:"debounce",value:function(e,t,n,r){var i;return function(){var o=this,a=arguments,s=function(){i=null,n||e.apply(o,a),r&&e.apply(o,a)},u=n&&!i;clearTimeout(i),i=setTimeout(s,t),u&&e.apply(o,a)}}},{key:"getScreenResolution",value:function(){return window.devicePixelRatio?window.devicePixelRatio:1}},{key:"disable",value:function(){this.particleLayerActive=!1,void 0!==this.gl&&void 0!==this.MapBackgroundTexture&&this.drawTexture(this.gl,this.MapBackgroundTexture,1)}},{key:"enable",value:function(){this.particleLayerActive=!0,this.mapIsIdle=!1,this.dataLayerReady=!1,this.map.triggerRepaint()}},{key:"setColorScheme",value:function(e){this.colorScheme=e,void 0!==this.gl&&this.initializeParticles(this.gl)}},{key:"setOpacity",value:function(e){this.particleOpacity=e}},{key:"exportScreenshot",value:function(){this.syncCount=0;var e=this.particleLayerActive;void 0!==this.gl&&(e?this.doShot(e):(this.enable(),this.waitForMap(e)))}},{key:"doShot",value:function(e){var t=this;if(console.log("done waiting"),void 0!==this.gl){var n=this.gl;e?(this.gl.disable(this.gl.BLEND),this.drawMergedImages(this.gl,this.lastScreenTexture,this.MapBackgroundTexture,this.particleOpacity),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA),this.drawParticles(this.gl)):Sn(n,this.framebuffer,this.MapBackgroundTexture);var r=n.drawingBufferWidth*n.drawingBufferHeight*4,i=new Uint8Array(r);n.readPixels(0,0,n.drawingBufferWidth,n.drawingBufferHeight,n.RGBA,n.UNSIGNED_BYTE,i),Sn(n,null,null),e||this.disable();for(var o=new Uint8Array(r),a=n.drawingBufferWidth,s=n.drawingBufferHeight,u=0,c=0;c<s-1;c++)for(var l=0;l<a-1;l++)for(var d=0;d<4;d++)u=4*(c*a+l)+d,o[4*((s-c)*a+l)+d]=i[u];var f=document.createElement("canvas");f.width=n.drawingBufferWidth,f.height=n.drawingBufferHeight;var p=f.getContext("2d");if(null===p)return void console.error("Could not create 2D context for screenshot.");var h=p.createImageData(n.drawingBufferWidth,n.drawingBufferHeight);h.data.set(o),p.putImageData(h,0,0);var m=window.devicePixelRatio,v=this.map.getContainer().querySelector("#legend-canvas");if(null!==v){var g=s-v.height-5,y=this.map.getContainer().querySelector("#legend-header");null!==y&&null!==y.textContent&&(p.fillStyle="rgba(0,0,0,0.6)",p.fillRect(5,g-25*m,v.width,25*m),p.font="".concat(12*m,"px Arial"),p.fillStyle="white",p.textAlign="center",p.fillText(y.textContent,5+v.width/2,g-8*m)),p.drawImage(v,5,g)}var b="".concat(this.screenshotMapName," - ").concat(this.screenshotDate),A=15*m;p.font="".concat(A,"px Arial");var x=p.measureText(b).width;p.fillStyle="rgba(0,0,0,0.6)",p.fillRect(a-x-20,s-1.7*A,x+20,1.7*A),p.fillStyle="white",p.textAlign="left",p.fillText(b,a-x-10,s-8*m),this.loadScreenshotLogoImg().then((function(e){if(void 0!==e){var n=.12*a,r=e.height/e.width*n;p&&p.drawImage(e,a-n-.01*a,.01*s,n,r)}var i=f.toDataURL("image/jpeg",.9),o=t.screenshotMapName.replace(/ - /g,"_").replace(/( |\/)/g,"-")+"_"+t.screenshotDate.replace(/(-|:)/g,""),u=document.createElement("a");u.setAttribute("href",i),u.setAttribute("download",o),u.style.display="none",document.body.appendChild(u),u.click(),document.body.removeChild(u)}))}}},{key:"setScreenshotFileName",value:function(e,t){e&&(this.screenshotMapName=e),t&&(this.screenshotDate=t.replace("/","T"))}},{key:"setScreenshotLogoPath",value:function(e){this.screenshotLogoPath=e}}],n&&jn(t.prototype,n),e}(),Hn=zn,Vn=r(7912),Gn={};Gn.styleTagTransform=ot(),Gn.setAttributes=tt(),Gn.insert=Qe().bind(null,"head"),Gn.domAPI=Ke(),Gn.insertStyleElement=rt(),Ye()(Vn.Z,Gn);var Zn=Vn.Z&&Vn.Z.locals?Vn.Z.locals:void 0;function Xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qn=function e(t){var n=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Xn(this,"isSnackbarOpen",!0),Xn(this,"snackbarWrapper",bt("div",[Zn.snackbarWrapper,Zn.fadingIn,"mbHideTooltip"])),Xn(this,"actionButton",bt("div",Zn.actionButton)),Xn(this,"fadeDuration",300),Xn(this,"close",(function(){n.snackbarWrapper.classList.add(Zn.fadingOut),n.isSnackbarOpen=!1,setTimeout((function(){n.snackbarWrapper.remove()}),n.fadeDuration)})),Xn(this,"isOpen",(function(){return n.isSnackbarOpen})),Xn(this,"getActionButton",(function(){return n.actionButton})),this.container=t.container,t.offset&&(this.snackbarWrapper.style.bottom=t.offset+"px"),null!==this.container){this.container.appendChild(this.snackbarWrapper);var r=bt("div",Zn.content);if(r.innerHTML=t.content,this.snackbarWrapper.appendChild(r),this.actionButton.innerHTML=t.actionLabel?t.actionLabel:"Dismiss",this.snackbarWrapper.appendChild(this.actionButton),void 0!==t.onAction&&void 0!==t.actionLabel?this.actionButton.onclick=function(){void 0!==t.onAction&&t.onAction(),t.dismissable&&n.close()}:void 0!==t.dismissable&&t.dismissable?this.actionButton.onclick=this.close:this.actionButton.remove(),setTimeout((function(){n.snackbarWrapper.classList.remove(Zn.fadingIn)}),this.fadeDuration),0!==t.duration){var i=void 0===t.duration?2e3+200*t.content.length:t.duration+this.fadeDuration;setTimeout((function(){n.close()}),i)}}else console.error("Could not find container")},Yn=r(598),Jn={};Jn.styleTagTransform=ot(),Jn.setAttributes=tt(),Jn.insert=Qe().bind(null,"head"),Jn.domAPI=Ke(),Jn.insertStyleElement=rt(),Ye()(Yn.Z,Jn);var Kn=Yn.Z&&Yn.Z.locals?Yn.Z.locals:void 0;function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qn=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$n(this,"thirdPartyContentAreas",{top:bt("div",[Kn.thirdPartyContentArea,Kn.topArea]),aboveTimeSelection:bt("div",Kn.thirdPartyContentArea),main:bt("div",[Kn.thirdPartyContentArea,Kn.mainArea]),controls:bt("div",[Kn.thirdPartyContentArea]),aboveMenu:bt("div",[Kn.thirdPartyContentArea]),belowMenu:bt("div",[Kn.thirdPartyContentArea]),belowOptions:bt("div",[Kn.thirdPartyContentArea])}),$n(this,"add",(function(){n.content.top&&(n.thirdPartyContentAreas.top.appendChild(n.content.top),n.uiContainer.appendChild(n.thirdPartyContentAreas.top),n.setTopAreaTopOffset(),window.addEventListener("resize",n.setTopAreaTopOffset)),n.content.main&&(n.thirdPartyContentAreas.main.appendChild(n.content.main),n.uiContainer.appendChild(n.thirdPartyContentAreas.main),window.addEventListener("resize",(function(){n.updateMainContentAreaHeight()}))),n.content.aboveTimeSelection&&n.thirdPartyContentAreas.aboveTimeSelection.appendChild(n.content.aboveTimeSelection),n.content.aboveMenu&&(n.thirdPartyContentAreas.aboveMenu.appendChild(n.content.aboveMenu),n.uiContainer.appendChild(n.thirdPartyContentAreas.aboveMenu)),n.content.belowMenu&&(n.thirdPartyContentAreas.belowMenu.appendChild(n.content.belowMenu),n.uiContainer.appendChild(n.thirdPartyContentAreas.belowMenu)),n.content.belowOptions&&(n.thirdPartyContentAreas.belowOptions.appendChild(n.content.belowOptions),n.uiContainer.appendChild(n.thirdPartyContentAreas.belowOptions)),n.content.controls&&(n.thirdPartyContentAreas.controls.appendChild(n.content.controls),n.uiContainer.appendChild(n.thirdPartyContentAreas.controls))})),$n(this,"updateMainContentAreaHeight",(function(){var e=0===n.timeSelectionContainer.children.length?10:40,t=n.timeSelectionContainer.getBoundingClientRect().height+e+"px";n.thirdPartyContentAreas.main.style.bottom=t})),$n(this,"setMainAreaLeftOffset",(function(e){n.thirdPartyContentAreas.main.style.left=e})),$n(this,"removeMainAreaLeftOffset",(function(){n.thirdPartyContentAreas.main.style.removeProperty("left")})),$n(this,"setMainAreaRightOffset",(function(e){n.thirdPartyContentAreas.main.style.right=e})),$n(this,"removeMainAreaRightOffset",(function(){n.thirdPartyContentAreas.main.style.removeProperty("left")})),$n(this,"setTopAreaTopOffset",(function(){var e=n.thirdPartyContentAreas.top.getBoundingClientRect().height+30+"px";n.legendsContainer.style.top=e})),$n(this,"setAboveTimeSelectionOffset",(function(e){e.marginLeft&&(n.thirdPartyContentAreas.aboveTimeSelection.style.marginLeft=e.marginLeft),e.marginBottom&&(n.thirdPartyContentAreas.aboveTimeSelection.style.marginBottom=e.marginBottom)})),$n(this,"removeAboveTimeSelectionOffset",(function(){n.thirdPartyContentAreas.aboveTimeSelection.style.marginLeft="",n.thirdPartyContentAreas.aboveTimeSelection.style.marginBottom=""})),$n(this,"getAreas",(function(){return n.thirdPartyContentAreas})),this.uiContainer=t.uiContainer,this.content=t.content||{},this.timeSelectionContainer=t.timeSelectionContainer,this.legendsContainer=t.legendsContainer},er=(r(4553),r(1260)),tr={};tr.styleTagTransform=ot(),tr.setAttributes=tt(),tr.insert=Qe().bind(null,"head"),tr.domAPI=Ke(),tr.insertStyleElement=rt(),Ye()(er.Z,tr);var nr=er.Z&&er.Z.locals?er.Z.locals:void 0;function rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ir=function e(t,n,r,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),rr(this,"timeCategoryElements",[]),rr(this,"setDate",(function(e){var t=o.timeCategories.findIndex((function(t){return t.value===e}));-1!==t?o.setStep(t):console.error('No such time category with value "'.concat(e,'"'))})),rr(this,"destroy",(function(){window.removeEventListener("resize",o.onResize)})),rr(this,"setStep",(function(e){var t=o.currentIndex,n=o.timeCategories.length-1;if(o.currentIndex=e<0?n:e,o.currentIndex=e>n?0:o.currentIndex,o.currentIndex!==t){var r=o.timeCategories[o.currentIndex];o.onChange(r.value),o.timeCategoryElements.forEach((function(e){e.classList.remove(nr.active)}));var i=o.timeCategoryElements[o.currentIndex];i.classList.add(nr.active),i.scrollIntoView({behavior:"smooth",block:"nearest"})}})),this.container=t,this.timeCategories=n,this.current=i||n[0],this.onChange=r,this.container.innerText="",this.currentIndex=n.findIndex((function(e){return i&&e.name===i.name}))||0;var a=bt("div",nr.timeCategories);n.forEach((function(e,t){var n=bt("div",nr.timeCategory);n.innerText=e.name,e.name===o.current.name&&n.classList.add(nr.active),n.onclick=function(e){o.setStep(t)},o.timeCategoryElements.push(n),a.appendChild(n)}));var s=bt("div",nr.controls),u=bt("div",nr.next),c=bt("div",nr.prev);u.onclick=function(){o.setStep(o.currentIndex+1)},c.onclick=function(){o.setStep(o.currentIndex-1)},s.appendChild(c),s.appendChild(u);var l=bt("div",nr.wrapper);l.appendChild(a),l.appendChild(s),this.container.appendChild(l),this.onResize=function(){o.timeCategoryElements[o.currentIndex].scrollIntoView({block:"nearest"})},window.addEventListener("resize",this.onResize)};function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}r(3689),r(3112),r(4723),r(3123);var ar=function(e,t){var n=new Date(e),r=Math.trunc(t/36e5),i=t%36e5/36e5*60;return n.setUTCHours(n.getUTCHours()+r),n.setUTCMinutes(n.getUTCMinutes()+i),n.toISOString().substring(0,19)+(t>=0?"+":"-")+Math.abs(r).toString().padStart(2,"0")+":"+Math.abs(i).toString().padStart(2,"0")},sr=function(e){var t,n,r=e.match(/\d\d\d\d-\d\d-\d\dT\d\d:\d\d(?::\d\d)?([+-]\d\d:\d\d)/),i=null!==r&&void 0!==r.index?r[1]:"+00:00",o=new Date(null===r?e+i:e),a=i.substring(0,1),s=(t=i.substring(1).split(":"),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(t,n)||function(e,t){if(e){if("string"==typeof e)return or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?or(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=s[0],c=s[1];return{offset:(36e5*Number(u)+6e4*Number(c))*("+"===a?1:-1),timestamp:o.getTime()}},ur=function(e){var t=e.includes("+")||e.includes("-")||e.includes("Z")?e:e+"Z";return new Date(t).toISOString().substring(0,19)+"+00:00"},cr=function(e,t,n){var r,i;if(n){var o=null===(r=n.timesteps)||void 0===r||null===(i=r.find((function(t){return t.value===e})))||void 0===i?void 0:i.timestep;if(o){var a=sr(o).timestamp;return ar(a,1e3*t)}}},lr=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";if(-1!==t.indexOf("Y")&&(t=t.replace("Y",e.getUTCFullYear().toString())),-1!==t.indexOf("n")&&(t=t.replace("n",(e.getUTCMonth()+1).toString())),-1!==t.indexOf("j")&&(t=t.replace("j",e.getUTCDate().toString())),-1!==t.indexOf("m")&&(n=e.getUTCMonth()+1,t=t.replace("m",n<10?"0"+n:n.toString())),-1!==t.indexOf("d")&&(n=e.getUTCDate(),t=t.replace("d",n<10?"0"+n:n.toString())),-1!==t.indexOf("H")&&(n=e.getUTCHours(),t=t.replace("H",n<10?"0"+n:n.toString())),-1!==t.indexOf("i")&&(n=e.getUTCMinutes(),t=t.replace("i",n<10?"0"+n:n.toString())),-1!==t.indexOf("s")&&(n=e.getUTCSeconds(),t=t.replace("s",n<10?"0"+n:n.toString())),-1!==t.indexOf("l")){var i=mr(r,"long");t=t.replace("l",i[e.getUTCDay()])}if(-1!==t.indexOf("D")){var o=mr(r,"short");t=t.replace("D",o[e.getUTCDay()])}return t},dr=function(e,t){if(void 0===t)return e.current;var n=sr(t).timestamp,r=sr(e.first).timestamp,i=sr(e.last).timestamp;return n>r&&n<i?t:e.current},fr={Sun:new Date("2020-01-05"),Mon:new Date("2020-01-06"),Tue:new Date("2020-01-07"),Wed:new Date("2020-01-08"),Thu:new Date("2020-01-09"),Fri:new Date("2020-01-10"),Sat:new Date("2020-01-11")},pr=Object.keys(fr),hr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"short";return new Intl.DateTimeFormat(t,{weekday:n,timeZone:"UTC"}).format(fr[e])},mr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en-US",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"short";return pr.map((function(n){return hr(n,e,t)}))},vr=r(8078),gr={};gr.styleTagTransform=ot(),gr.setAttributes=tt(),gr.insert=Qe().bind(null,"head"),gr.domAPI=Ke(),gr.insertStyleElement=rt(),Ye()(vr.Z,gr);var yr=vr.Z&&vr.Z.locals?vr.Z.locals:void 0;function br(e){var t=this;this.container=e.container,this.dateFormat=void 0!==e.dateFormat?e.dateFormat:"m-d",this.timeZoneOffset=void 0!==e.timeZoneOffset?e.timeZoneOffset:0,this.timeZoneAbbreviation=void 0!==e.timeZoneAbbreviation?e.timeZoneAbbreviation:"",this.initialTime=e.initialTime+this.timeZoneOffset,this.now=void 0!==e.now?e.now-e.now%e.interval+e.interval+this.timeZoneOffset:this.initialTime,this.start=e.start,this.stop=e.stop,this.startDay=e.start-e.start%864e5,this.stopDay=e.stop-e.stop%864e5,this.stepWidth=void 0!==e.interval?e.interval:36e5,this.labelToday=e.labelToday,this.labelTomorrow=e.labelTomorrow,this.playSpeed=void 0!==e.playSpeed?e.playSpeed:1e3,this.timeChangeCallback=e.onChange,this.arrowKeysEnabled=void 0!==e.arrowKeysEnabled&&e.arrowKeysEnabled,this.language=void 0!==e.language?e.language:"en",this.visibleStartDay=this.startDay,this.visibleStopDay=this.stopDay,this.interval=null;var n='<div class="'.concat(yr.timeControl,'">\n        <div class="').concat(yr.timeSliderOuter,'">\n            <div id="timeProgress" class="').concat(yr.timeProgress,'">\n                <span id="timeHour" class="').concat(yr.timeHour,'"></span>\n            </div>\n            <div id="hoverProgress" class="').concat(yr.hoverProgress," ").concat(yr.hide,'">\n                <span id="hoverHour" class="').concat(yr.hoverHour,'"></span>\n            </div>\n            <div id="now" class="').concat(yr.now,'"></div>\n            <div id="timeSlider" class="').concat(yr.timeSlider,'"></div>\n        </div>\n        <div class="').concat(yr.timeElement,'" id="hour_backward">\n            <span class="').concat(yr.glyph," ").concat(yr.backward,'"></span>\n        </div>\n        <div class="').concat(yr.timeElement," ").concat(yr.last,'" id="hour_forward">\n            <span class="').concat(yr.glyph," ").concat(yr.forward,'"></span>\n        </div>\n    </div>');this.container.innerHTML=n;var r=this.container.querySelector("#timeSlider");this.hoverProgess=this.container.querySelector("#hoverProgress"),this.timeHour=this.container.querySelector("#timeHour"),this.timeHourText=document.createTextNode(""),this.timeHour.appendChild(this.timeHourText),this.timeProgress=this.container.querySelector("#timeProgress"),this.hoverHour=this.container.querySelector("#hoverHour"),this.hoverHourText=document.createTextNode(""),this.hoverHour.appendChild(this.hoverHourText),this.nowIndicator=this.container.querySelector("#now");var i=this.now-this.now%864e5,o=i+864e5;this.setTodayTomorrowTime(i,o),this.eventMoveBind=this.eventMouseMove.bind(this),r.addEventListener("mousemove",this.eventMoveBind,!1),r.addEventListener("mouseout",this.eventMouseOut.bind(this),!1),r.addEventListener("click",this.eventMouseClick.bind(this),!1),r.addEventListener("touchstart",this.eventMoveBind,!1),r.addEventListener("touchmove",this.eventMoveBind,!1),r.addEventListener("touchend",this.eventTimeBubbleMouseUp.bind(this),!1),this.timeSlider=r,this.timeSliderBoundingLeft=0,this.timeSliderBoundingRight=0,this.dragOffset=0,this.eventTimeBubbleMouseUpBind=this.eventTimeBubbleMouseUp.bind(this),this.timeHour.addEventListener("mousedown",this.eventTimeBubbleMouseDown.bind(this),!1),this.eventResize(),this.eventResizeBind=this.eventResize.bind(this),window.addEventListener("resize",this.eventResizeBind,!1),this.container.querySelector("#hour_backward").addEventListener("click",this.prev.bind(this),!1),this.container.querySelector("#hour_forward").addEventListener("click",this.next.bind(this),!1),document.addEventListener("keydown",(function(e){"ArrowRight"===e.code?t.next():"ArrowLeft"===e.code&&t.prev()})),this.generateStartStop(this.startDay,this.stopDay),this.setTime(this.initialTime,!1),this.setNowIndicator(),this.setNowIndicatorBind=this.setNowIndicator.bind(this),window.addEventListener("resize",this.setNowIndicatorBind,!1),this.adaptNumberOfDaysToWidth(),this.adaptNumberOfDaysToWidthBind=this.adaptNumberOfDaysToWidth.bind(this),window.addEventListener("resize",this.adaptNumberOfDaysToWidthBind,!1)}br.prototype.next=function(){this.setTime(this.time+this.stepWidth)},br.prototype.prev=function(){this.setTime(this.time-this.stepWidth)},br.prototype.setTodayTomorrowTime=function(e,t){this.timestampTomorrow=t,this.timestampToday=e},br.prototype.eventResize=function(){var e=this.timeSlider.getBoundingClientRect(),t=this.timeSliderBoundingRight-this.timeSliderBoundingLeft!=e.right-e.left;if(this.timeSliderBoundingLeft=e.left,this.timeSliderBoundingRight=e.right,t){var n=this.time;this.time=null,this.setTime(n,!1)}},br.prototype.generateStartStop=function(e,t){for(var n=this.timeSlider,r=this.timestampToday,i=this.timestampTomorrow,o=this.dateFormat;n.firstChild;)n.removeChild(n.firstChild);var a,s,u,c,l=document.createDocumentFragment();for(a=e;a<=t;a+=864e5)u=new Date(a),c=r===a&&void 0!==this.labelToday?this.labelToday:i===a&&void 0!==this.labelTomorrow?this.labelTomorrow:lr(u,o,this.language),(s=document.createElement("div")).appendChild(document.createTextNode(c)),s.className=yr.timeElement,s.datetime=a,l.appendChild(s);n.appendChild(l)},br.prototype.setTime=function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.timeSlider.children,i=r.length;if((e+=(this.stepWidth-(e-this.timeZoneOffset-this.start)%this.stepWidth)%this.stepWidth)<this.start+this.timeZoneOffset)this.setTime(this.start+this.timeZoneOffset);else if(e>this.stop+this.timeZoneOffset)this.setTime(this.stop+this.timeZoneOffset);else{var o=this.time;n&&this.time!==e&&this.timeChangeCallback(e-this.timeZoneOffset,this.timeZoneOffset,o,void 0),this.time=e,this.time>=this.visibleStopDay+864e5&&this.visibleStopDay<this.stopDay&&(this.visibleStartDay+=864e5,this.visibleStopDay+=864e5,this.generateStartStop(this.visibleStartDay,this.visibleStopDay)),this.time<=this.visibleStartDay&&this.visibleStartDay>this.startDay&&(this.visibleStartDay-=864e5,this.visibleStopDay-=864e5,this.generateStartStop(this.visibleStartDay,this.visibleStopDay)),this.visibleStopDay<this.stopDay?this.timeSlider.classList.add(yr.inidcateFutureSteps):this.timeSlider.classList.remove(yr.inidcateFutureSteps),this.visibleStartDay>this.startDay?this.timeSlider.classList.add(yr.inidcatePastSteps):this.timeSlider.classList.remove(yr.inidcatePastSteps);for(var a=0;a<i;++a)if((t=r[a]).datetime+864e5>e){var s=(e-t.datetime)/36e5;this.timeHourText.textContent=(s<10?"0":"")+s.toFixed(0)+":00"+" ".concat(this.timeZoneAbbreviation);var u=t.getBoundingClientRect().left+s/24*t.offsetWidth-this.timeSliderBoundingLeft;this.timeProgress.style.width=u.toFixed(1)+"px";break}}},br.prototype.setNowIndicator=function(){for(var e,t=this.timeSlider.children,n=t.length,r=0;r<n;++r)if((e=t[r]).datetime+864e5>this.now){var i=(this.now-e.datetime)/36e5,o=e.getBoundingClientRect().left+i/24*e.offsetWidth-this.timeSliderBoundingLeft;this.nowIndicator.style.width=o.toFixed(1)+"px";break}},br.prototype.eventTimeBubbleMouseDown=function(e){window.addEventListener("mouseup",this.eventTimeBubbleMouseUpBind,!1),window.addEventListener("mousemove",this.eventMoveBind,!1),this.windowEventListeners.push(this.eve),this.dragOffset=e.layerX-this.timeHour.offsetWidth/2,this.timeHour.classList.add(yr.hide),this.hoverProgess.classList.remove(yr.hide)},br.prototype.eventTimeBubbleMouseUp=function(e){window.removeEventListener("mouseup",this.eventTimeBubbleMouseUpBind,!1),window.removeEventListener("mousemove",this.eventMoveBind,!1),this.timeProgress.classList.add(yr.notransition),this.timeHour.classList.remove(yr.hide),this.hoverProgess.classList.add(yr.hide),this.eventMouseClick(e),this.timeProgress.classList.remove(yr.notransition),this.dragOffset=0},br.prototype.eventMouseClick=function(e){var t,n;e.preventDefault();var r=(e.changedTouches&&e.changedTouches.length>0?e.changedTouches[0].pageX:e.pageX)-this.dragOffset;r=Math.max(this.timeSliderBoundingLeft,Math.min(r,this.timeSliderBoundingRight-1));for(var i,o=this.timeSlider.children,a=o.length,s=0;s<a;++s)if((i=o[s]).getBoundingClientRect().left+i.offsetWidth>r){t=Math.floor((r-i.getBoundingClientRect().left)/i.offsetWidth*24),n=i.datetime,this.timeProgress.style.width=(r-this.timeSliderBoundingLeft).toFixed(1)+"px",this.timeHourText.textContent=(t<10?"0":"")+t.toFixed(0)+":00",this.setTime(n+36e5*t);break}this.timeHour.classList.remove(yr.hide),this.hoverProgess.classList.add(yr.hide)},br.prototype.eventMouseOut=function(e){this.hoverProgess.classList.add(yr.hide),this.container.querySelector("#timeHour").classList.remove(yr.hide)},br.prototype.eventMouseMove=function(e){this.timeHour.classList.add(yr.hide);for(var t,n,r=e.touches&&e.touches.length>0?e.touches[0].pageX:e.pageX,i=r-this.dragOffset,o=this.timeSlider.children,a=o.length,s=0;s<a;++s)if(t=o[s],r>this.timeSliderBoundingLeft&&t.getBoundingClientRect().left+t.offsetWidth>i){var u=this.hoverProgess;u.classList.remove(yr.hide),n=Math.floor((i-t.getBoundingClientRect().left)/t.offsetWidth*24);var c=new Date(this.start).getUTCHours(),l=new Date(this.stop).getUTCHours(),d=(this.visibleStopDay+864e5-this.visibleStartDay)/36e5/24;if(this.stopDay===this.visibleStopDay&&d-1===s&&n>=l){this.hoverHourText.textContent=(l<10?"0":"")+l+":00";var f=t.getBoundingClientRect().left-this.timeSliderBoundingLeft,p=t.clientWidth/24*l;u.style.width=(f+p).toFixed(1)+"px"}else if(this.startDay===this.visibleStartDay&&0===s&&n<c){this.hoverHourText.textContent=(c<10?"0":"")+c+":00";var h=t.getBoundingClientRect().left-this.timeSliderBoundingLeft,m=t.clientWidth/24*c;u.style.width=(h+m).toFixed(1)+"px"}else this.hoverHourText.textContent=(n<10?"0":"")+n+":00",u.style.width=(r-this.timeSliderBoundingLeft).toFixed(1)+"px";break}},br.prototype.togglePlay=function(){var e=this;null!==this.interval?(window.clearInterval(this.interval),this.interval=null):(this.setTime(this.time+36e5),this.interval=window.setInterval((function(){e.setTime(e.time+36e5)}),this.playSpeed))},br.prototype.adaptNumberOfDaysToWidth=function(){var e=864e5;if(this.container.scrollWidth>this.container.clientWidth)for(;this.container.scrollWidth>this.container.clientWidth&&!(this.visibleStopDay-this.startDay<2*e);)this.visibleStopDay-=e,this.generateStartStop(this.startDay,this.visibleStopDay);else for(;this.container.scrollWidth<=this.container.clientWidth&&!(this.visibleStopDay>=this.stopDay);)if(this.visibleStopDay+=e,this.generateStartStop(this.startDay,this.visibleStopDay),this.container.scrollWidth>this.container.clientWidth){this.visibleStopDay-=e,this.generateStartStop(this.startDay,this.visibleStopDay);break}this.eventResize(),this.setTime(this.time)},br.prototype.setDate=function(e){this.setTime(e+this.timeZoneOffset)},br.prototype.destroy=function(){window.removeEventListener("resize",this.eventResizeBind),window.removeEventListener("resize",this.setNowIndicatorBind),window.removeEventListener("resize",this.adaptNumberOfDaysToWidthBind),window.removeEventListener("resize",this.eventTimeBubbleMouseUpBind),window.removeEventListener("resize",this.eventMoveBind)};var Ar=br,xr=r(9348),wr={};wr.styleTagTransform=ot(),wr.setAttributes=tt(),wr.insert=Qe().bind(null,"head"),wr.domAPI=Ke(),wr.insertStyleElement=rt(),Ye()(xr.Z,wr);var Dr=xr.Z&&xr.Z.locals?xr.Z.locals:void 0;function Sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cr=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Sr(this,"wrapper",bt("div",Dr.wrapper)),Sr(this,"timeStepsContainer",bt("div",Dr.timeSteps)),Sr(this,"timeIndicator",bt("div",[Dr.timeStep,Dr.timeIndicator])),Sr(this,"timeSliderContainer",bt("div",Dr.timeSliderContainer)),Sr(this,"timeSlider",document.createElement("input")),Sr(this,"controlsContainer",bt("div",Dr.controls)),Sr(this,"rangesContainer",bt("div",Dr.timeRanges)),Sr(this,"timeStepElements",[]),Sr(this,"isPlaying",!1),Sr(this,"timeStepMultiplier",15),Sr(this,"setPlaying",(function(e){var t=n.controlsContainer.querySelector("."+Dr.stop);e?(n.timeStepsContainer.classList.add(Dr.playing),n.controlsContainer.classList.add(Dr.playing),n.rangesContainer.classList.add(Dr.playing),n.timeStepsContainer.remove(),n.timeIndicator.innerHTML=n.getCurrentDateFormatted(),n.wrapper.appendChild(n.timeSliderContainer),n.wrapper.appendChild(n.timeIndicator),t.classList.remove(Dr.hidden)):(n.timeStepsContainer.classList.remove(Dr.playing),n.controlsContainer.classList.remove(Dr.playing),n.rangesContainer.classList.remove(Dr.playing),n.timeSliderContainer.remove(),n.timeIndicator.remove(),n.wrapper.appendChild(n.timeStepsContainer),n.controlsContainer.classList.remove(Dr.scrubbingMode),t.classList.add(Dr.hidden)),n.isPlaying=e})),Sr(this,"getDate",(function(){var e=n.time.timesteps.find((function(e){return n.currentTimeStep===e.value}));return null==e?void 0:e.timestep})),Sr(this,"getRange",(function(){return n.currentRange})),Sr(this,"setDate",(function(e){var t=ur(e),r=n.time.timesteps.find((function(e){return e.timestep===t}));if(void 0===r)throw new Error("Invalid or unavailable date: ".concat(r));n.setStep(r.value,n.onChange)})),Sr(this,"getTimeStep",(function(){return n.currentTimeStep})),Sr(this,"setIndex",(function(e){n.timeSlider.value=e.toString();var t=Math.floor(e/n.timeStepMultiplier)*n.timeStepMultiplier,r=(n.currentRange?n.time.timesteps.length-n.currentRange.numsteps:0)+t/n.timeStepMultiplier,i=n.time.timesteps[r],o=sr(i.timestep).timestamp+6e4*(e-t)-6e4,a=new Date(o+n.timezoneOffset),s=lr(a,n.time.format);n.timeIndicator.innerHTML=s,r>=n.time.current?n.wrapper.classList.add(Dr.forecast):n.wrapper.classList.remove(Dr.forecast),e%n.timeStepMultiplier==0&&n.setStep(i.value)})),Sr(this,"setLoading",(function(e){n.timeSlider.disabled=e,n.controlsContainer.style.pointerEvents=e?"none":"initial"})),Sr(this,"createRangeSelection",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.rangesContainer;return e.forEach((function(e,r){var i=bt("div",Dr.timeRange);i.innerText=e.label,i.onclick=function(){if(!n.isPlaying){e.isRestricted&&!n.canUseRestricted?(n.onRestricted(!0),n.wrapper.classList.add(Dr.disabled)):(n.onRestricted(!1),n.wrapper.classList.remove(Dr.disabled));var r=n.currentTimeStep;n.createSteps(e.numsteps),n.currentRange=e,n.onRangeChange(e);var o=n.getCurrentDateElement(r);if(void 0!==o)n.highlightStep(o,!1);else{var a=n.timeStepElements[0].dataset.date;a&&n.setStep(a,n.onChange)}Array.from(t.children).map((function(e){e.classList.remove(Dr.active)})),i.classList.add(Dr.active),n.timeSlider.max=((e.numsteps-1)*n.timeStepMultiplier).toString();var s=n.time.timesteps.findIndex((function(e){return e.value===n.currentTimeStep}));n.timeSlider.value=(s*n.timeStepMultiplier).toString()||n.timeSlider.max,n.timeSlider.style.width="".concat(n.timeSlider.max,"px")}},0===r&&i.classList.add(Dr.active),t.appendChild(i)})),t})),Sr(this,"createTimeSlider",(function(){var e=(n.currentRange?n.currentRange.numsteps-1:n.time.timesteps.length-1)*n.timeStepMultiplier;n.timeSlider.classList.add(Dr.timeSlider),n.timeSlider.style.width="".concat(e,"px"),n.timeSlider.type="range",n.timeSlider.min="0",n.timeSlider.max=e.toString(),n.timeSlider.value=(e*n.timeStepMultiplier).toString(),n.timeSliderContainer.appendChild(n.timeSlider),n.timeSlider.addEventListener("mousedown",(function(e){n.onDragStart&&n.onDragStart()})),n.timeSlider.addEventListener("touchstart",(function(e){n.onDragStart&&n.onDragStart()})),n.timeSlider.addEventListener("mouseup",(function(e){n.onDragEnd&&n.onDragEnd(),n.enableScrubbingMode()})),n.timeSlider.addEventListener("touchend",(function(e){n.onDragEnd&&n.onDragEnd(),n.enableScrubbingMode()})),n.timeSlider.addEventListener("input",(function(e){if(null!==e.target){var t=parseInt(e.target.value,void 0);n.onChangeIndex(t)}}))})),Sr(this,"enableScrubbingMode",(function(){n.controlsContainer.classList.remove(Dr.playing),n.controlsContainer.classList.add(Dr.scrubbingMode),n.isPlaying=!1})),Sr(this,"createSteps",(function(e){e=e||n.time.timesteps.length,n.timeStepElements=[],n.timeStepsContainer.innerText="",n.time.timesteps.slice(n.time.timesteps.length-e).forEach((function(e){var t=bt("div",Dr.timeStep),r=sr(e.timestep).timestamp,i=new Date(r+n.timezoneOffset);t.innerText=lr(i,n.time.format),t.dataset.date=e.value,e.value===n.currentTimeStep&&t.classList.add(Dr.active),t.onclick=function(){n.isPlaying||n.setStep(e.value,n.onChange)},n.timeStepElements.push(t),n.timeStepsContainer.appendChild(t)}))})),Sr(this,"next",(function(){if(!n.isPlaying){var e=n.timeStepElements.findIndex((function(e){return e.dataset.date===n.currentTimeStep})),t=e>=n.timeStepElements.length-1?n.timeStepElements[0].dataset.date:n.timeStepElements[e+1].dataset.date;void 0!==t&&n.setStep(t,n.onChange)}})),Sr(this,"prev",(function(){if(!n.isPlaying){var e=n.timeStepElements.findIndex((function(e){return e.dataset.date===n.currentTimeStep})),t=e<=0?n.timeStepElements[n.timeStepElements.length-1].dataset.date:n.timeStepElements[e-1].dataset.date;void 0!==t&&n.setStep(t,n.onChange)}})),Sr(this,"togglePlay",(function(){n.isPlaying?(n.onStop(),n.isPlaying=!1,n.enableScrubbingMode()):(n.onPlay&&n.onPlay(),n.setPlaying(!0))})),Sr(this,"setStep",(function(e,t){var r=n.currentTimeStep,i=n.timeStepElements.findIndex((function(t){return t.dataset.date===e})),o=n.timeStepElements[i];if(void 0!==o){var a=o.dataset.date;void 0!==a&&e!==r&&(n.currentTimeStep=a,n.timeIndicator.innerHTML=n.getCurrentDateFormatted(),t&&t(e,null),n.highlightStep(o),n.timeSlider.value=(i*n.timeStepMultiplier).toString())}else console.error('No such time step with value "'.concat(e,'"'))})),Sr(this,"highlightStep",(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n.timeStepElements.forEach((function(e){e.classList.remove(Dr.active)})),e.classList.add(Dr.active),e.scrollIntoView({behavior:t?"smooth":"auto",block:"nearest"})})),Sr(this,"getCurrentDateElement",(function(e){return n.timeStepElements.find((function(t){return t.dataset.date===e}))})),Sr(this,"getCurrentDateFormatted",(function(){var e=n.time.timesteps.find((function(e){return e.value===n.currentTimeStep}))||n.time.timesteps[0],t=sr(e.timestep),r=new Date(t.timestamp+n.timezoneOffset);return lr(r,n.time.format)})),this.container=t.container,this.time=t.time,this.timezoneOffset=t.timezoneOffset,this.onChange=t.onChange,this.onChangeIndex=t.onChangeIndex,this.onPlay=t.onPlay,this.onStop=t.onStop,this.onRangeChange=t.onRangeChange,this.onDragStart=t.onDragStart,this.onDragEnd=t.onDragEnd,this.currentRange=this.time.ranges?this.time.ranges[0]:void 0,this.currentTimeStep=t.currentTimeStep.value,this.canUseRestricted=t.canUseRestricted,this.onRestricted=t.onRestricted,this.showTimeRanges=t.showTimeRanges,this.thirdPartyContentAreas=t.thirdPartyContentAreas,this.container.innerText="",this.showTimeRanges||(this.rangesContainer.style.display="None");var r=bt("div",Dr.thirdPartyContentAndRangesContainer);if(this.container.appendChild(r),this.time.ranges){var i=this.createRangeSelection(this.time.ranges);r.appendChild(i)}var o=this.thirdPartyContentAreas.getAreas().aboveTimeSelection;o&&r.appendChild(o),this.currentRange?this.createSteps(this.currentRange.numsteps):this.createSteps();var a=bt("div",Dr.prev);a.onclick=this.prev,this.controlsContainer.appendChild(a);var s=bt("div",Dr.next);if(s.onclick=this.next,this.controlsContainer.appendChild(s),this.onPlay){var u=bt("div",Dr.play);u.onclick=this.togglePlay,this.controlsContainer.appendChild(u);var c=bt("div",[Dr.stop,Dr.hidden]);c.onclick=function(){n.onStop(),n.setPlaying(!1)},this.controlsContainer.appendChild(c)}this.createTimeSlider(),this.wrapper.appendChild(this.timeStepsContainer),this.wrapper.appendChild(this.controlsContainer),this.container.appendChild(this.wrapper);var l=this.timeStepElements.find((function(e){return e.dataset.date===n.currentTimeStep}));this.timeStepsContainer.scrollLeft=0;var d=null==l?void 0:l.getBoundingClientRect(),f=d?d.left-d.width/2:this.timeStepsContainer.scrollWidth;this.timeStepsContainer.scrollLeft=f};function Tr(e){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(e)}function Er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}r(6210);var _r=function e(t){var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Er(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(Object.getOwnPropertyNames(t));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=t[i];t[i]=o&&"object"===Tr(o)?e(o):o}}catch(e){r.e(e)}finally{r.f()}return Object.freeze(t)},Lr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAABA9JREFUeJztwTEBAAAAwqD1T20Hb6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOA3AvAAAdln8YgAAAAASUVORK5CYII=",Pr=function(e){return void 0!==e.tiles&&e.tiles.filter((function(e){return e.includes("{timestamp}")||e.includes("{level}")})).length>0},Or=function(e,t){var n=t.domain,r=t.overlayDomains,i=t.level,o=t.timestamp,a=t.apiKey,s=t.lastUpdate,u="string"==typeof i?i:void 0!==i?i.id:void 0,c=n,l=u;return void 0!==e.tiles&&(e.tiles=e.tiles.map((function(e){if(void 0!==r){var t=r.find((function(e){return e.id===n}))||r[0];c=t.id;var i=t.levels.find((function(e){return e.id===u}))||t.levels[0];l=i.id}return void 0!==c&&(e=e.replace(/{domain}/g,c)),void 0!==l&&(e=e.replace(/{level}/g,l)),void 0!==o&&(e=e.replace(/{timestamp}/g,o)),void 0===a||e.includes("base64")||(e=(e=e.concat(e.includes("?")?"&":"?")).concat("apikey=".concat(a))),void 0===s||e.includes("base64")||(e=(e=e.concat(e.includes("?")?"&":"?")).concat("lastUpdate=".concat(encodeURIComponent(s)))),e}))),e},Fr=function(){var e=window.location.hash.match(/map=[^&]*/),t=null!==e?decodeURIComponent(e[0]).split("~"):null;return null!==t?{mapId:t[0].replace("map=",""),variantId:t[1],domainId:t[2],levelId:t[3],overlayIds:t[4].split(",")}:{}},Br=function(e,t){return new URLSearchParams(t).get(e)},Mr=r(1834),Ir={};Ir.styleTagTransform=ot(),Ir.setAttributes=tt(),Ir.insert=Qe().bind(null,"head"),Ir.domAPI=Ke(),Ir.insertStyleElement=rt(),Ye()(Mr.Z,Ir);var kr=Mr.Z&&Mr.Z.locals?Mr.Z.locals:void 0;function Rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ur(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ur(Object(n),!0).forEach((function(t){Hr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ur(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jr(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function Wr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){jr(o,r,i,a,s,"next",e)}function s(e){jr(o,r,i,a,s,"throw",e)}a(void 0)}))}}function zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vr=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Hr(this,"timeSelectionContainer",bt("div",[kr.timeSelectionContainer,"mbHideTooltip"])),Hr(this,"timeSelectionWrapper",bt("div",[kr.timeSelectionWrapper])),Hr(this,"legendsContainer",bt("div",["mbHideTooltip","legendsWrapper"])),Hr(this,"modalContainer",bt("div",kr.modalContainer)),Hr(this,"loadingTimer",0),Hr(this,"loadingTimerInterval",0),Hr(this,"autoplayStarted",!1),Hr(this,"isFlowAnimation",!1),Hr(this,"uiContainer",document.createElement("div")),Hr(this,"isLoaded",!1),Hr(this,"abortId",0),Hr(this,"getMenu",(function(){return r.menu})),Hr(this,"getDate",(function(){if(r.time&&"regular"===r.time.type)return void 0!==r.currentTime?ur(r.currentTime):void 0;if(r.time&&"categories"===r.time.type)return r.currentTimeCategory;if(r.time&&"timesteps"===r.time.type&&r.timeSelection){var e=r.timeSelection.getDate();return void 0!==e?ur(e):void 0}})),Hr(this,"getTimeInfo",(function(){return r.time})),Hr(this,"getInventory",(function(){return r.inventory})),Hr(this,"setDate",(function(e){return r.timeSelection&&"setDate"in r.timeSelection&&r.timeSelection.setDate(e)})),Hr(this,"enableTooltip",(function(){return r.dynamicLayers&&r.dynamicLayers.enableTooltip()})),Hr(this,"disableTooltip",(function(){return r.dynamicLayers&&r.dynamicLayers.disableTooltip()})),Hr(this,"getTooltipContent",(function(e){return r.dynamicLayers&&r.dynamicLayers.getTooltipContent(e)})),Hr(this,"enableTimeSelection",(function(){return r.timeSelectionContainer.classList.remove(kr.permanentlyHidden)})),Hr(this,"disableTimeSelection",(function(){return r.timeSelectionContainer.classList.add(kr.permanentlyHidden)})),Hr(this,"initUi",(function(){var e=r.mapboxMap.getContainer();r.timeSelectionWrapper.appendChild(r.timeSelectionContainer),r.timeSelectionWrapper.id="timeSelectionWrapper",e.appendChild(r.uiContainer),r.uiContainer.classList.add(kr.maps),r.uiContainer.appendChild(r.timeSelectionWrapper),r.uiContainer.appendChild(r.legendsContainer),"rtl"===r.direction&&r.uiContainer.classList.add("mb-rtl"),r.modalContainer.classList.add("mb-modalContainer"),e.appendChild(r.modalContainer),e.appendChild(r.modalContainer),e.clientWidth<800&&(e.classList.add("mb-phone"),r.showSidebar&&r.timeSelectionWrapper.classList.add(kr.hidden)),window.addEventListener("resize",(function(){e.clientWidth<800?e.classList.add("mb-phone"):e.classList.remove("mb-phone")})),r.thirdPartyContentAreas.add(),r.showSidebar||r.thirdPartyContentAreas.setMainAreaRightOffset("20px"),gt(r.inventoryUrl).then((function(e){r.inventory=_r(e),r.createMenu(r.inventory)}))})),Hr(this,"openModal",(function(e){if(void 0!==e.content)return new vn(e,r.modalContainer);console.error("Cannot create modal dialogue without content.")})),Hr(this,"onMenuChange",(function(e,t,n,i,o,a){var s,u,c,l,d,f=Math.random();if(r.abortId=f,r.hash){var p=function(e,t,n,r,i){var o=void 0!==i&&i.length>0?i.map((function(e){return e.id})):"none";return"map="+encodeURIComponent("".concat(e.id,"~").concat(t.id,"~").concat(n,"~").concat(r,"~").concat(o))}(e,t,n,i,o);s=p,u=null!==(d=window.location.hash.match(/map=[^&]*/))?d[0]:void 0,c=window.location.href.includes("#"),l=void 0===u?window.location.href+(c?"&":"#")+s:window.location.href.replace(u,s),history.replaceState(window.history.state,"",l)}r.sourceFlow=void 0;var h=function(e){var t,n={tiles:[Lr],type:"raster",name:"sourceFlow",maxzoom:6,minzoom:0,tileSize:512};return void 0===e||void 0===e.overlays?n:(e.overlays.forEach((function(e){var n=function(e){var t=e.sources.filter((function(e){return"sourceFlow"===e.name}))[0];return void 0===t?t:JSON.parse(JSON.stringify(t))}(e);void 0!==n&&(t=n)})),t||n)}(r.inventory);r.particleLayer&&(r.particleLayer.disable(),r.particleLayer.removeCustomLayer()),r.animationLayer&&(r.animationLayer.disable(),r.animationLayer.setTileUrl("".concat(t.sources[0].tiles[0],"?apikey=").concat(r.apiKey))),r.dynamicLayers&&r.dynamicLayers.destroy();var m="".concat(e.baseStyle).concat(e.baseStyle.includes("?")?"&":"?","apikey=").concat(r.apiKey);if(r.mapboxMap.setStyle(m,{diff:!0}),r.legend&&r.legend.destroy(),"legend"in t&&r.showLegend?(r.legend=new Bt(r.legendsContainer,t.legend,r.onUnitChange,r.inventory?r.inventory.colorTables:void 0,r.inventory&&r.inventory.units?r.inventory.units:void 0,r.units?r.units:void 0,r.unitSelector),r.thirdPartyContentAreas.removeMainAreaLeftOffset()):r.thirdPartyContentAreas.setMainAreaLeftOffset("20px"),!("time"in t)||null===t.time)return void 0!==r.menu&&r.menu.disableOverlaySelection(),r.removeTimeSelection(),void r.thirdPartyContentAreas.updateMainContentAreaHeight();r.showRestrictedNotice(!!e.isRestricted&&!r.canUseRestricted),r.mapboxMap.once("idle",Wr(regeneratorRuntime.mark((function s(){var u,c,l,d,p,m,v,g,y,b,A,x,w,D,S,C,T;return regeneratorRuntime.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(r.abortId===f){s.next=2;break}return s.abrupt("return");case 2:if(c="auto"===n?e.domains[0].domains[0].id:n,void 0!==(l="historic"in t?Nr({},t.historic):void 0)&&(r.historyStartDate&&r.historyStartDate>=l.start&&r.historyStartDate<=l.end?l.start=r.historyStartDate:r.historyStartDate=l.start),s.t0=a,s.t0){s.next=10;break}return s.next=9,yt(t.time,r.apiKey,c,l);case 9:s.t0=s.sent;case 10:r.time=s.t0,r.time.current||(r.time.current=r.time.first),void 0!==r.time.utcOffsetInSeconds&&(r.timezoneOffsetInSeconds=r.time.utcOffsetInSeconds),r.animationLayer&&"timesteps"===r.time.type&&r.animationLayer.setTimes(r.time),void 0!==r.inventory&&r.inventory.overlays.filter((function(e){return!(e.sources.filter(Pr).length>0||e.selectable)})).filter((function(e){return e.domains.reduce((function(e,t){return[].concat(function(e){if(Array.isArray(e))return Rr(e)}(n=e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return Rr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rr(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t.id]);var n}),[]).includes(c)})).forEach((function(e){e.sources.forEach((function(t){var n=JSON.parse(JSON.stringify(t));Or(n,{domain:c,overlayDomains:e.domains,apiKey:r.apiKey}),r.mapboxMap.addSource(n.name,n)})),e.layers.forEach((function(e){r.mapboxMap.addLayer(e,e.addLayerBefore)}))})),void 0!==t.images&&(null===(u=t.images)||void 0===u?void 0:u.length)>0&&(null===(d=t.images)||void 0===d||d.forEach((function(e){r.mapboxMap.loadImage(e.url,(function(t,n){if(t)throw t;r.mapboxMap.hasImage(e.name)||r.mapboxMap.addImage(e.name,n,e.parameters)}))}))),"regular"===r.time.type&&(r.currentTime=dr(r.time,r.currentTime)),"categories"===r.time.type&&(r.currentTimeCategory=r.time.categories.find((function(e){return!!r.currentTimeCategory&&e.value===r.currentTimeCategory.value}))||r.time.categories[0]),p=function(){if("regular"===r.time.type)return r.currentTime||r.time.current;if("categories"===r.time.type)return r.currentTimeCategory?r.currentTimeCategory.value:r.time.categories[0].value;var e="number"==typeof r.time.current?r.time.current:r.time.timesteps.length-1;return r.time.timesteps[e].value}(),m=sr(p),v=m.timestamp,g="regular"===r.time.type?ar(v,1e3*r.timezoneOffsetInSeconds):"categories"===r.time.type?r.currentTimeCategory?r.currentTimeCategory.value:r.time.categories[0].value:p,y=JSON.parse(JSON.stringify(t.sources)),b=y.filter((function(e){return"sourceFlow"!==e.name})).map((function(e){return Or(e,{domain:c,level:i,apiKey:r.apiKey,lastUpdate:r.time?r.time.lastUpdate:void 0})})),A=t.layers,void 0!==o&&o.length>0&&o.filter((function(e){return!t.defaultOverlays||!t.defaultOverlays.includes(e.id)})).filter((function(e){return"windAnimationOverlay"!==e.id})).forEach((function(e){var t=JSON.parse(JSON.stringify(e.sources));(t=t.map((function(t){return Or(t,{domain:c,overlayDomains:e.domains,level:i,apiKey:r.apiKey,lastUpdate:r.time?r.time.lastUpdate:void 0})}))).forEach((function(e){e.isOverlay=!0})),b=b.concat(t),A=A.concat(e.layers)})),void 0!==r.menu&&r.menu.setDefaultOverlays([]),void 0!==t.defaultOverlays&&t.defaultOverlays.length>0&&r.inventory&&(r.inventory.overlays.filter((function(e){return t.defaultOverlays&&t.defaultOverlays.includes(e.id)})).filter((function(e){return"windAnimationOverlay"!==e.id})).forEach((function(e){var t=JSON.parse(JSON.stringify(e.sources));(t=t.map((function(t){return Or(t,{domain:c,overlayDomains:e.domains,level:i,apiKey:r.apiKey,lastUpdate:r.time?r.time.lastUpdate:void 0})}))).forEach((function(e){e.isOverlay=!0})),b=b.concat(t),A=A.concat(e.layers)})),void 0!==r.menu&&r.menu.setDefaultOverlays(t.defaultOverlays)),r.dynamicLayers=new vt({colorTables:r.inventory.colorTables,domain:c,initialDate:g,layers:A,level:i,mapboxMap:r.mapboxMap,onLoading:r.setLoading,sources:b,timeDefinition:r.time}),e.isRestricted&&!r.canUseRestricted?(r.removeTimeSelection(),r.thirdPartyContentAreas.updateMainContentAreaHeight()):(r.initTimeSlider(r.time),r.thirdPartyContentAreas.updateMainContentAreaHeight()),r.isFlowAnimation=!(!o||!o.find((function(e){return"windAnimationOverlay"===e.id})))||void 0!==t.defaultOverlays&&t.defaultOverlays.includes("windAnimationOverlay"),r.isFlowAnimation||(r.particleLayer&&r.particleLayer.disable(),h&&h.tiles&&(h.tiles[0]=Lr)),r.sourceFlow=JSON.parse(JSON.stringify(h)),x=r.inventory&&r.inventory.overlays.find((function(e){return"windAnimationOverlay"===e.id})),r.isFlowAnimation&&void 0!==h&&(h=Or(h,{domain:c,overlayDomains:x?x.domains:void 0,timestamp:g.replace("/","T"),level:r.menu&&r.menu.getLevel(),apiKey:r.apiKey,lastUpdate:r.time.lastUpdate})),void 0===r.mapboxMap.getSource("sourceFlow")&&void 0!==h&&r.mapboxMap.addSource(h.name,h),r.isFlowAnimation&&void 0!==h&&(r.mapboxMap.getSource("sourceFlow").tiles=Or(h,{domain:c,overlayDomains:x?x.domains:void 0,timestamp:g.replace("/","T"),level:r.menu&&r.menu.getLevel(),apiKey:r.apiKey,lastUpdate:r.time.lastUpdate}).tiles,r.particleLayer&&r.particleLayer.triggerRepaint()),w=r.menu&&r.menu.getDomain().levels[0]&&i===r.menu.getDomain().levels[0].id&&"coldwarm"===t.id,void 0===r.particleLayer&&void 0!==h&&(r.particleLayer=new Hn(r.mapboxMap),r.particleLayer.setColorScheme(w?1:0),r.particleLayer.particleOpacity=1,r.particleLayer.particleLayerActive=!1,r.particleLayer.onError=function(e){return new qn({container:r.modalContainer,content:"Cannot display wind animation: ".concat(e.message.slice(0,100)),dismissable:!0})}),r.particleLayer&&(r.particleLayer.addCustomLayer(),S="".concat(e.name)+(t.name?" ".concat(t.name):"")+("none"!==i&&r.menu?" - ".concat(r.menu.getLevel().name):"")+("none"!==n&&r.menu?" - ".concat(r.menu.getDomain().name):""),C="timesteps"===(null===(D=r.time)||void 0===D?void 0:D.type)?cr(g,r.timezoneOffsetInSeconds,r.time):g,r.particleLayer.setScreenshotFileName(S,"".concat(C)),r.isFlowAnimation&&(r.particleLayer.setColorScheme(w?1:0),r.particleLayer.enable())),null===r.initialMaxBounds&&(T=t.sources[0].bounds,r.mapboxMap.setMaxBounds(T)),r.isLoaded||r.mapboxMap.once("idle",(function(){r.fireEvent("load",{}),r.isLoaded=!0})),void 0===a&&r.fireEvent("menuchange",{map:r.menu&&r.menu.getMap(),variant:r.menu&&r.menu.getVariant(),domain:r.menu&&r.menu.getDomain(),level:r.menu&&r.menu.getLevel(),overlays:r.menu&&r.menu.getOverlays()});case 42:case"end":return s.stop()}}),s)}))))})),Hr(this,"initTimeSlider",(function(e){var t,n;if(r.removeTimeSelection(),"regular"===e.type)r.thirdPartyContentAreas.content.aboveTimeSelection&&(r.uiContainer.clientWidth<800?r.thirdPartyContentAreas.setAboveTimeSelectionOffset({marginLeft:"35px",marginBottom:"25px"}):r.thirdPartyContentAreas.setAboveTimeSelectionOffset({marginBottom:"27px"})),r.timeSelection=new Ar({container:r.timeSelectionContainer,dateFormat:"D j",initialTime:sr(r.currentTime||e.current).timestamp,interval:1e3*e.interval,now:Date.now(),onChange:r.onTimesliderChange,playSpeed:1e3,start:sr(e.first).timestamp,stop:sr(e.last).timestamp,timeZoneAbbreviation:r.timezoneAbbrev,timeZoneOffset:1e3*r.timezoneOffsetInSeconds,arrowKeys:r.arrowKeysEnabled,language:r.language});else if("categories"===e.type)r.thirdPartyContentAreas.content.aboveTimeSelection&&(r.uiContainer.clientWidth<800?r.thirdPartyContentAreas.setAboveTimeSelectionOffset({marginLeft:"35px",marginBottom:"-10px"}):r.thirdPartyContentAreas.setAboveTimeSelectionOffset({marginBottom:"0px"})),r.timeSelection=new ir(r.timeSelectionContainer,e.categories,r.onTimeChange,r.currentTimeCategory);else if("timesteps"===e.type){var i;r.thirdPartyContentAreas.content.aboveTimeSelection&&(r.uiContainer.clientWidth<800?r.thirdPartyContentAreas.setAboveTimeSelectionOffset({marginLeft:null!==(i=r.menu)&&void 0!==i&&i.getVariant().id.includes("radar")?"75px":"0px",marginBottom:"0px"}):r.thirdPartyContentAreas.setAboveTimeSelectionOffset({marginBottom:"0px"}));var o=r.menu&&("sat"===r.menu.getVariant().id||r.menu.getVariant().id.includes("radarMap")),a="number"==typeof e.current?e.current:e.timesteps.length-1,s=e.timesteps[a];r.timeSelection=new Cr({container:r.timeSelectionContainer,time:e,timezoneOffset:1e3*r.timezoneOffsetInSeconds,currentTimeStep:s,canUseRestricted:r.canUseRestricted,onRestricted:r.showRestrictedNotice,showTimeRanges:r.showTimeRanges,thirdPartyContentAreas:r.thirdPartyContentAreas,onChange:function(e){r.onTimeChange(e)},onChangeIndex:function(e){r.animationLayer&&r.animationLayer.showImage(e)},onPlay:o?function(){void 0!==r.time&&"timesteps"in r.time&&(void 0===r.animationLayer&&r.initAnimationLayer(r.time),r.animationLayer&&r.animationLayer.enable())}:void 0,onStop:function(){r.animationLayer&&r.animationLayer.disable()},onRangeChange:function(e){r.animationLayer&&r.animationLayer.setRange(e.numsteps)},onDragStart:function(){r.animationLayer&&r.animationLayer.disable()}}),r.autoplay&&o&&(r.initAnimationLayer(e),r.animationLayer&&r.animationLayer.enable())}r.showTimeSelection||(r.timeSelectionContainer.innerHTML=""),null!==(t=r.menu)&&void 0!==t&&t.getVariant()&&"historic"in(null===(n=r.menu)||void 0===n?void 0:n.getVariant())&&(r.initCalendar(),"eventResize"in r.timeSelection&&r.timeSelection.eventResize())})),Hr(this,"initCalendar",(function(){var e,t,n,i,o,a,s=bt("div",kr.calendarContainer);r.timeSelectionContainer.append(s),r.dateInput||(r.dateInput=document.createElement("input")),r.dateInput.type="date",r.dateInput.classList.add(kr.dateInput);var u=r.historyStartDate;u&&(r.dateInput.value=u);var c=null===(e=r.menu)||void 0===e||null===(t=e.getVariant())||void 0===t||null===(n=t.historic)||void 0===n?void 0:n.start;c&&(r.dateInput.min=c);var l=null===(i=r.menu)||void 0===i||null===(o=i.getVariant())||void 0===o||null===(a=o.historic)||void 0===a?void 0:a.end;l&&(r.dateInput.max=l),s.append(r.dateInput);var d=document.createElement("button");d.innerText="Go",s.append(d),d.addEventListener("click",Wr(regeneratorRuntime.mark((function e(){var t,n,i,o,a,s,u,c,l,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.menu){e.next=2;break}return e.abrupt("return");case 2:if(s=null===(t=r.dateInput)||void 0===t?void 0:t.value){e.next=5;break}return e.abrupt("return");case 5:return r.historyStartDate=s,u=null===(n=r.menu)||void 0===n?void 0:n.getVariant(),c=u.time,l=null===(i=r.menu)||void 0===i?void 0:i.getDomain().id,d={start:s,end:null===(o=u.historic)||void 0===o?void 0:o.end,resolution:null===(a=u.historic)||void 0===a?void 0:a.resolution},e.next=12,yt(c,r.apiKey,l,d);case 12:f=e.sent,r.setTimeInfo(f);case 14:case"end":return e.stop()}}),e)}))))})),Hr(this,"initAnimationLayer",(function(e){var t=e.timesteps.map((function(e){return e.value}));r.animationLayer=new Rn({map:r.mapboxMap,steps:t,tileUrl:"".concat(r.menu.getVariant().sources[0].tiles[0],"?apikey=").concat(r.apiKey),range:r.timeSelection.getRange()?r.timeSelection.getRange().numsteps:t.length,apiKey:r.apiKey,onStepChange:function(e){"setIndex"in r.timeSelection&&r.timeSelection.setIndex(e)},onDisable:function(){"setPlaying"in r.timeSelection&&r.timeSelection.setPlaying(!1),r.dynamicLayers&&r.timeSelection&&r.dynamicLayers.setDate(r.timeSelection.getTimeStep())},onLoading:function(e){r.setLoading(e),r.timeSelection.setLoading("START"===e),r.autoplay&&!r.autoplayStarted&&(r.autoplayStarted=!0,r.timeSelection.setPlaying(!0))}})})),Hr(this,"removeTimeSelection",(function(){r.timeSelection&&"destroy"in r.timeSelection&&r.timeSelection.destroy(),r.timeSelectionContainer.innerText=""})),Hr(this,"setLoading",(function(e){"START"===e?(r.loadingSpinner.show(),r.showLoadingTime&&(window.clearInterval(r.loadingTimerInterval),r.loadingSpinner.setInfo("0.0"),r.loadingTimerInterval=window.setInterval((function(){r.loadingTimer+=.1,r.loadingSpinner.setInfo(r.loadingTimer.toFixed(1))}),100)),r.particleLayer&&r.isFlowAnimation&&r.particleLayer.disable()):(r.loadingSpinner.remove(),r.showLoadingTime&&(r.loadingTimer=0,window.clearInterval(r.loadingTimerInterval)),r.particleLayer&&r.isFlowAnimation&&r.particleLayer.enable())})),Hr(this,"onMenuToggle",(function(e){e?(r.timeSelectionWrapper.classList.add(kr.fullWidth),r.thirdPartyContentAreas.setMainAreaRightOffset("20px"),r.timeSelectionWrapper.classList.remove(kr.hidden)):r.timeSelectionWrapper.classList.contains(kr.fullWidth)&&(r.timeSelectionWrapper.getBoundingClientRect().width>500?(r.timeSelectionWrapper.classList.remove(kr.fullWidth),r.thirdPartyContentAreas.setMainAreaRightOffset("220px")):r.timeSelectionWrapper.classList.add(kr.hidden)),setTimeout((function(){void 0!==r.timeSelection&&"adaptNumberOfDaysToWidth"in r.timeSelection&&r.timeSelection.adaptNumberOfDaysToWidth()}),500),setTimeout(r.thirdPartyContentAreas.updateMainContentAreaHeight,500)})),Hr(this,"onTimesliderChange",(function(e,t){r.currentTime=ar(e,t),r.time&&r.time.interval,void 0!==r.dynamicLayers&&r.dynamicLayers.setDate(r.currentTime),r.updateFlowMovieTime(r.currentTime),r.particleLayer&&r.particleLayer.setScreenshotFileName(void 0,r.currentTime),r.fireEvent("datechange",{date:r.currentTime})})),Hr(this,"onTimeChange",(function(e){if(void 0!==r.dynamicLayers&&r.dynamicLayers.setDate(e),r.time&&"categories"===r.time.type&&(r.currentTimeCategory=r.time.categories.find((function(t){return t.value===e}))||r.time.categories[0]),r.updateFlowMovieTime(e),r.particleLayer){var t=cr(e,r.timezoneOffsetInSeconds,r.time);r.particleLayer.setScreenshotFileName(void 0,t)}r.fireEvent("datechange",{date:e})})),Hr(this,"updateFlowMovieTime",(function(e){if(r.particleLayer&&r.isFlowAnimation){var t=r.mapboxMap.getSource("sourceFlow"),n=e.replace("/","T");if(void 0!==t&&void 0!==t.tiles&&r.sourceFlow&&void 0!==r.sourceFlow.tiles&&void 0!==r.menu&&void 0!==e){t.tiles=r.sourceFlow.tiles;var i=r.inventory&&r.inventory.overlays.find((function(e){return"windAnimationOverlay"===e.id}));Or(t,{domain:r.menu.getDomain().id,overlayDomains:i?i.domains:void 0,timestamp:n,level:r.menu.getLevel(),apiKey:r.apiKey,lastUpdate:r.time?r.time.lastUpdate:void 0})}r.mapboxMap.once("idle",(function(){setTimeout((function(){r.particleLayer&&r.particleLayer.triggerRepaint()}),10)}))}})),Hr(this,"onUnitChange",(function(e,t){r.abortId=0,r.units[e]=t,r.menu&&r.menu.destroy(),r.dynamicLayers&&r.dynamicLayers.destroy();var n=new URL(r.inventoryUrl);n.searchParams.set("temperatureUnit",r.units.temperature),n.searchParams.set("velocityUnit",r.units.velocity),n.searchParams.set("lengthUnit",r.units.length),n.searchParams.set("energyUnit",r.units.energy);var i=n.toString().replace(/%2C/g,",");gt(i).then((function(e){r.defaults=Nr(Nr({},r.defaults),Fr()),r.inventory=e,r.createMenu(e)})),r.fireEvent("unitchange",{unit:t,unitType:e})})),Hr(this,"onScreenshot",(function(e){return r.mapboxMap.panBy([0,.1]),void 0!==r.particleLayer&&(void 0!==e&&r.particleLayer.setScreenshotLogoPath(e),r.particleLayer.exportScreenshot()),!1})),Hr(this,"createMenu",(function(e){r.menu=new ln({container:r.uiContainer,defaultValues:r.defaults,inventory:e,mapboxMap:r.mapboxMap,onChange:r.onMenuChange,onToggle:r.onMenuToggle,onScreenshot:function(){return r.onScreenshot(r.screenshotLogoPath)},controls:r.controls,customMenuEntries:r.customMenuEntries,thirdPartyContentAreas:r.thirdPartyContentAreas.getAreas(),show:r.showSidebar,onOpenModal:r.openModal,searchBarOptions:r.searchBarOptions})})),Hr(this,"showRestrictedNotice",(function(e){r.restrictedMessageSnackbar&&r.restrictedMessageSnackbar.close(),r.restrictedMessageSnackbar=void 0,e&&(r.restrictedMessageSnackbar=new qn({container:r.modalContainer,content:r.restrictedNotice.content,actionLabel:r.restrictedNotice.actionLabel,onAction:r.restrictedNotice.action,duration:0,dismissable:!1,offset:120}))})),this.mapboxMap=t.mapboxMap,this.inventoryUrl=t.inventory,this.controls=t.controls,this.arrowKeysEnabled=t.arrowKeys,this.timezoneOffsetInSeconds=t.timezoneOffsetInSeconds,this.timezoneAbbrev=t.timezoneAbbreviation,this.language=t.language,this.direction=t.direction,this.unitSelector=t.unitSelector,this.showSidebar=t.showSidebar,this.showLegend=t.showLegend,this.showTimeSelection=t.showTimeSelection,this.showTimeRanges=t.showTimeRanges,this.showLoadingTime=t.showLoadingTime,this.apiKey=t.apiKey,this.canUseRestricted=t.canUseRestricted,this.restrictedNotice=t.restrictedNotice,this.hash=t.hash,this.defaults=Object.assign(Fr(),t.defaults),this.autoplay=t.autoplay,this.customMenuEntries=t.customMenuEntries,this.screenshotLogoPath=t.screenshotLogoPath,this.searchBarOptions=t.searchBarOptions,this.loadingSpinner=new Ut(this.uiContainer,this.showLoadingTime),this.initialMaxBounds=this.mapboxMap.getMaxBounds(),this.fireEvent=n,this.units={temperature:Br("temperatureUnit",this.inventoryUrl)||"C",velocity:Br("velocityUnit",this.inventoryUrl)||"km/h",length:Br("lengthUnit",this.inventoryUrl)||"metric",energy:Br("energyUnit",this.inventoryUrl)||"watts"},this.thirdPartyContentAreas=new Qn({uiContainer:this.uiContainer,content:t.content,timeSelectionContainer:this.timeSelectionContainer,legendsContainer:this.legendsContainer,timeSelectionWrapper:this.timeSelectionWrapper}),this.initUi()}var t,n;return t=e,(n=[{key:"setTimeInfo",value:function(e){this.menu&&this.onMenuChange(this.menu.getMap(),this.menu.getVariant(),this.menu.getDomain().id,this.menu.getLevel().id,this.menu.getOverlays(),e)}}])&&zr(t.prototype,n),e}();function Gr(e){return function(e){if(Array.isArray(e))return Zr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Zr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(n),!0).forEach((function(t){Kr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yr(e){return Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(e)}function Jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Kr(this,"eventListeners",new Map);var n={};if("object"!==Yr(t.mapboxMap))throw Error("Please provide a reference to a Mapbox GL JS map.");if(n.mapboxMap=t.mapboxMap,"string"!=typeof t.inventory)throw Error("Please provide an inventory URL.");if(n.inventory=t.inventory,"string"!=typeof t.apiKey||t.apiKey&&"<your_api_key>"===t.apiKey)throw Error("Please provide an API key.");n.apiKey=t.apiKey;var r={downloadStyle:!1,toggleMenu:!1!==t.showSidebar,zoom:"auto"};n.controls=qr(qr({},r),t.controls),n.arrowKeys="boolean"==typeof t.arrowKeys&&t.arrowKeys,n.timezoneOffsetInSeconds="number"==typeof t.timezoneOffsetInSeconds?t.timezoneOffsetInSeconds:0,n.timezoneAbbreviation="string"==typeof t.timezoneAbbreviation?t.timezoneAbbreviation:"UTC",n.hash=void 0!==t.hash&&t.hash,n.showLoadingTime="boolean"==typeof t.showLoadingTime&&t.showLoadingTime,n.canUseRestricted="boolean"==typeof t.canUseRestricted&&t.canUseRestricted,n.showTimeRanges=void 0===t.showTimeRanges||t.showTimeRanges,void 0===t.restrictedNotice?n.restrictedNotice={content:"Access to this map is restricted."}:n.restrictedNotice=t.restrictedNotice,n.restrictedNotice.content=void 0===t.restrictedNotice?n.restrictedNotice.content:t.restrictedNotice.content,n.restrictedNotice.action=t.restrictedNotice&&"function"==typeof t.restrictedNotice.action?t.restrictedNotice.action:void 0,n.restrictedNotice.actionLabel=t.restrictedNotice&&"string"==typeof t.restrictedNotice.actionLabel?t.restrictedNotice.actionLabel:void 0,n.customMenuEntries=t.customMenuEntries,n.screenshotLogoPath="string"==typeof t.screenshotLogoPath?t.screenshotLogoPath:void 0,n.content=t.content,n.language=t.language||"en",n.direction=t.direction||"ltr",n.unitSelector="boolean"!=typeof t.unitSelector||t.unitSelector,n.showSidebar=void 0!==t.showSidebar?t.showSidebar:"auto",n.showLegend=void 0===t.showLegend||t.showLegend,n.showTimeSelection=void 0===t.showTimeSelection||t.showTimeSelection,n.defaults={},t.defaults&&(t.defaults.map&&(n.defaults.mapId=t.defaults.map),t.defaults.variant&&(n.defaults.variantId=t.defaults.variant),t.defaults.domain&&(n.defaults.domainId=t.defaults.domain),t.defaults.level&&(n.defaults.levelId=t.defaults.level),t.defaults.overlays&&(n.defaults.overlayIds=t.defaults.overlays)),n.autoplay=t.autoplay||!1,void 0===t.searchBar?n.searchBarOptions={show:!1}:n.searchBarOptions=t.searchBar,this.ui=new Vr(n,this.fireEvent.bind(this))}var t,n;return t=e,n=[{key:"on",value:function(e,t){this.eventListeners.has(e)||this.eventListeners.set(e,[]),this.eventListeners.get(e).push(t)}},{key:"off",value:function(e,t){if(this.eventListeners.has(e)){var n=this.eventListeners.get(e),r=n.indexOf(t);r>-1&&n.splice(r,1)}}},{key:"getMap",value:function(){var e=this.ui.getMenu();return e?e.getMap():void 0}},{key:"getVariant",value:function(){var e=this.ui.getMenu();return e?e.getVariant():void 0}},{key:"getOverlays",value:function(){var e,t=this.ui.getMenu(),n=(null==t?void 0:t.getOverlays())||[],r=null==t?void 0:t.getVariant().defaultOverlays,i=null===(e=this.getInventory())||void 0===e?void 0:e.overlays,o=(null==i?void 0:i.filter((function(e){return null==r?void 0:r.includes(e.id)})))||[];return[].concat(Gr(n),Gr(o))}},{key:"getLevel",value:function(){var e=this.ui.getMenu();return e?e.getLevel():void 0}},{key:"getDomain",value:function(){var e=this.ui.getMenu();return e?e.getDomain():void 0}},{key:"getDate",value:function(){return this.ui.getDate()}},{key:"getTimeInfo",value:function(){return this.ui.getTimeInfo()}},{key:"getInventory",value:function(){return this.ui.getInventory()}},{key:"setMap",value:function(e){var t=Object.freeze({mapId:"string"==typeof e?e:e.map,variantId:"string"==typeof e?void 0:e.variant,domainId:"string"==typeof e?void 0:e.domain,levelId:"string"==typeof e?void 0:e.level}),n=this.getInventory();if(void 0!==n){var r="string"==typeof t.mapId&&void 0!==Wt(t.mapId,n);if(void 0===t.mapId||r){var i="string"==typeof t.mapId?Wt(t.mapId,n):this.getMap();if(void 0!==i){var o="string"==typeof t.variantId&&i.variants.find((function(e){return e.id===t.variantId}));if(void 0===t.variantId||o){var a=i.variants.find((function(e){return e.id===t.variantId})),s=this.ui.getMenu();void 0!==s&&s.setMap({map:i,variant:a,domainId:t.domainId,levelId:t.levelId})}else console.error('The map "'.concat(i.id,'" has no variant with ID "').concat(t.variantId,'"'))}else console.error('Error while loading map with ID "'.concat(t.mapId,'"'))}else console.error('There is no map with ID "'.concat(t.mapId,'"'))}else console.error("Cannot set map. Inventory has not yet been loaded.")}},{key:"setDate",value:function(e){var t=this.getTimeInfo();if(void 0!==t){if("regular"===t.type){var n="string"==typeof e?sr(e).timestamp:e;this.ui.setDate(n)}"categories"===t.type&&this.ui.setDate(e),"timesteps"===t.type&&this.ui.setDate(e)}else console.error("Could not set date. No time info available.")}},{key:"enableOverlay",value:function(e){var t=this.getInventory();if(void 0!==t){var n=t.overlays.find((function(t){return t.id===e}));if(void 0!==n){var r=this.ui.getMenu();r&&r.enableOverlay(n)}else console.error('Overlay with ID "'.concat(e,'" not found.'))}else console.error("Cannot enable overlay. Inventory has not yet been loaded.")}},{key:"disableOverlay",value:function(e){var t=this.getInventory();if(void 0!==t){var n=t.overlays.find((function(t){return t.id===e}));if(void 0!==n){var r=this.ui.getMenu();r&&r.disableOverlay(n.id)}else console.error('Overlay with ID "'.concat(e,'" not found.'))}else console.error("Cannot disable overlay. Inventory has not yet been loaded.")}},{key:"openModal",value:function(e){this.ui.openModal(e)}},{key:"enableTooltip",value:function(){this.ui.enableTooltip()}},{key:"disableTooltip",value:function(){this.ui.disableTooltip()}},{key:"getFormattedMapValue",value:function(e){return this.ui.getTooltipContent(e)}},{key:"showTimeSelection",value:function(){this.ui.enableTimeSelection()}},{key:"hideTimeSelection",value:function(){this.ui.disableTimeSelection()}},{key:"setTimeInfo",value:function(e){this.ui.setTimeInfo(e)}},{key:"fireEvent",value:function(e,t){var n=this.eventListeners.get(e);void 0!==n&&n.forEach((function(n){n(qr({type:e},t))}))}}],n&&Jr(t.prototype,n),e}(),Qr=$r;r(6373);var ei=function(e){var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){return t.reject(n)}))}))},ti=function(e){return new this((function(t,n){if(!e||void 0===e.length)return n(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,n){if(n&&("object"==typeof n||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,(function(t){o(e,t)}),(function(n){r[e]={status:"rejected",reason:n},0==--i&&t(r)}))}r[e]={status:"fulfilled",value:n},0==--i&&t(r)}for(var a=0;a<r.length;a++)o(a,r[a])}))},ni=setTimeout,ri="undefined"!=typeof setImmediate?setImmediate:null;function ii(e){return Boolean(e&&void 0!==e.length)}function oi(){}function ai(e){if(!(this instanceof ai))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],fi(e,this)}function si(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,ai._immediateFn((function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void ci(t.promise,e)}ui(t.promise,r)}else(1===e._state?ui:ci)(t.promise,e._value)}))):e._deferreds.push(t)}function ui(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof ai)return e._state=3,e._value=t,void li(e);if("function"==typeof n)return void fi((r=n,i=t,function(){r.apply(i,arguments)}),e)}e._state=1,e._value=t,li(e)}catch(t){ci(e,t)}var r,i}function ci(e,t){e._state=2,e._value=t,li(e)}function li(e){2===e._state&&0===e._deferreds.length&&ai._immediateFn((function(){e._handled||ai._unhandledRejectionFn(e._value)}));for(var t=0,n=e._deferreds.length;t<n;t++)si(e,e._deferreds[t]);e._deferreds=null}function di(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function fi(e,t){var n=!1;try{e((function(e){n||(n=!0,ui(t,e))}),(function(e){n||(n=!0,ci(t,e))}))}catch(e){if(n)return;n=!0,ci(t,e)}}ai.prototype.catch=function(e){return this.then(null,e)},ai.prototype.then=function(e,t){var n=new this.constructor(oi);return si(this,new di(e,t,n)),n},ai.prototype.finally=ei,ai.all=function(e){return new ai((function(t,n){if(!ii(e))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){o(e,t)}),n)}r[e]=a,0==--i&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)o(a,r[a])}))},ai.allSettled=ti,ai.resolve=function(e){return e&&"object"==typeof e&&e.constructor===ai?e:new ai((function(t){t(e)}))},ai.reject=function(e){return new ai((function(t,n){n(e)}))},ai.race=function(e){return new ai((function(t,n){if(!ii(e))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=e.length;r<i;r++)ai.resolve(e[r]).then(t,n)}))},ai._immediateFn="function"==typeof ri&&function(e){ri(e)}||function(e){ni(e,0)},ai._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var pi=ai,hi=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==r.g)return r.g;throw new Error("unable to locate global object")}();"function"!=typeof hi.Promise?hi.Promise=pi:(hi.Promise.prototype.finally||(hi.Promise.prototype.finally=ei),hi.Promise.allSettled||(hi.Promise.allSettled=ti)),r(8264);var mi="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==mi&&mi,vi="URLSearchParams"in mi,gi="Symbol"in mi&&"iterator"in Symbol,yi="FileReader"in mi&&"Blob"in mi&&function(){try{return new Blob,!0}catch(e){return!1}}(),bi="FormData"in mi,Ai="ArrayBuffer"in mi;if(Ai)var xi=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],wi=ArrayBuffer.isView||function(e){return e&&xi.indexOf(Object.prototype.toString.call(e))>-1};function Di(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function Si(e){return"string"!=typeof e&&(e=String(e)),e}function Ci(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return gi&&(t[Symbol.iterator]=function(){return t}),t}function Ti(e){this.map={},e instanceof Ti?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function Ei(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function _i(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function Li(e){var t=new FileReader,n=_i(t);return t.readAsArrayBuffer(e),n}function Pi(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function Oi(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:yi&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:bi&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:vi&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Ai&&yi&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=Pi(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Ai&&(ArrayBuffer.prototype.isPrototypeOf(e)||wi(e))?this._bodyArrayBuffer=Pi(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):vi&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},yi&&(this.blob=function(){var e=Ei(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Ei(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(Li)}),this.text=function(){var e,t,n,r=Ei(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=_i(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},bi&&(this.formData=function(){return this.text().then(Mi)}),this.json=function(){return this.text().then(JSON.parse)},this}Ti.prototype.append=function(e,t){e=Di(e),t=Si(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},Ti.prototype.delete=function(e){delete this.map[Di(e)]},Ti.prototype.get=function(e){return e=Di(e),this.has(e)?this.map[e]:null},Ti.prototype.has=function(e){return this.map.hasOwnProperty(Di(e))},Ti.prototype.set=function(e,t){this.map[Di(e)]=Si(t)},Ti.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},Ti.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),Ci(e)},Ti.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),Ci(e)},Ti.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),Ci(e)},gi&&(Ti.prototype[Symbol.iterator]=Ti.prototype.entries);var Fi=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Bi(e,t){if(!(this instanceof Bi))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,i=(t=t||{}).body;if(e instanceof Bi){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Ti(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new Ti(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),Fi.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function Mi(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function Ii(e,t){if(!(this instanceof Ii))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new Ti(t.headers),this.url=t.url||"",this._initBody(e)}Bi.prototype.clone=function(){return new Bi(this,{body:this._bodyInit})},Oi.call(Bi.prototype),Oi.call(Ii.prototype),Ii.prototype.clone=function(){return new Ii(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Ti(this.headers),url:this.url})},Ii.error=function(){var e=new Ii(null,{status:0,statusText:""});return e.type="error",e};var ki=[301,302,303,307,308];Ii.redirect=function(e,t){if(-1===ki.indexOf(t))throw new RangeError("Invalid status code");return new Ii(null,{status:t,headers:{location:e}})};var Ri=mi.DOMException;try{new Ri}catch(e){Ri=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},Ri.prototype=Object.create(Error.prototype),Ri.prototype.constructor=Ri}function Ui(e,t){return new Promise((function(n,r){var i=new Bi(e,t);if(i.signal&&i.signal.aborted)return r(new Ri("Aborted","AbortError"));var o=new XMLHttpRequest;function a(){o.abort()}o.onload=function(){var e,t,r={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new Ti,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};r.url="responseURL"in o?o.responseURL:r.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;setTimeout((function(){n(new Ii(i,r))}),0)},o.onerror=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},o.ontimeout=function(){setTimeout((function(){r(new TypeError("Network request failed"))}),0)},o.onabort=function(){setTimeout((function(){r(new Ri("Aborted","AbortError"))}),0)},o.open(i.method,function(e){try{return""===e&&mi.location.href?mi.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&(yi?o.responseType="blob":Ai&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(o.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof Ti?i.headers.forEach((function(e,t){o.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){o.setRequestHeader(e,Si(t.headers[e]))})),i.signal&&(i.signal.addEventListener("abort",a),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",a)}),o.send(void 0===i._bodyInit?null:i._bodyInit)}))}Ui.polyfill=!0,mi.fetch||(mi.fetch=Ui,mi.Headers=Ti,mi.Request=Bi,mi.Response=Ii);var Ni=Qr}(),i.default}()}));